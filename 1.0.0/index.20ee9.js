window.__require=function e(t,n,o){function i(r,s){if(!n[r]){if(!t[r]){var c=r.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var p=n[r]={exports:{}};t[r][0].call(p.exports,function(e){return i(t[r][1][e]||e)},p,p.exports,e,t,n,o)}return n[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<o.length;r++)i(o[r]);return i}({Adaptive111005601:[function(e,t,n){"use strict";cc._RF.push(t,"6290bzMDGBJ9Y5twKF04vq7","Adaptive111005601");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111005601"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sc1=null,t.cs2=null,t.cz=null,t.logo=null,t.bg_di=null,t}return i(t,e),t.prototype.onLoad=function(){game.EventManager.getInstance().raiseEvent(core.GameCoreConst.mess_openBanner,{parent:this.node.getChildByName("banner")}),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_WIN_GAME,this.showChuanzhangAni,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_WIN_MORE_THAN_BET,this.playAni,this),e.prototype.resize.call(this)},t.prototype.layoutLandscape=function(){this.sc1.active=!1,this.cs2.active=!1,this.cz.active=!1,this.bg_di.active=!1,this.logo.scale=1,this.logo.setPosition(0,445,0)},t.prototype.layoutPortrait=function(){this.sc1.active=!0,this.cs2.active=!0,this.cz.active=!0,this.bg_di.active=!0,this.cz.scale=2.2,this.logo.scale=1.2,this.logo.setPosition(0,460,0)},t.prototype.showChuanzhangAni=function(e,t){var n=this;t==r.WinType.fiveEven&&(this.playAni(),this.playSound());var o="idle01";switch(t){case r.WinType.SuperWin:case r.WinType.MargeWin:case r.WinType.BigWin:case r.WinType.win:o="idle02"}"idle01"!=o&&(this.cz.getComponent(sp.Skeleton).setAnimation(0,o,!1),this.cz.getComponent(sp.Skeleton).setCompleteListener(function(){n.cz.getComponent(sp.Skeleton).setAnimation(0,"idle01",!0)}))},t.prototype.playAni=function(){slot.SoundMger.instance.playEffect("winPrize")},t.prototype.playSound=function(){slot.SoundMger.instance.playEffect("Five_Prize"),console.log("\u64ad\u653e\u4e86\u4e94\u8fde\u97f3\u6548")},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_WIN_GAME,this.showChuanzhangAni,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_WIN_MORE_THAN_BET,this.playAni,this)},a([l(cc.Node)],t.prototype,"sc1",void 0),a([l(cc.Node)],t.prototype,"cs2",void 0),a([l(cc.Node)],t.prototype,"cz",void 0),a([l(cc.Node)],t.prototype,"logo",void 0),a([l(cc.Node)],t.prototype,"bg_di",void 0),a([c],t)}(slot.BaseView);n.default=p,cc._RF.pop()},{"../GameEventName111005601":"GameEventName111005601"}],Banner111005601:[function(e,t,n){"use strict";cc._RF.push(t,"1a837zDyN9NBqgDZ5NzIzU9","Banner111005601");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./GameEventName111005601"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p_nodeBanner=null,t}return i(t,e),t.prototype.setcurrscore=function(e,t){this.p_nodeBanner.active=0!=t},t.prototype.onLoad=function(){e.prototype.onLoad.call(this),game.EventManager.getInstance().addEventListener(r.CabdyEvent.EVENT_BANNER_CTOR,this.setcurrscore,this)},t.prototype.onDestroy=function(){e.prototype.onDestroy.call(this),game.EventManager.getInstance().removeEventListener(r.CabdyEvent.EVENT_BANNER_CTOR,this.setcurrscore,this)},a([l(cc.Node)],t.prototype,"p_nodeBanner",void 0),a([c],t)}(slot.SlotBanner);n.default=p,cc._RF.pop()},{"./GameEventName111005601":"GameEventName111005601"}],BearCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"633cc/uSyhCdp4xv6uyWyIR","BearCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=e("../GameEventName111005601"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.SkeletonData=[],t}return i(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){game.EventManager.getInstance().addEventListener(l.CabdyEvent.CLEAR_BEAR_END,this.clearbear,this)},t.prototype.clearbear=function(){this.node.opacity=0},t.prototype.ChangeBearLanguage=function(e,t){0===t?e&&("zh"==slot.GData.curLanguage?e.getComponent(sp.Skeleton).setAnimation(0,"duobao_loop",!0):e.getComponent(sp.Skeleton).setAnimation(0,"duobao_loop2",!0)):e&&("zh"==slot.GData.curLanguage?(e.getComponent(sp.Skeleton).setAnimation(0,"duobao_fadein",!1),e.getComponent(sp.Skeleton).setCompleteListener(function(){"duobao_loop"!=e.getComponent(sp.Skeleton).animation&&e.getComponent(sp.Skeleton).setAnimation(0,"duobao_loop",!0)})):(e.getComponent(sp.Skeleton).setAnimation(0,"duobao_fadein2",!1),e.getComponent(sp.Skeleton).setCompleteListener(function(){"duobao_loop2"!=e.getComponent(sp.Skeleton).animation&&e.getComponent(sp.Skeleton).setAnimation(0,"duobao_loop2",!0)})))},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(l.CabdyEvent.CLEAR_BEAR_END,this.clearbear,this)},a([c([sp.SkeletonData])],t.prototype,"SkeletonData",void 0),a([s],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../GameEventName111005601":"GameEventName111005601"}],BonusGame111005601:[function(e,t,n){"use strict";cc._RF.push(t,"b43dfAaZ+dLpaKBQ+Afd607","BonusGame111005601");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111005601"),s=e("../NumAtlasLabel111005601"),c=cc._decorator,l=c.ccclass,p=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p_btn=null,t.p_circular=null,t.callBack=null,t.zh=null,t.en=null,t.th=null,t.id=null,t.sv=null,t.da=null,t.de=null,t.es=null,t.fi=null,t.fr=null,t.it=null,t.ja=null,t.ko=null,t.nl=null,t.no=null,t.pl=null,t.pt=null,t.ro=null,t.ru=null,t.tr=null,t.vi=null,t.m_time=0,t.m_isPlay=!0,t.FreeGameTimes=null,t.m_isClose=!1,t.nodeid=0,t.numTime=0,t}return i(t,e),t.prototype.onLoad=function(){var e=this;game.EventManager.getInstance().addEventListener(slot.NetSlotConst.LGACTIONRESP,this.LGACTIONRESP,this),this.node.getChildByName("btn_effect").active=!1,this.p_btn.on("click",this.startbtn,this),this.p_btn.on(cc.Node.EventType.TOUCH_END,function(){var t=e.setLangeSprite();e.p_btn.getChildByName("Background").getChildByName("sp_strt").getComponent(cc.Sprite).spriteFrame=t})},t.prototype.setLangeSprite=function(){switch(slot.GData.curLanguage){case"da":return this.da;case"de":return this.de;case"en":return this.en;case"es":return this.es;case"fi":return this.fi;case"fr":return this.fr;case"id":return this.id;case"it":return this.it;case"ja":return this.ja;case"ko":return this.ko;case"nl":return this.nl;case"no":return this.no;case"pl":return this.pl;case"pt":return this.pt;case"ro":return this.ro;case"ru":return this.ru;case"sv":return this.sv;case"th":return this.th;case"tr":return this.tr;case"vi":return this.vi;case"zh":return this.zh}return this.en},t.prototype.start=function(){this.p_btn.active=!1,this.setCircularAnimation()},t.prototype.setCircularAnimation=function(){var e=this;cc.tween(this.p_circular).to(1,{rotation:90}).call(function(){e.p_circular.active=!1,e.node.getChildByName("progress_num").active=!1,e.setBtnScale()}).start()},t.prototype.setBtnScale=function(){this.p_btn.active=!0,cc.tween(this.p_btn).to(.2,{scale:1.2}).to(.2,{scale:1}).start()},t.prototype.startbtn=function(){var e=this;this.node.getChildByName("btn_effect").active=!0,this.scheduleOnce(function(){slot.SoundMger.instance.playEffect("Free_Futton_Sound",!1)},.25),this.scheduleOnce(function(){game.EventManager.getInstance().raiseEvent(r.CabdyEvent.CLOSE_SCORE_LABLE),game.EventManager.getInstance().raiseEvent(r.CabdyEvent.FREE_GAME_START,e.FreeGameTimes),e.callBack.run(),game.UIManager.getInstance().close(e)},.5)},t.prototype.timeClose=function(){var e=this;this.node.getChildByName("btn_effect").active=!0,this.scheduleOnce(function(){slot.SoundMger.instance.playEffect("Free_Futton_Sound",!1)},.3),this.scheduleOnce(function(){game.EventManager.getInstance().raiseEvent(r.CabdyEvent.CLOSE_SCORE_LABLE),game.EventManager.getInstance().raiseEvent(r.CabdyEvent.FREE_GAME_START,e.FreeGameTimes),e.callBack.run(),game.UIManager.getInstance().close(e)},.5)},t.prototype.LGACTIONRESP=function(){var e=this;cc.tween(this).delay(.5).call(function(){e.next()}).start()},t.prototype.init=function(){this.m_time=5,this.node.opacity=255,this.m_isPlay=!0,this.m_isClose=!1,slot.SoundMger.instance.playEffect("Loading_Music",!1)},t.prototype.onOpen=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.callBack=t[0][0],this.FreeGameTimes=t[0][1].times,this.lasttimes=t[0][1].sumTimes,this.init(),this.node.getChildByName("btn_effect").active=!1,this.node.getChildByName("times").getComponent(s.default).string=""+this.FreeGameTimes},t.prototype.onClickBrideNode=function(){slot.SoundMger.instance.playEffect(r.SOUND_NAME.Fs_Start,!1),game.EventManager.getInstance().raiseEvent(r.mouseEvent.FREE_GAME_CLOSE);var e=cc.scaleTo(.2,1.1),t=cc.scaleTo(.2,1),n=cc.callFunc(function(){this.cb.run(),this.node.destroy()}.bind(this)),o=cc.sequence(e,t,n);this.bl_button.runAction(o)},t.prototype.onActionResult=function(){console.log("\u8fd4\u56de ------------------- ")},t.prototype.onDestroy=function(){e.prototype.onDestroy.call(this),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.LGACTIONRESP,this.LGACTIONRESP,this)},t.prototype.getLastActionResult=function(){return null},t.prototype.onClose=function(){},t.prototype.update=function(e){0==this.m_isClose&&(this.numTime<=1&&(this.numTime+=e),this.numTime>=1&&this.m_time>=0&&(this.numTime=0,this.m_time>=0&&0==this.m_time&&(this.timeClose(),console.log("\u7ed3\u675f\u4e86\uff0c\u7ed3\u675f\u4e86\uff0c\u9700\u8981\u4f60\u5173\u95ed\u754c\u9762")),this.m_time-=1))},t.prototype._updateTime=function(){},a([p(cc.Node)],t.prototype,"p_btn",void 0),a([p(cc.Node)],t.prototype,"p_circular",void 0),a([p(cc.SpriteFrame)],t.prototype,"zh",void 0),a([p(cc.SpriteFrame)],t.prototype,"en",void 0),a([p(cc.SpriteFrame)],t.prototype,"th",void 0),a([p(cc.SpriteFrame)],t.prototype,"id",void 0),a([p(cc.SpriteFrame)],t.prototype,"sv",void 0),a([p(cc.SpriteFrame)],t.prototype,"da",void 0),a([p(cc.SpriteFrame)],t.prototype,"de",void 0),a([p(cc.SpriteFrame)],t.prototype,"es",void 0),a([p(cc.SpriteFrame)],t.prototype,"fi",void 0),a([p(cc.SpriteFrame)],t.prototype,"fr",void 0),a([p(cc.SpriteFrame)],t.prototype,"it",void 0),a([p(cc.SpriteFrame)],t.prototype,"ja",void 0),a([p(cc.SpriteFrame)],t.prototype,"ko",void 0),a([p(cc.SpriteFrame)],t.prototype,"nl",void 0),a([p(cc.SpriteFrame)],t.prototype,"no",void 0),a([p(cc.SpriteFrame)],t.prototype,"pl",void 0),a([p(cc.SpriteFrame)],t.prototype,"pt",void 0),a([p(cc.SpriteFrame)],t.prototype,"ro",void 0),a([p(cc.SpriteFrame)],t.prototype,"ru",void 0),a([p(cc.SpriteFrame)],t.prototype,"tr",void 0),a([p(cc.SpriteFrame)],t.prototype,"vi",void 0),a([l],t)}(slot.AbstractBonusGameView);n.default=h,cc._RF.pop()},{"../GameEventName111005601":"GameEventName111005601","../NumAtlasLabel111005601":"NumAtlasLabel111005601"}],Cannon:[function(e,t,n){"use strict";cc._RF.push(t,"b8e22cy9mZJGLnGTzwLNW/t","Cannon");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p_nodeNumAn=null,t.p_nodeNumLiang=null,t.p_nodeLiang=null,t.p_nodeSprShanGuang=null,t.p_nodeFxAni=null,t.p_nodeUpShow=[],t.p_strFxAniName="",t.m_anCommonNumAtlas=null,t.m_liangCommonNumAtlas=null,t.m_isLiang=!1,t}return i(t,e),t.prototype.onLoad=function(){this.m_anCommonNumAtlas=this.p_nodeNumAn.getComponent("CommonNumAtlas111005601"),this.m_liangCommonNumAtlas=this.p_nodeNumLiang.getComponent("CommonNumAtlas111005601")},t.prototype.init=function(){this.p_nodeNumAn.active=!0,this.p_nodeNumLiang.active=!1,this.p_nodeSprShanGuang.active=!1,this.m_anCommonNumAtlas.string="",this.m_liangCommonNumAtlas.string="",this.node.scale=1},t.prototype.setOnline=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1),t?(this.p_nodeLiang.active=e,this.node.scale=e?1.1:1):this.playAction(e,n)},t.prototype.setArrCannonUp=function(e){for(var t=function(t){var o=n.p_nodeUpShow[t];o.active=e,e?(o.active=!0,o.opacity=0,cc.tween(o).to(.3,{opacity:255}).start()):(o.opacity=255,cc.tween(o).to(.3,{opacity:0}).call(function(){o.opacity=255,o.active=!1}).start())},n=this,o=0;o<this.p_nodeUpShow.length;o++)t(o)},t.prototype.playCannonUp=function(e){var t=this;this.setCommonNum(e),1==this.p_nodeLiang.active?cc.tween(this.node).to(.2,{scale:1.2}).call(function(){cc.tween(t.node).to(.2,{scale:1.1}).call(function(){t.setArrCannonUp(!1)}).start()}).start():(this.p_nodeLiang.active=!0,cc.tween(this.node).to(.3,{scale:1.2}).call(function(){cc.tween(t.node).to(.3,{scale:1}).call(function(){t.setArrCannonUp(!1)}).start()}).start(),cc.tween(this.p_nodeLiang).delay(.3).to(1,{opacity:0}).call(function(){t.p_nodeLiang.opacity=255,t.p_nodeLiang.active=!1}).start())},t.prototype.playAction=function(e,t){var n=this;void 0===t&&(t=!1),1==e?(1==this.m_isLiang&&1==t?this._playUpAni():0==this.m_isLiang&&1==t?cc.tween(this).delay(.5).call(function(){n.p_nodeLiang.active=!0,n.playLight()}).start():(this.p_nodeLiang.active=!0,this.playLight()),this.m_isLiang=!0):this.playDark(t)},t.prototype.playLight=function(){var e=this;this.p_nodeSprShanGuang.active=!0,this.p_nodeSprShanGuang.scale=.5,cc.tween(this.p_nodeSprShanGuang).to(.3,{scale:.8}).call(function(){e.p_nodeSprShanGuang.active=!1}).start();var t=cc.sequence(cc.scaleTo(.5,1.2,1.2),cc.callFunc(function(){e.p_nodeNumAn.active=!1,e.p_nodeLiang.active=!0}),cc.scaleTo(.1,1.1,1.1));this.node.runAction(t)},t.prototype._playUpAni=function(e){var t=this;this.p_nodeFxAni.active=!0,this.p_nodeFxAni.getComponent(sp.Skeleton).setAnimation(0,this.p_strFxAniName,!1),this.p_nodeFxAni.getComponent(sp.Skeleton).setCompleteListener(function(){t.p_nodeFxAni.active=!1,e&&e(),cc.tween(t.node).to(.2,{scale:1}).start()})},t.prototype.playDark=function(e){var t=this;e&&this.p_strFxAniName.length>0&&1==this.m_isLiang?this._playUpAni(function(){t.p_nodeNumAn.active=!0,t.p_nodeLiang.active=!1}):(this.p_nodeNumAn.active=!0,this.p_nodeLiang.active=!1,cc.tween(this.node).to(.2,{scale:1}).start()),this.m_isLiang=!1},t.prototype.setCommonNum=function(){},t.prototype.start=function(){},a([c(cc.Node)],t.prototype,"p_nodeNumAn",void 0),a([c(cc.Node)],t.prototype,"p_nodeNumLiang",void 0),a([c(cc.Node)],t.prototype,"p_nodeLiang",void 0),a([c(cc.Node)],t.prototype,"p_nodeSprShanGuang",void 0),a([c(cc.Node)],t.prototype,"p_nodeFxAni",void 0),a([c({type:[cc.Node]})],t.prototype,"p_nodeUpShow",void 0),a([c(cc.String)],t.prototype,"p_strFxAniName",void 0),a([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],CommonNumAtlas111005601:[function(e,t,n){"use strict";cc._RF.push(t,"4b4eeau0QVJ0qVL2hHp+KpY","CommonNumAtlas111005601");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},a([s],t)}(slot.CommonNumAtlasBase));n.default=c,cc._RF.pop()},{}],FreeGameResult:[function(e,t,n){"use strict";cc._RF.push(t,"d6e6cadh2pDRrrh49UHplWd","FreeGameResult");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111005601"),s=e("../main/CommonNumAtlas111005601"),c=cc._decorator,l=c.ccclass,p=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p_nodeMoney=null,t.p_btnDraw=null,t.zh=null,t.en=null,t.th=null,t.id=null,t.sv=null,t.da=null,t.de=null,t.es=null,t.fi=null,t.fr=null,t.it=null,t.ja=null,t.ko=null,t.nl=null,t.no=null,t.pl=null,t.pt=null,t.ro=null,t.ru=null,t.tr=null,t.vi=null,t.wordsNode=null,t.times=null,t.tw=null,t.m_isUpdate=!1,t.callBack=null,t.m_sumSpinCoin=0,t.m_sumTimes=0,t.m_money=1e3,t.m_speed=3,t.m_time=0,t}return i(t,e),t.prototype.onLoad=function(){var e=this;this.p_btnDraw.node.active=!1,this.p_btnDraw.node.on("click",this.onClickBtnDraw,this),this.node.getChildByName("effrct_bg").getComponent(cc.ParticleSystem).playOnLoad=!0,this.node.getChildByName("btn_effect").active=!1,this.node.getChildByName("cclay").on(cc.Node.EventType.TOUCH_START,function(){e.onClickEndMoney()},this),"th"==slot.GData.curLanguage&&(this.tw.scale=.8)},t.prototype.start=function(){var e=this;this.p_btnDraw.node.on(cc.Node.EventType.TOUCH_END,function(){var t=e.setLangeSprite();e.p_btnDraw.node.getChildByName("spr_tx").getComponent(cc.Sprite).spriteFrame=t},this),this.wordsNode.scale=0,cc.tween(this.wordsNode).to(.2,{scale:1.2}).to(.1,{scale:1}).start()},t.prototype.onClickEndMoney=function(){this.m_isUpdate=!1,this._setLabMoney(this.m_sumSpinCoin),this.p_btnDraw.node.active=!0},t.prototype.setLangeSprite=function(){switch(slot.GData.curLanguage){case"da":return this.da;case"de":return this.de;case"en":return this.en;case"es":return this.es;case"fi":return this.fi;case"fr":return this.fr;case"id":return this.id;case"it":return this.it;case"ja":return this.ja;case"ko":return this.ko;case"nl":return this.nl;case"no":return this.no;case"pl":return this.pl;case"pt":return this.pt;case"ro":return this.ro;case"ru":return this.ru;case"sv":return this.sv;case"th":return this.th;case"tr":return this.tr;case"vi":return this.vi;case"zh":return this.zh}},t.prototype.onOpen=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.init(),this.callBack=t[0][0],this.m_sumSpinCoin=t[0][1].sumSpinCoin,this._playLabMoney(),this.node.getChildByName("btn_effect").active=!1;var o=t[0][1].sumTimes;o&&(console.log("FreeTimes:",o),this.times.string=o+""),this.node.stopAllActions()},t.prototype.init=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.m_isUpdate=!1,this.m_time=0},t.prototype.onClickBtnDraw=function(){var e=this;this.node.getChildByName("btn_effect").active=!0,this.scheduleOnce(function(){slot.SoundMger.instance.playEffect("Free_Futton_Sound",!1)},.25),this.scheduleOnce(function(){console.log("555555555555555555",e.m_sumSpinCoin),game.EventManager.getInstance().raiseEvent(r.CabdyEvent.FREE_GAME_OVER,e.m_sumSpinCoin),game.UIManager.getInstance().close(e),slot.SoundMger.instance.stopMusic("FreeGame_Back_Music",!1),slot.SoundMger.instance.playMusic("Game_Back_Music",!0),e.callBack&&e.callBack.run()},.5)},t.prototype.timeendClose=function(){this.node.getChildByName("btn_effect").active=!0,this.scheduleOnce(function(){slot.SoundMger.instance.playEffect("Free_Futton_Sound",!1)},.25);var e=cc.delayTime(.5),t=cc.callFunc(function(){game.EventManager.getInstance().raiseEvent(r.CabdyEvent.FREE_GAME_OVER,this.m_sumSpinCoin),game.UIManager.getInstance().close(this),slot.SoundMger.instance.stopMusic("FreeGame_Back_Music",!1),slot.SoundMger.instance.playMusic("Game_Back_Music",!0),this.callBack&&this.callBack.run()}.bind(this));this.node.runAction(cc.sequence(e,t))},t.prototype._playLabMoney=function(){this._setLabMoney(0),this.m_isUpdate=!0,this.scheduleOnce(function(){slot.SoundMger.instance.playEffect("Free_Game_Settlement",!1)},.02),this.m_money=0,this.m_speed=Math.ceil(this.m_sumSpinCoin/150)},t.prototype._setLabSecond=function(){},t.prototype._setLabMoney=function(e){this.p_nodeMoney.getComponent(s.default).string=slot.SlotUtils.formatNumber(e,2)},t.prototype._playBtnDraw=function(){this.scheduleOnce(function(){slot.SoundMger.instance.playEffect("Free_Game_Settlement_Sound",!1)},.04),this.p_btnDraw.node.active=!0,cc.tween(this.p_btnDraw.node).to(.3,{scale:1.2}).to(.2,{scale:1}).start()},t.prototype.update=function(e){this.m_isUpdate&&(this.m_money<this.m_sumSpinCoin?(this.m_money+=this.m_speed,this._setLabMoney(this.m_money)):this.m_money>=this.m_sumSpinCoin&&(this.m_isUpdate=!1,this.m_money+=this.m_speed,this._setLabMoney(this.m_sumSpinCoin),slot.SoundMger.instance.stopEffect("Free_Game_Settlement"),this._playBtnDraw())),1==this.p_btnDraw.node.active&&(this.m_time+=e,this.m_time>=5&&this.timeendClose())},a([p(cc.Node)],t.prototype,"p_nodeMoney",void 0),a([p(cc.Button)],t.prototype,"p_btnDraw",void 0),a([p(cc.SpriteFrame)],t.prototype,"zh",void 0),a([p(cc.SpriteFrame)],t.prototype,"en",void 0),a([p(cc.SpriteFrame)],t.prototype,"th",void 0),a([p(cc.SpriteFrame)],t.prototype,"id",void 0),a([p(cc.SpriteFrame)],t.prototype,"sv",void 0),a([p(cc.SpriteFrame)],t.prototype,"da",void 0),a([p(cc.SpriteFrame)],t.prototype,"de",void 0),a([p(cc.SpriteFrame)],t.prototype,"es",void 0),a([p(cc.SpriteFrame)],t.prototype,"fi",void 0),a([p(cc.SpriteFrame)],t.prototype,"fr",void 0),a([p(cc.SpriteFrame)],t.prototype,"it",void 0),a([p(cc.SpriteFrame)],t.prototype,"ja",void 0),a([p(cc.SpriteFrame)],t.prototype,"ko",void 0),a([p(cc.SpriteFrame)],t.prototype,"nl",void 0),a([p(cc.SpriteFrame)],t.prototype,"no",void 0),a([p(cc.SpriteFrame)],t.prototype,"pl",void 0),a([p(cc.SpriteFrame)],t.prototype,"pt",void 0),a([p(cc.SpriteFrame)],t.prototype,"ro",void 0),a([p(cc.SpriteFrame)],t.prototype,"ru",void 0),a([p(cc.SpriteFrame)],t.prototype,"tr",void 0),a([p(cc.SpriteFrame)],t.prototype,"vi",void 0),a([p(cc.Node)],t.prototype,"wordsNode",void 0),a([p(s.default)],t.prototype,"times",void 0),a([p(cc.Node)],t.prototype,"tw",void 0),a([l],t)}(game.UIView);n.default=h,cc._RF.pop()},{"../GameEventName111005601":"GameEventName111005601","../main/CommonNumAtlas111005601":"CommonNumAtlas111005601"}],GameBg111005601:[function(e,t,n){"use strict";cc._RF.push(t,"597fcE2jUVAnZlW9rkQGMfA","GameBg111005601");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111005601"),s=e("../NumAtlasLabel111005601"),c=cc._decorator,l=c.ccclass,p=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p_nodeBg1=null,t.p_nodeBg2=null,t.p_fireeTimes=null,t.p_freetEffect=null,t.p_wintitlebg=null,t.p_lasttimessprite=null,t.p_timeseffect=null,t.p_movetimes=null,t.p_wintitlesprite=null,t.p_titlewinbg=null,t.p_titlewineffect=null,t.p_bgligthnode=null,t.p_bgligtheffect=null,t.p_title_bg1=null,t.p_title_bg2=null,t.World_Times=null,t}return i(t,e),t.prototype.onLoad=function(){game.EventManager.getInstance().addEventListener(r.CabdyEvent.FREE_GAME_START,this._onFreeGameStart,this),game.EventManager.getInstance().addEventListener(r.CabdyEvent.FREE_GAME_OVER,this._onFreeGameOver,this),game.EventManager.getInstance().addEventListener(r.CabdyEvent.EVENT_FREE_GAME_NUM,this._updateFreeGameNum,this),game.EventManager.getInstance().addEventListener(r.CabdyEvent.EVENT_ADD_FREE_GAME_NUM,this._addFreeGameNum,this),game.EventManager.getInstance().addEventListener(r.CabdyEvent.OPEN_WIN_MULTIP_EFFECT,this.openwinemultffect,this),game.EventManager.getInstance().addEventListener(r.CabdyEvent.CLOSE_WIN_MULTIP_EFFECT,this.openwineffect,this),game.EventManager.getInstance().addEventListener(r.CabdyEvent.OPEN_FREE_GAME_BANNER,this.showbanner,this),game.EventManager.getInstance().addEventListener(r.CabdyEvent.OPEN_WIN_TITLE_WORLD_TWO_MULT,this.openWintitleSprite,this),game.EventManager.getInstance().addEventListener(r.CabdyEvent.CLOSE_WIN_TITLE_WORLD_TWO_MULT,this.closeWintitleSprite,this),game.EventManager.getInstance().addEventListener(r.CabdyEvent.SET_NORAMAL_TITLEBAG,this.NormalBgChange,this),this.initview(),"th"==slot.GData.curLanguage&&(this.World_Times.scale=.8)},t.prototype.initview=function(){this.p_nodeBg2.active=!1,this.p_wintitlesprite.active=!1,this.p_titlewinbg.active=!1,this.p_titlewineffect.active=!1,this.p_bgligtheffect.active=!1,this.p_title_bg1.active=!0,this.p_title_bg2.active=!1},t.prototype._onFreeGameStart=function(e,t){this.p_nodeBg1.active=!1,this.p_nodeBg2.active=!0,this.p_wintitlebg.active=!1,this.p_freetEffect.active=!1,this.p_lasttimessprite.active=!1,this.p_timeseffect.active=!1,this.p_movetimes.active=!1,this.p_wintitlesprite.active=!0,this.p_bgligthnode.active=!0,this.p_fireeTimes.active=!0,game.EventManager.getInstance().raiseEvent(r.CabdyEvent.EVENT_BANNER_CTOR,0),this.p_fireeTimes.getChildByName("times").getComponent(s.default).string=""+t;var n=slot.MainView.instance.node.getChildByName("gameControPrefab");slot.MainView.instance.node.getChildByName("menu").active=!1,n.opacity=0,slot.MainView.instance.node.getChildByName("scorePrefab").y=-640},t.prototype._onFreeGameOver=function(){this.p_nodeBg1.active=!0,this.p_nodeBg2.active=!1,this.p_wintitlesprite.active=!1;var e=slot.MainView.instance.node.getChildByName("gameControPrefab");slot.MainView.instance.node.getChildByName("menu").active=!0,e.opacity=255,slot.MainView.instance.node.getChildByName("scorePrefab").y=-392,this.p_fireeTimes.getChildByName("times").getComponent(s.default).string="10"},t.prototype._updateFreeGameNum=function(e,t){var n=t<=0;this.p_fireeTimes.active=!n,this.p_lasttimessprite.active=n,this.p_fireeTimes.getChildByName("times").getComponent(s.default).string=""+t},t.prototype._addFreeGameNum=function(e,t){var n=Number(this.p_fireeTimes.getChildByName("times").getComponent(s.default).string);if(n<t){var o=t-n;this.p_timeseffect.active=!0;for(var i=0,a=this.p_movetimes.getPosition(),r=0;r<o;r++){var c=cc.delayTime(i),l=cc.callFunc(function(){var e=this;n+=1,this.p_movetimes.getComponent(s.default).string=""+n,this.p_movetimes.active=!0,cc.tween(this.p_movetimes).to(.1,{position:new cc.Vec3(a.x,a.y-80)}).call(function(){e.p_movetimes.active=!1,e.p_movetimes.x=a.x,e.p_movetimes.y=a.y,e.p_fireeTimes.getChildByName("times").getComponent(s.default).string=""+n}).start()}.bind(this));this.node.runAction(cc.sequence(c,l)),i+=.3}}else this.p_fireeTimes.getChildByName("times").getComponent(s.default).string=""+t},t.prototype.openwinemultffect=function(){console.log("yyyyyyyyyyyyyyyyyy"),this.p_wintitlesprite.active=!1,this.p_titlewinbg.active=!0,this.p_titlewineffect.getComponent(sp.Skeleton).setAnimation(0,"win2",!1),this.p_bgligthnode.active=!1,this.p_bgligtheffect.active=!0,this.p_bgligtheffect.getComponent(sp.Skeleton).setAnimation(0,"bt_ligth_loop",!1)},t.prototype.openwineffect=function(){console.log("xxxxxxxxxxxxxxxxxxxx"),this.p_wintitlesprite.active=!1,this.p_titlewinbg.active=!1,this.p_titlewineffect.active=!1,this.p_bgligthnode.active=!1,this.p_bgligtheffect.active=!0,this.p_bgligtheffect.getComponent(sp.Skeleton).setAnimation(0,"bt_light_loop",!1)},t.prototype.showbanner=function(){this.p_wintitlesprite.active=!0,this.p_bgligthnode.active=!0,this.p_titlewinbg.active=!1,this.p_bgligtheffect.active=!1},t.prototype.hidebannr=function(){this.p_wintitlesprite.active=!1},t.prototype.openWintitleSprite=function(){this.p_wintitlesprite.active=!0,this.p_titlewinbg.active=!1},t.prototype.closeWintitleSprite=function(){this.p_wintitlesprite.active=!1},t.prototype.NormalBgChange=function(e,t){1==t?(this.p_title_bg1.active=!0,this.p_title_bg2.active=!1):(this.p_title_bg1.active=!1,this.p_title_bg2.active=!0)},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.CabdyEvent.FREE_GAME_START,this._onFreeGameStart,this),game.EventManager.getInstance().removeEventListener(r.CabdyEvent.FREE_GAME_OVER,this._onFreeGameOver,this),game.EventManager.getInstance().removeEventListener(r.CabdyEvent.EVENT_FREE_GAME_NUM,this._updateFreeGameNum,this),game.EventManager.getInstance().removeEventListener(r.CabdyEvent.EVENT_ADD_FREE_GAME_NUM,this._addFreeGameNum,this),game.EventManager.getInstance().removeEventListener(r.CabdyEvent.OPEN_WIN_MULTIP_EFFECT,this.openwinemultffect,this),game.EventManager.getInstance().removeEventListener(r.CabdyEvent.CLOSE_WIN_MULTIP_EFFECT,this.openwineffect,this),game.EventManager.getInstance().removeEventListener(r.CabdyEvent.OPEN_FREE_GAME_BANNER,this.showbanner,this),game.EventManager.getInstance().removeEventListener(r.CabdyEvent.OPEN_WIN_TITLE_WORLD_TWO_MULT,this.openWintitleSprite,this),game.EventManager.getInstance().removeEventListener(r.CabdyEvent.CLOSE_WIN_TITLE_WORLD_TWO_MULT,this.closeWintitleSprite,this),game.EventManager.getInstance().removeEventListener(r.CabdyEvent.SET_NORAMAL_TITLEBAG,this.NormalBgChange,this)},a([p(cc.Node)],t.prototype,"p_nodeBg1",void 0),a([p(cc.Node)],t.prototype,"p_nodeBg2",void 0),a([p(cc.Node)],t.prototype,"p_fireeTimes",void 0),a([p(cc.Node)],t.prototype,"p_freetEffect",void 0),a([p(cc.Node)],t.prototype,"p_wintitlebg",void 0),a([p(cc.Node)],t.prototype,"p_lasttimessprite",void 0),a([p(cc.Node)],t.prototype,"p_timeseffect",void 0),a([p(cc.Node)],t.prototype,"p_movetimes",void 0),a([p(cc.Node)],t.prototype,"p_wintitlesprite",void 0),a([p(cc.Node)],t.prototype,"p_titlewinbg",void 0),a([p(cc.Node)],t.prototype,"p_titlewineffect",void 0),a([p(cc.Node)],t.prototype,"p_bgligthnode",void 0),a([p(cc.Node)],t.prototype,"p_bgligtheffect",void 0),a([p(cc.Node)],t.prototype,"p_title_bg1",void 0),a([p(cc.Node)],t.prototype,"p_title_bg2",void 0),a([p(cc.Node)],t.prototype,"World_Times",void 0),a([l],t)}(slot.BaseView);n.default=h,cc._RF.pop()},{"../GameEventName111005601":"GameEventName111005601","../NumAtlasLabel111005601":"NumAtlasLabel111005601"}],GameEventName111005601:[function(e,t,n){"use strict";cc._RF.push(t,"ca65fGvksNAQrdlFI+FdLPW","GameEventName111005601"),Object.defineProperty(n,"__esModule",{value:!0}),n.CabdyEvent=n.mouseEvent=n.SOUND_NAME=n.SetScatterType=n.RoleAniType=n.WinType=n.EventName=void 0,function(e){e.EVENT_WIN_GAME="EVENT_WIN_GAME",e.EVENT_UPDATE_MULTIPLE="EVENT_UPDATE_MULTIPLE",e.EVENT_UPDATE_MULTIPLE_NUM="EVENT_UPDATE_MULTIPLE_NUM",e.EVENT_CONTINUE_REWARD="EVENT_CONTINUE_REWARD",e.EVENT_CONTINUE_REWARD_END="EVENT_CONTINUE_REWARD_END",e.FREE_GAME_START="FREE_GAME_START",e.FREE_GAME_OVER="FREE_GAME_OVER",e.EVENT_FREE_GAME_NUM="EVENT_FREE_GAME_NUM",e.EVENT_ADD_FREE_GAME_NUM="EVENT_ADD_FREE_GAME_NUM",e.EVENT_PLAY_WIN_NUM_BEGIN="EVENT_PLAY_WIN_NUM_BEGIN",e.EVENT_STOP_WIN_NUM="EVENT_STOP_WIN_NUM",e.EVENT_PLAY_ROLE_ANI="EVENT_PLAY_ROLE_ANI",e.EVENT_PLAY_SCORE_ANI="EVENT_PLAY_SCORE_ANI",e.EVENT_FLUSH_CURR_SORCE="EVENT_FLUSH_CURR_SORCE",e.EVENT_SET_CLEAR_NODE_SCORE="EVENT_SET_CLEAR_NODE_SCORE"}(n.EventName||(n.EventName={})),function(e){e.SuperWin="SuperWin",e.MargeWin="MargeWin",e.BigWin="BigWin",e.Lose="Lose",e.win="win",e.fiveEven="fiveEven",e.wild="wild"}(n.WinType||(n.WinType={})),function(e){e[e.Random=1]="Random",e[e.Multiplier=2]="Multiplier",e[e.WinMedium=3]="WinMedium",e[e.WinSmall=4]="WinSmall",e[e.FastSpinIdle=5]="FastSpinIdle"}(n.RoleAniType||(n.RoleAniType={})),function(e){e[e.Rocket=9]="Rocket",e[e.Chocolates=10]="Chocolates",e[e.Cabdy=11]="Cabdy"}(n.SetScatterType||(n.SetScatterType={})),function(e){e.FreeGame_Back_Music="FreeGame_Back_Music",e.Free_Game_Settlement="Free_Game_Settlement",e.Free_Game_Settlement_End="Free_Game_Settlement_End",e.Wild_Expectation_Drop="Wild_Expectation_Drop",e.Wild_Expectation_Beat="Wild_Expectation_Beat",e.Wild_Expectation="Wild_Expectation",e.Free_Start_Sound="Free_Start_Sound",e.Free_Start_Appear="Free_Start_Appear",e.Free_Add_Sym="Free_Add_Sym",e.Free_Add="Free_Add",e.Role_Move="Role_Move",e.Role_Win_Move="Role_Win_Move",e.Mtp_Effect="Mtp_Effect",e.Mtp_Appear="Mtp_Appear",e.Symbol_Prize="Symbol_Prize",e.Textbox_01="Textbox_01",e.Textbox_Coin="Textbox_Coin",e.Textbox_02="Textbox_02",e.Fs_Mg_Prize="Fs_Mg_Prize",e.Reel_Stop="Reel_Stop",e.Reel_Stop_Quick="Reel_Stop_Quick",e.Fs_Start="Fs_Start",e.Prize_Big="Prize_Big",e.Prize_Big_End="Prize_Big_End",e.Symbol_Explode="Symbol_Explode",e.Reel_Click="Reel_Click"}(n.SOUND_NAME||(n.SOUND_NAME={})),function(e){e.GET_REWARD_AND_POP_TIME="GET_REWARD_AND_POP_TIME",e.GET_REWARD_BOARD_CALL="GET_REWARD_BOARD_CALL",e.GET_REWARD_BEFOR="GET_REWARD_BEFOR",e.INIT_TO_FREE_GAME="INIT_TO_FREE_GAME",e.FREE_GAME_CLOSE="FREE_GAME_CLOSE",e.INIT_MOUSE_MOVE_POS="INIT_MOUSE_MOVE_POS",e.INIT_MOUSE_MOVE_POS_REWARD="INIT_MOUSE_MOVE_POS_REWARD",e.MOUSE_MOVE_POS="MOUSE_MOVE_POS",e.CLEAR_MOUSE_MOVE="CLEAR_MOUSE_MOVE",e.SEVER_DATA_INIT="SEVER_DATA_INIT",e.ANIMATION_STOP_CALL_BACK="ANIMATION_STOP_CALL_BACK",e.NORMAL_RECONNECTION_DATA="NORMAL_RECONNECTION_DATA",e.FREE_RECONNECTION_DATA="FREE_RECONNECTION_DATA",e.ROLL_ANI_START="ROLL_ANI_START",e.ROLL_ANI_START_WHO="ROLL_ANI_START_WHO",e.ROLL_ANI_END="ROLL_ANI_END",e.FREE_GAME_ADD_TIME="FREE_GAME_ADD_TIME",e.ROLL_END_CALL_BACK="ROLL_END_CALL_BACK",e.MOUSE_MOVE_END="MOUSE_MOVE_END",e.MOUSE_BIG_MOVE_END="MOUSE_BIG_MOVE_END",e.OPACITY_END="OPACITY_END",e.GET_RAWARD_FOOD="GET_RAWARD_FOOD",e.GET_REWARD_BEGAN="GET_REWARD_BEGAN",e.GET_FREE_REWARD_BEGAN_MOUSE_BG="GET_FREE_REWARD_BEGAN_MOUSE_BG",e.PLAY_BURST_ANI_BEGAN="PLAY_BURST_ANI_BEGAN",e.PLAY_ROLL_ANI_BEGAN="PLAY_ROLL_ANI_BEGAN",e.PLAY_ROLL_ANI_END="PLAY_ROLL_ANI_END",e.ROLL_END_STEP_TASK="ROLL_END_STEP_TASK",e.NOT_HAVE_MONY_OPEN_ROLL="NOT_HAVE_MONY_OPEN_ROLL"}(n.mouseEvent||(n.mouseEvent={})),function(e){e.EVENT_SET_CLEAR_NODE_SCORE="EVENT_SET_CLEAR_NODE_SCORE",e.EVENT_ACCEPT_NETWORK_DATA="EVENT_ACCEPT_NETWORK_DATA",e.EVENT_CLEAR_SCORE_NODE="EVENT_CLEAR_SCORE_NODE",e.EVENT_BANNER_CTOR="EVENT_BANNER_CTOR",e.EVENT_SET_TOTLE_SCORE_LABLE="EVENT_SET_TOTLE_SCORE_LABLE",e.EVENT_CREAT_SCATTER_BAR="EVENT_CREAT_SCATTER_BAR",e.EVENT_GUNZHOU_SPINCOMPLETE="EVENT_GUNZHOU_SPINCOMPLETE",e.EVENT_GUNZHOU_SPINSTART="EVENT_GUNZHOU_SPINSTART",e.EVENT_JUDGE_COMBINATION="EVENT_JUDGE_COMBINATION",e.EVENT_CHANGE_IMAGE="EVENT_CHANGE_IMAGE",e.EVENT_CHANGE_IMAGE_ID="EVENT_CHANGE_IMAGE_ID",e.FREE_GAME_START="FREE_GAME_START",e.FREE_GAME_OVER="FREE_GAME_OVER",e.EVENT_FREE_GAME_NUM="EVENT_FREE_GAME_NUM",e.EVENT_ADD_FREE_GAME_NUM="EVENT_ADD_FREE_GAME_NUM",e.ROLL_END_STEP_TASK="ROLL_END_STEP_TASK",e.OPEN_WIN_MULTIP_EFFECT="OPEN_WIN_MULTIP_EFFECT",e.CLOSE_WIN_MULTIP_EFFECT="CLOSE_WIN_MULTIP_EFFECT",e.OPEN_FREE_GAME_BANNER="OPEN_FREE_GAME_BANNER",e.CLOSE_FREE_GAME_BANNER="CLOSE_FREE_GAME_BANNER",e.CLOSE_SCORE_LABLE="CLOSE_SCORE_LABLE",e.FREEGAME_NETWORK_STATE="FREEGAME_NETWORK_STATE",e.OPEN_WIN_TITLE_WORLD_TWO_MULT="OPEN_WIN_TITLE_WORLD_TWO_MULT",e.CLOSE_WIN_TITLE_WORLD_TWO_MULT="OPEN_WIN_TITLE_WORLD_TWO_MULT",e.CLOSE_FREEGAME_END_TOTLE_SCORE="CLOSE_FREEGAME_END_TOTLE_SCORE",e.INIT_BEAR_POS="INIT_BEAR_POS",e.SET_BANNER_SCORE="SET_BANNER_SCORE",e.SET_NORAMAL_TITLEBAG="SET_NORAMAL_TITLEBAG",e.CLEAR_BEAR_END="CLEAR_BEAR_END",e.EVENT_CHANGE_CANDY_SHOW_IMAGE="EVENT_CHANGE_CANDY_SHOW_IMAGE",e.EVENT_LACK_GOLD_CLEAR_BEAR="EVENT_LACK_GOLD_CLEAR_BEAR",e.EVENT_CLEAR_BEAR_CALLBACK="EVENT_CLEAR_BEAR_CALLBACK",e.EVENT_SHOW_BEAR="EVENT_SHOW_BEAR"}(n.CabdyEvent||(n.CabdyEvent={})),cc._RF.pop()},{}],GameLayer111005601:[function(e,t,n){"use strict";cc._RF.push(t,"03dfd0k2WFPcJVsFSNgFaM+","GameLayer111005601");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../bonusGame/BonusGame111005601"),s=e("../freeGameResult/FreeGameResult"),c=e("../GameEventName111005601"),l=e("../main/Main111005601"),p=e("../tool/Tool"),h=e("./scrollerSkins/JTChildManager111005601"),u=e("./scrollerSkins/JTLayerManager111005601"),d=e("./scrollerSkins/JTLogicFactroy111005601"),_=cc._decorator,f=_.ccclass,g=_.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rollPushMarsk=null,t.rollPushMarsk0=null,t.rollMarskRed=null,t.winTimesView=null,t.ui_effecLayer=null,t.bigWinLayerIsThat=!1,t.scatterDopGapTime=.1,t.scatterDopWaitTime=.1,t.freeGameTimes=null,t.freeGameTimesState=!1,t.m_isFreeGameStatus=!1,t.m_arrCannonNum={5:[6,12,18,40],10:[3,6,9,20],20:[1,2,3,5]},t.m_isChufaFree=!1,t.stepTaskCallBcak=null,t.scatterTask=null,t.wildTask=null,t.scroller=null,t.m_isRunning=!1,t.m_scatterTask=[!1,!1,!1,!1,!1,!1],t.removeIndex=-1,t.protectedLastFreeAdd=null,t.specialElemGridPieceList=[],t.curMoney=0,t.count=-1,t.isAddBigWinCoin=!0,t.curr_gold=null,t.addMarskTime=!0,t.curr_proto_data=null,t._spinAniViews=[],t.dailyTime=0,t.cb=null,t.freeGameInfo=null,t.FreeGameNetWordState=!1,t.bounsGamePrefab=null,t.bounsGamePrefabNode=null,t.freeGameResultPrefab=null,t.freeGameResultNode=null,t.changeScattOrWildCache={},t}return i(t,e),t.prototype.onLoad=function(){slot.SlotConfigManager.instance.registerJPTypes(3),e.prototype.onLoad.call(this),console.log("game111005601 onload",this.node),game.EventManager.getInstance().addEventListener(slot.NetSlotConst.SPINRESP,this._onRollingResp,this),game.EventManager.getInstance().addEventListener(slot.NetSlotConst.RESTORERESP,this.setMousePos,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_UPDATE_WIN_ANI_END,this.winAniEnd,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_BIGWIN_TEXT_SHOW,this.winAniStart,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_SHOW,this.reelClick,this),game.EventManager.getInstance().addEventListener(c.CabdyEvent.ROLL_END_STEP_TASK,this.stepTask,this),game.EventManager.getInstance().addEventListener(c.mouseEvent.MOUSE_BIG_MOVE_END,this.onScrollerStartComplete,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_UPDATE_COIN_SCROLLER_END,this.callBackSuperOver,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this.event_stop_slot_machine_immediately,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_AUTO_TIMES_CHANGED,this.autotimes,this);var t=slot.MainView.instance.node.getChildByName("menu");t&&t.getChildByName("menuBtn")&&(t.getChildByName("menuBtn").y=-500)},t.prototype.onDestroy=function(){this.dispose(),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.SPINRESP,this._onRollingResp,this),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.RESTORERESP,this.setMousePos,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_BIGWIN_TEXT_SHOW,this.winAniStart,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_UPDATE_WIN_ANI_END,this.winAniEnd,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_SHOW,this.reelClick,this),game.EventManager.getInstance().removeEventListener(c.mouseEvent.MOUSE_BIG_MOVE_END,this.onScrollerStartComplete,this),game.EventManager.getInstance().removeEventListener(c.CabdyEvent.ROLL_END_STEP_TASK,this.stepTask,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_UPDATE_COIN_SCROLLER_END,this.callBackSuperOver,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this.event_stop_slot_machine_immediately,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_AUTO_TIMES_CHANGED,this.autotimes,this)},t.prototype.autotimes=function(){},t.prototype.start=function(){this.rollPushMarsk.active=!1,slot.EntranceView.instance.node.getChildByName("spr_bg2"),game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_UPDATE_MULTIPLE_NUM,this.m_arrCannonNum[20]),game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_UPDATE_MULTIPLE,[1,0,0,0],!0),game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_FLUSH_CURR_SORCE,1),this.winTimesView.active=!1},t.prototype.stepTask=function(e,t){this.showScatterRoWildAni(),1==slot.GameControlBase.instance.fastBtnState?this.scheduleOnce(function(){t.run()},.4):this.freeGameTimesState?(this.scheduleOnce(function(){t.run()},3),this.freeGameTimesState=!1):t.run()},t.prototype.reelClick=function(e,t,n,o,i,a){9!=t&&8!=t||(n>28?a.getChildByName("bg").x+=20:a.getChildByName("bg").x-=20)},t.prototype.onInit=function(){slot.SpinManager.instance.isFullLineAvailable=!1,this._initSlotMachineView(),console.log("oninit"),slot.SpinManager.customResultCallBack=function(){return console.log("\u7cd6\u679c\u6d88\u9664\u7c7b\u578b\uff08\u9002\u7528\u4e8e\u6d88\u9664\u7c7b)----------------:",slot.SpinManager.instance.customUpdateData),slot.SpinManager.instance.customUpdateData.game_10017.data.resultList}},t.prototype.onInitScroller=function(e){var t=this,n=this.scroller=e.scroller,o=slot.SlotConfigManager.instance.DataGame.getData(slot.SlotConfigManager.instance.gameID);n.setupFactory(new u.default,new h.default,new d.default),slot.JTDefaultItemRender.setPlayCoinIndex(2,7);var i=n.options(slot.JTEliminatePipeline,slot.JTScrollerGroup.USE_CONVERT_MROE_LIST,o.column,e.scrollingComplete);i.childOption(slot.JTCreateScrolling,slot.JTOptionType.OPTION_CREATE),i.childOption(slot.JTBeginScrolling,slot.JTOptionType.OPTION_BEGIN_RUNNING,e.beginScrolling),i.childOption(slot.JTRunScrolling,slot.JTOptionType.OPTION_RUNNING,e.onSpinPreStop),i.childOption(slot.JTOverScrollEliminate,slot.JTOptionType.OPTION_OVER_RUNNING,e.scrollingProgress),n.setupDefaultItemList(this.getSourceList,slot.SlotConfigManager.instance.DataElement.getKeys(),!1),slot.JTDefaultItemRender.setPlayCoinIndex(1,7);var a=this;slot.EliminateEffectUtils.elePlayAni=slot.Handler.create(this,this.playPrizeAni,[],!1),this.scatterTask=new slot.JTScatterTask,this.scatterTask.callScatterComplete=function(e){if(a.m_scatterTask[e.index]){var t=p.default.getPosByOtherNode(e.skinLoader,a.rollPushMarsk.parent);a.rollPushMarsk0.x=t.x+10,a.rollPushMarsk0.y=t.y+30,a.rollPushMarsk0.active=!0,a.setSpineAnimation(a.rollPushMarsk0.getComponent(sp.Skeleton),"jiasu_over",!1,slot.Handler.create(a,function(){}))}p.default.getAllDataInRoller().forEach(function(e){e.closeMarsk()}),a.rollPushMarsk.active=!1}.bind(this),this.scatterTask.config(12,2,"30-55-1",0,1e3,null,!0,null,function(e){e.skinLoader.y=-400,e.skinLoader.x=e.x+50,e.skinLoader.scaleX=1.5,e.skinLoader.scaleY=1.6;var n=p.default.getPosByOtherNode(e.skinLoader,t.rollPushMarsk.parent);t.rollPushMarsk.x=n.x+10,t.rollPushMarsk.y=n.y+30,t.rollPushMarsk.active=!0,slot.SoundMger.instance.playEffect("Reel_Quick",!1),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_GAMECONTROL_ALL_BTN_CLICK,!1),t.m_scatterTask[e.index]=!0},slot.JTScatterTask.ITEM_COUNT_MODE,null,!1,!0),n.registerTask(slot.JTRuleTaskManager.TYPE_SCATTER,this.scatterTask,new slot.JTTaskContainer)},t.prototype.setSpineAnimation=function(e,t,n,o){e.setAnimation(0,t,n)&&!n&&e.setCompleteListener(function(){e.setCompleteListener(null),o&&o.run()})},t.prototype.playRollAllAniTopAni=function(){for(var e=p.default.getLineDataByResp(p.default.totalEliminateTime-1),t=0;t<e.length;t++){var n=e[t];this.rollAllAniTop.getChildByName("rollAniTop"+n)&&(this.rollAllAniTop.getChildByName("rollAniTop"+n).opacity=255)}},t.prototype.event_stop_slot_machine_immediately=function(){this.m_isRunning=!1},t.prototype.playPrizeAni=function(e,t,n,o){game.EventManager.getInstance().raiseEvent(c.CabdyEvent.EVENT_CREAT_SCATTER_BAR,5),this.playGoldAni(e,t,n,o),this.curr_proto_data.state},t.prototype.playGoldAni=function(e,t,n,o){if(this.changeItemAni(e,t,n,o),this.curMoney=Number(o.curSpinCoin),this.m_isFreeGameStatus)game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_UPDATE_WINSCORE,o.curSpinCoin,!0,!0,null);else{var i=slot.PlayerManager.instance.showCoin,a=i+this.curMoney;console.log("kkkkkkkkkkkkkkkkkkk",i,a,this.curMoney),slot.PlayerManager.instance.syncShowingCoin(Number(a)),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_UPDATE_WINSCORE,this.curMoney,!1,!0,null,null,!0)}},t.prototype.byInedxToyleElimintaedata=function(e){var t=this.curr_proto_data.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult){this.specialElemGridPieceList=[];var n=t[e].specialElemGridPieceList;return this.specialElemGridPieceList=n,n}},t.prototype.getElimintaedatapsolist=function(){var e=this.specialElemGridPieceList,t=[];e||(e=[]);for(var n=0;n<e.length;n++)if(e[n]&&e[n].posList)for(var o=0;o<e[n].posList.length;o++)t.push(e[n].posList[o]-1);return t},t.prototype.JudgGrideISaddbg=function(e){var t=this.getElimintaedatapsolist();if(t&&t.length&&0!=t.length){for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1}},t.prototype.getSpecialElimintaedata=function(e){var t=this.curr_proto_data.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult)return t[e].triggerSpecialElemGrid},t.prototype.getElimintRemovedata=function(e){var t=this.curr_proto_data.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult)return t[e].removePos},t.prototype.getElimintRemoveChangeGirde=function(e){var t=this.curr_proto_data.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult)return t[e].spinResult.gridChanged},t.prototype.changeItemAni=function(e,t,n,o){var i=this,a=this.byInedxToyleElimintaedata(p.default.totalEliminateTime),r=this.getSpecialElimintaedata(p.default.totalEliminateTime),s=this.getElimintRemovedata(p.default.totalEliminateTime);console.log("\u6d88\u9664\u7684\u6570\u636e",e,s,p.default.totalEliminateTime);var l=.8;if(game.EventManager.getInstance().raiseEvent(c.CabdyEvent.EVENT_SET_CLEAR_NODE_SCORE,p.default.totalEliminateTime),console.log("\u6bcf\u6b21\u6d88\u9664\u961f\u5217\u7684\u6570\u636e",r,a,s,p.default.totalEliminateTime),r&&r.length)r&&r.length&&(l=3==r.length?5:4==r.length?5:5==r.length?5.5:6==r.length?5:2==r.length?11==r[0].elem&&9==r[1].elem||9==r[0].elem&&11==r[1].elem?2:11==r[0].elem&&10==r[1].elem||10==r[0].elem&&11==r[1].elem?3:11==r[0].elem&&11==r[1].elem||11==r[0].elem&&11==r[1].elem?1.7:1.4:10==r[0].elem?1:11==r[0].elem?1.8:1.4,game.EventManager.getInstance().raiseEvent(c.CabdyEvent.EVENT_JUDGE_COMBINATION,p.default.totalEliminateTime));else{(a&&a.length&&a.length>0||r&&r.length)&&game.EventManager.getInstance().raiseEvent(c.CabdyEvent.EVENT_JUDGE_COMBINATION,p.default.totalEliminateTime),s||(s=[]);for(var h=function(e){var t=u.JudgGrideISaddbg(s[e]),n=slot.SlotMachineView.instance.scroller.getRenderByIndex(s[e]+1);if(n)if(t){n.addLightBg(!0);var o=cc.delayTime(l-.05),i=cc.callFunc(function(){n.setLightBgOpacity(0)}.bind(u));u.node.runAction(cc.sequence(o,i))}else n.addEffectNeighbor(),n.addLightBg(!1),o=cc.delayTime(l-.05),i=cc.callFunc(function(){n.playAnimaiton(n.data)}.bind(u)),u.node.runAction(cc.sequence(o,i));else console.error("\u51fa\u9519\u4e86\u6ca1\u627e\u5230\u8282\u70b9")},u=this,d=0;d<s.length;d++)h(d);slot.SoundMger.instance.playEffect("Disappearwheel",!1),game.EventManager.getInstance().raiseEvent(c.mouseEvent.GET_REWARD_BEGAN);var _=p.default.drawLineDataHandle(p.default.totalEliminateTime);if(null==_)return;for(var f=0;f<_.length;f++){var g=_[f];for(d=0;d<g.length;d++){var m=g[d];m[0].addLineToNode(m)}}}cc.tween(this).delay(l).call(function(){for(var n=0;n<o.lineResult.length;n++)i.slotMachine.scroller.lineParser.showLine(o.lineResult[n].lineId,!1);console.log("\u67e5\u770b\u5f53\u524d\u961f\u5217\u6709\u51e0\u4e2a\u6d88\u9664\u7684\u8282\u70b9",e,s),i.elePlayAni(e,t,p.default.totalEliminateTime,a,r,s)}).start(),this.hasFreeGame,p.default.eliminateTime++,p.default.totalEliminateTime++},t.prototype.elePlayAni=function(e,t,n,o,i,a){game.EventManager.getInstance().raiseEvent(c.CabdyEvent.EVENT_CLEAR_SCORE_NODE,n),game.EventManager.getInstance().raiseEvent(c.CabdyEvent.SET_BANNER_SCORE,n);for(var r=0;r<e.length;r++){var s=e[r];s.OpenEliminate(),s.addNodeScaleEffect(),s.skinLoader.url=null}t.run(),slot.SoundMger.instance.playEffect("Element_pattern_falling_sound_effect",!1);var l=cc.delayTime(.85),h=cc.callFunc(function(){game.EventManager.getInstance().raiseEvent(c.CabdyEvent.EVENT_GUNZHOU_SPINCOMPLETE,1,n)}.bind(this));if(this.node.runAction(cc.sequence(l,h)),o&&o.length);else if(i&&i.length){for(var u=[],d=[],_=a,f=0;f<_.length;f++)u.push(_[f]+1);d.push(u);for(var g=p.default.getMoveDataByElimintaion(d),m=0;m<g.length;m++)g[m].render.addRendEffectNeighbor(g[m].type)}else cc.tween(this).delay(.02).call(function(){for(var e=p.default.respDataHandle(),t=0;t<e.length;t++)e[t].render.addRendEffectNeighbor(e[t].type)}).start()},t.prototype.geteliminateTimes=function(){var e=this.curr_proto_data.updateList[0].value.handleState.game_10017.data.resultList;return e&&e.length&&e.length>0?e.length-1:null},t.prototype.getFreegameTimes=function(){if(this.curr_proto_data&&this.curr_proto_data.updateList[12])return this.curr_proto_data.updateList[12].value.times},t.prototype._initSlotMachineView=function(){slot.EliminateEffectUtils.setup(1500,.12,.08,.1,.8,.1,slot.EliminateDisappearUtils.disappearTime,slot.EliminateDisappearUtils.disappreaDelayTime,.01,this.scatterDopGapTime,this.scatterDopWaitTime),this.slotMachine.spaceX=0,this.slotMachine.spaceY=0,this.slotMachine.gridWidth=123,this.slotMachine.gridHeight=123,this.slotMachine.afterRender(this,this._rederAfter),this.slotMachine.onItemRender(this,this._onSpinSlotRender),this._registerSlotMachineAnimation()},t.prototype.setMousePos=function(e,t){p.default.respData=t,this.curr_gold=t.userInfo.balance.low,console.log("ywb",t);var n=t.state.normalData.spinInfo.spinResult.grid;game.EventManager.getInstance().raiseEvent(c.CabdyEvent.INIT_BEAR_POS,n)},t.prototype.mouseAddInScroll=function(){},t.prototype._rederAfter=function(){slot.SpinManager.instance.spinTouchEnable=!0,this.addMarskTime&&(this.rollMarskRed.parent=slot.SlotMachineView.instance.scroller.elementBlackGround,this.rollMarskRed.active=!0,this.addMarskTime=!1);for(var e=p.default.getAllDataInRoller(),t=0;t<e.length;t++)e[t]._showFrameAniView(slot.SlotMachineView.instance,t);this.initRenderState()},t.prototype.initRenderState=function(){p.default.respData||(p.default.respData=slot.SpinManager.instance.rollingResult),slot.SlotMachineView._instance.scroller.renders.length;for(var e=null,t=slot.SpinManager.instance.rollingResult.spinResult.gridChanged,n=0;n<t.length;n++)9==t[n]&&(e={pos:n+1,elem:9});this.mouseAddInScroll(),this.changeElementData(e)},t.prototype.callBackSuperOver=function(){slot.SoundMger.instance.stopEffect("Prize_Big"),slot.SoundMger.instance.playEffect("Prize_Big_Sound",!1)},t.prototype._registerSlotMachineAnimation=function(){this.slotMachine.onContinuousNotWinAnimation(this,this._playContinuousNotWinAnimation),this.slotMachine.onNormalRewardsAnimation(this,this._playNormalRewardsAnimation),this.slotMachine.onFullLineAnimation(this,this._playFullLineAnimation),this.slotMachine.onGreatRewardsAnimation(this,this._playGreatRewardsAnimation),this.slotMachine.onMiddleRewardsAnimation(this,this._playMiddleRewardsAnimation),this.slotMachine.onSmallRewardsAnimation(this,this._playSmallRewardsAnimation),this.slotMachine.onSpinStart(this,this._onSpinStart),this.slotMachine.onSpinStop(this,this._onSpinStop),this.slotMachine.onSpinComplete(this,this._onSpinComplete),this.slotMachine.onSpinBegin(this,this._onSpinBegin)},t.prototype._onSpinComplete=function(){var e=this;if(game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_GAMECONTROL_ALL_BTN_CLICK,!0),null==this.curr_proto_data)return console.log("11111111111111111111"),void game.EventManager.getInstance().raiseEvent(c.CabdyEvent.EVENT_LACK_GOLD_CLEAR_BEAR);slot.SlotUtils.formatNumber(this.curr_gold);var t=slot.SpinManager.instance.betCost;if(this.curr_gold<t)return game.EventManager.getInstance().raiseEvent(c.CabdyEvent.EVENT_LACK_GOLD_CLEAR_BEAR),void console.log("222222222222222222");if(game.EventManager.getInstance().raiseEvent(c.CabdyEvent.EVENT_GUNZHOU_SPINCOMPLETE,2,1),game.EventManager.getInstance().raiseEvent(c.CabdyEvent.EVENT_GUNZHOU_SPINSTART),2==this.curr_proto_data.state){var n=this.getFreegameTimes();this.freeGameTimes&&n>this.freeGameTimes&&(this.winTimesView.active=!0,this.winTimesView.getChildByName("againtimes").getComponent(sp.Skeleton).setAnimation(0,"animation",!1),this.freeGameTimesState=!0,slot.SoundMger.instance.playEffect("FreeGame_play_sound",!1),game.EventManager.getInstance().raiseEvent(c.CabdyEvent.EVENT_ADD_FREE_GAME_NUM,n),this.scheduleOnce(function(){e.winTimesView.active=!1},3)),this.freeGameTimes=n}p.default.totalEliminateTime=0,this.count=-1,this.removeIndex=-1,this.curMoney=0,this.dailyTime=0,this.bigWinLayerIsThat=!1,game.EventManager.getInstance().raiseEvent(c.CabdyEvent.EVENT_SET_TOTLE_SCORE_LABLE)},t.prototype.changeElementData=function(e){void 0===e&&(e=null),e||(e=p.default.getLastRespData()),e||(e=[]);for(var t=0;t<e.length;t++){var n=e[t],o=slot.SlotMachineView.instance.scroller.getRenderByIndex(n.pos);o.changeData(n.elem,o)}},t.prototype._onSpinStop=function(e){if(null!=this.curr_proto_data&&!(this.curr_gold<slot.SpinManager.instance.betCost)){var t=slot.GameControlBase.instance.fastBtnState;if(2==t&&(n=this.getCureListIsScatter(e))&&slot.SoundMger.instance.playEffect("Treasure_Symbol_Appears_Sound_Effect",!1),1==t&&4==e&&(n=this.getCureGrideScatter())&&slot.SoundMger.instance.playEffect("Treasure_Symbol_Appears_Sound_Effect",!1),game.EventManager.getInstance().raiseEvent(c.CabdyEvent.EVENT_CREAT_SCATTER_BAR,e),this.scheduleOnce(function(){slot.SoundMger.instance.playEffect("Reel_Stop",!1)},.1),0==e&&this.curr_proto_data&&this.curr_proto_data.state){var n=this.curr_proto_data.state,o=Number(this.curr_proto_data.spinResult.spinCoin);2==n?o>0?game.EventManager.getInstance().raiseEvent(c.CabdyEvent.EVENT_BANNER_CTOR,0):(game.EventManager.getInstance().raiseEvent(c.CabdyEvent.EVENT_BANNER_CTOR,0),game.EventManager.getInstance().raiseEvent(c.CabdyEvent.OPEN_FREE_GAME_BANNER),game.EventManager.getInstance().raiseEvent(c.CabdyEvent.CLOSE_SCORE_LABLE)):(game.EventManager.getInstance().raiseEvent(c.CabdyEvent.EVENT_BANNER_CTOR,1),game.EventManager.getInstance().raiseEvent(c.CabdyEvent.CLOSE_SCORE_LABLE))}}},t.prototype.goldDeficitCreatBear=function(){},t.prototype.setgridebybear=function(e){var t=null;if(this.curr_proto_data&&this.curr_proto_data.spinResult&&(t=this.curr_proto_data.spinResult.grid),null!=t)for(var n=[6*e,6*e+5],o=n[0];o<n[1];o++)12==t[o]&&slot.SlotMachineView.instance.scroller.getRenderByIndex(o+1).addDataSpine(1)},t.prototype._onRollingResp=function(e,t){p.default.respData=t,this.curr_proto_data=t,game.EventManager.getInstance().raiseEvent(c.CabdyEvent.EVENT_ACCEPT_NETWORK_DATA,this.curr_proto_data),console.log("\u8bf7\u6c42\u4e0b\u53d1\u534f\u8bae",t),0==this.curr_proto_data.spinResult.spinCoin&&game.EventManager.getInstance().raiseEvent(c.CabdyEvent.SET_NORAMAL_TITLEBAG,1),game.EventManager.getInstance().raiseEvent(c.CabdyEvent.CLEAR_BEAR_END),this.initRenderVisable()},t.prototype.initRenderVisable=function(){for(var e=0;e<36;e++){var t=slot.SlotMachineView.instance.scroller.getRenderByIndex(e+1);t&&(t.opacity=255)}},t.prototype._onSpinStart=function(e){if(null==this.curr_proto_data)return game.EventManager.getInstance().raiseEvent(c.CabdyEvent.CLOSE_SCORE_LABLE),game.EventManager.getInstance().raiseEvent(c.CabdyEvent.EVENT_BANNER_CTOR,1),game.EventManager.getInstance().raiseEvent(c.CabdyEvent.CLEAR_BEAR_END),void game.EventManager.getInstance().raiseEvent(c.CabdyEvent.EVENT_CLEAR_BEAR_CALLBACK);var t=this.curr_gold,n=slot.SpinManager.instance.betCost;if(Number(t)<Number(n))return game.EventManager.getInstance().raiseEvent(c.CabdyEvent.CLOSE_SCORE_LABLE),game.EventManager.getInstance().raiseEvent(c.CabdyEvent.EVENT_BANNER_CTOR,1),void game.EventManager.getInstance().raiseEvent(c.CabdyEvent.EVENT_CLEAR_BEAR_CALLBACK);0==e&&game.EventManager.getInstance().raiseEvent(c.CabdyEvent.EVENT_GUNZHOU_SPINSTART),this.unschedule(this._clearSpinReelAni),this._clearSpinReelAni(),0==e&&this.curr_proto_data&&this.curr_proto_data.state&&2==this.curr_proto_data.state&&(game.EventManager.getInstance().raiseEvent(c.CabdyEvent.EVENT_BANNER_CTOR,0),game.EventManager.getInstance().raiseEvent(c.CabdyEvent.OPEN_FREE_GAME_BANNER),game.EventManager.getInstance().raiseEvent(c.CabdyEvent.CLOSE_SCORE_LABLE))},t.prototype.getCureListIsScatter=function(e){if(this.curr_proto_data&&this.curr_proto_data.spinResult){var t=this.curr_proto_data.spinResult.grid,n=[],o=6*e;n.push(o);for(var i=0;i<5;i++)o+=1,n.push(o);for(var a=0;a<n.length;a++)if(12==t[n[a]])return!0}return!1},t.prototype.getCureGrideScatter=function(){if(this.curr_proto_data&&this.curr_proto_data.spinResult)for(var e=this.curr_proto_data.spinResult.grid,t=0;t<e.length;t++)if(12==e[t])return!0;return!1},t.prototype._onSpinBegin=function(){this.changeScattOrWildLayer(null),this.m_scatterTask=[!1,!1,!1,!1,!1,!1],game.EventManager.getInstance().raiseEvent(c.CabdyEvent.CLEAR_BEAR_END),game.EventManager.getInstance().raiseEvent(c.CabdyEvent.EVENT_GUNZHOU_SPINSTART)},t.prototype.beforeScorllerStartRoller=function(){this.slotMachine.scroller.setOncePendingSchedule()},t.prototype.onScrollerStartComplete=function(){this.slotMachine.scroller.continuePendingTask()},t.prototype._clearSpinReelAni=function(){},t.prototype._playContinuousNotWinAnimation=function(e,t){t.run()},t.prototype._playNormalRewardsAnimation=function(e,t){this.showWinAniView(slot.WinAniType.Normal,e,t,!this.m_isFreeGameStatus),game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_WIN_GAME,c.WinType.win)},t.prototype._playFullLineAnimation=function(e,t){game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_WIN_GAME,c.WinType.fiveEven),t.run()},t.prototype._playGreatRewardsAnimation=function(e,t){var n=this;slot.Handler.create(this,function(){n.m_isChufaFree&&game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_PLAY_SCORE_ANI,slot.WinAniType.Great)}),this.showWinAniView(slot.WinAniType.Great,e,t,!this.m_isFreeGameStatus)},t.prototype.winAniStart=function(e,t){t.parent.children.forEach(function(e){e.opacity=0}),t.opacity=255,this.bigWinLayerIsThat||(slot.SoundMger.instance.playEffect("Prize_Big",!1),this.bigWinLayerIsThat=!0)},t.prototype.winAniEnd=function(){},t.prototype._playMiddleRewardsAnimation=function(e,t){this.showWinAniView(slot.WinAniType.Middle,e,t,!this.m_isFreeGameStatus)},t.prototype._playSmallRewardsAnimation=function(e,t){this.showWinAniView(slot.WinAniType.Small,e,t,!this.m_isFreeGameStatus),this.m_isChufaFree?game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_PLAY_SCORE_ANI,slot.WinAniType.Middle):game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_PLAY_SCORE_ANI,slot.WinAniType.Small)},t.prototype._onSpinSlotRender=function(){},t.prototype.addEventListener=function(){e.prototype.addEventListener.call(this)},t.prototype.removeEventListener=function(){e.prototype.removeEventListener.call(this)},t.prototype.addFreeSpinsAni=function(e,t,n){void 0===t&&(t=null),console.log("\u8fdb\u5165\u4e86\u514d\u8d39\u6e38\u620f",t),this.cb=n,this.freeGameInfo=t;var o=cc.delayTime(1),i=cc.callFunc(function(){slot.SoundMger.instance.stopMusic("Game_Back_Music"),slot.SoundMger.instance.playMusic("FreeGame_Back_Music",!0),game.UIManager.getInstance().open(l.UIID.BONUS_GAME_POPUP,[n,t])}.bind(this));this.node.runAction(cc.sequence(o,i)),this.freeGameTimes=t.times},t.prototype.freeGameChangeBg=function(){},t.prototype.refreshRoom=function(){var e=p.default.respData.state;if(e.freeData){var t=p.default.respData.state.freeData,n=cc.delayTime(1),o=cc.callFunc(function(){game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_FREE_GAME_NUM,t.times)}.bind(this)),i=cc.delayTime(.8),a=cc.callFunc(function(){}.bind(this));this.node.runAction(cc.sequence(n,o,i,a)),game.EventManager.getInstance().raiseEvent(c.mouseEvent.FREE_RECONNECTION_DATA,t),this.freeGameChangeBg(!0)}else if(e.normalData){var r=p.default.respData.state.normalData.handleState.game_10017.data.resultList;r.length>=2&&game.EventManager.getInstance().raiseEvent(c.mouseEvent.NORMAL_RECONNECTION_DATA,r)}},t.prototype.onInitFreeGame=function(e,t){switch(console.log("oniniffreegame",e),e.type){case slot.OperationState.Free:this.m_isFreeGameStatus=!0,slot.SoundMger.instance.stopMusic("Game_Back_Music"),slot.SoundMger.instance.playMusic("FreeGame_Back_Music",!0);var n=e.times;game.EventManager.getInstance().raiseEvent(c.CabdyEvent.FREEGAME_NETWORK_STATE,!0),game.EventManager.getInstance().raiseEvent(c.CabdyEvent.FREE_GAME_START,n);break;case slot.OperationState.ReSpin:}t.runWith(!0)},t.prototype.onFreeGameTriggered=function(e,t){switch(console.log("onFreeGameTriggered",e),e.type){case slot.OperationState.Free:this.m_isFreeGameStatus=!0,console.log("onFreeGameTriggeredFREE_GAME_START"),this.freeGameChangeBg(!0),game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_UPDATE_MULTIPLE_NUM,this.m_arrCannonNum[e.sumTimes],!0),this.m_isChufaFree=!0;break;case slot.OperationState.ReSpin:}t.runWith(!0)},t.prototype.onFreeGameInfoUpdated=function(e){switch(console.log("onFreeGameInfoUpdated",e),e.type){case slot.OperationState.Free:case slot.OperationState.ReSpin:}},t.prototype.onFreeGameOver=function(e,t){switch(console.log("\u514d\u8d39\u6e38\u620f\u7ed3\u675f",e),this.isNeedToFreeGame=!1,e.type){case slot.OperationState.Free:this.m_isFreeGameStatus=!1;var n=slot.Handler.create(this,function(){t.runWith(!0)});this.scheduleOnce(function(){game.UIManager.getInstance().open(l.UIID.FREE_GAME_RESULT,[n,e])},1),this.freeGameTimes=null;break;case slot.OperationState.ReSpin:}},t.prototype.onFreeGameTriggerAgain=function(e,t){switch(console.log("onFreeGameTriggerAgain",e),e.type){case slot.OperationState.Free:t.run();break;case slot.OperationState.ReSpin:}},t.prototype.onFreeGameTimesUpdated=function(e){game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_FREE_GAME_NUM,e)},t.prototype.onBonusGameTriggered=function(e,t){slot.Handler.create(this,function(){}),t.runWith(!0)},t.prototype.onBonusGameOver=function(e,t){t.runWith(!0),this.hideBounsGamePrefab()},t.prototype.showBounsGamePrefab=function(e,t,n){this.bounsGamePrefabNode=cc.instantiate(this.bounsGamePrefab);var o=cc.Canvas.instance.node;this.bounsGamePrefabNode.getComponent(cc.Widget).target=o,o.addChild(this.bounsGamePrefabNode,slot.LayerManage.effect),this.bounsGamePrefabNode.getComponent(r.default).onOpen(e,t,n)},t.prototype.hideBounsGamePrefab=function(){this.bounsGamePrefabNode&&(this.bounsGamePrefabNode.active=!1,cc.Canvas.instance.node.removeChild(this.bounsGamePrefabNode))},t.prototype.showFreeGameResultPrefab=function(e,t,n,o){this.freeGameResultNode=cc.instantiate(this.freeGameResultPrefab);var i=cc.Canvas.instance.node;this.freeGameResultNode.getComponent(cc.Widget).target=i,i.addChild(this.freeGameResultNode,slot.LayerManage.effect),this.freeGameResultNode.getComponent(s.default).onOpen(e,t,n,o)},t.prototype.hideFreeGameResultPrefab=function(){this.freeGameResultNode&&(this.freeGameResultNode.active=!1,cc.Canvas.instance.node.removeChild(this.freeGameResultNode))},t.prototype.changeScattOrWildLayer=function(e){if(e)for(var t=void 0,n=void 0,o=0;o<e.length;o++)t=e[o],this.changeScattOrWildCache[t.uuid]||(this.changeScattOrWildCache[t.uuid]={item:t,pos:t.position.clone(),parent:t.parent,zindex:t.zIndex},n=this.ui_effecLayer.convertToNodeSpaceAR(t.parent.convertToWorldSpaceAR(t.position)),t.parent=this.ui_effecLayer,t.zIndex=2,t.setPosition(n));else{var i=void 0;for(var a in this.changeScattOrWildCache)(i=this.changeScattOrWildCache[a]).item.parent=i.parent,i.item.zIndex=i.zIndex,i.item.setPosition(i.pos);this.changeScattOrWildCache={}}},t.prototype.showScatterRoWildAni=function(){},a([g(cc.Node)],t.prototype,"rollPushMarsk",void 0),a([g(cc.Node)],t.prototype,"rollPushMarsk0",void 0),a([g(cc.Node)],t.prototype,"rollMarskRed",void 0),a([g(cc.Node)],t.prototype,"winTimesView",void 0),a([g(cc.Node)],t.prototype,"ui_effecLayer",void 0),a([g({type:cc.Prefab,tooltip:"\u5c0f\u6e38\u620f\u8fc7\u573a\u52a8\u753b"})],t.prototype,"bounsGamePrefab",void 0),a([g({type:cc.Prefab,tooltip:"\u514d\u8d39\u6e38\u620f\u7ed3\u7b97\u9884\u5236"})],t.prototype,"freeGameResultPrefab",void 0),a([f],t)}(slot.AbstractMainView);n.default=m,cc._RF.pop()},{"../GameEventName111005601":"GameEventName111005601","../bonusGame/BonusGame111005601":"BonusGame111005601","../freeGameResult/FreeGameResult":"FreeGameResult","../main/Main111005601":"Main111005601","../tool/Tool":"Tool","./scrollerSkins/JTChildManager111005601":"JTChildManager111005601","./scrollerSkins/JTLayerManager111005601":"JTLayerManager111005601","./scrollerSkins/JTLogicFactroy111005601":"JTLogicFactroy111005601"}],GameRoller111005601:[function(e,t,n){"use strict";cc._RF.push(t,"abb6bi47QpMaoarOAE3uHhF","GameRoller111005601");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111005601"),s=e("../NumAtlasLabel111005601"),c=cc._decorator,l=c.ccclass,p=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p_scoreLable=null,t.p_scoreTotleLable=null,t.p_titleEffect=null,t.p_Scatterbear=null,t.move_node_point=null,t.p_freegamewin=null,t.p_bannernode=null,t.p_largewinword=null,t.p_wintitleworldtwomult=null,t.CurrProto=null,t.ScoreNode=null,t.record_score_lable=[],t.all_score_lable=[],t.record_score_open_node=[],t.all_rocket_cfg=[],t.all_bear_cfg=[],t.all_chocolates_cfg=[],t.ChocolatesCount=0,t.Record_Chocolates_Data=[],t.all_red_bg=[],t.all_car_image=[],t.all_image_effect=[],t.all_candy_img=[],t.all_Candy_cfg=[],t.RocketCount=0,t.Record_Rocket_Data=[],t.CandyCount=0,t.Record_Candy_Data=[],t.record_img_and_effect=[],t.SpcialShowCandyPoint=[1,7,13,19,25,31,6,12,18,24,30,36],t.Record_Shake_imge_node=[],t.record_red_bag=[],t.pos_vert_data=[[5,0],[11,6],[17,12],[23,18],[29,24],[35,30]],t.pos_pervers_data=[[0,30],[1,31],[2,32],[3,33],[4,34],[5,35]],t.list1=[16,17,18,22,23,24,28,29,30,34,35,36],t.list2=[9,10,11,12,15,21,27,33],t.list3=[2,3,4,5,6,8,14,20,26,32],t.list4=[1,7,13,19,25,31],t.record_img_effect=[],t.frist_enter_game=!0,t.FreeGameNetWordState=!1,t.Record_Render_Node=[],t}return i(t,e),t.prototype.onLoad=function(){var e=cc.find("Canvas").getChildByName("main");this.move_node_point=e.getPosition(),this.InitCreatBearAll(),game.EventManager.getInstance().addEventListener(r.CabdyEvent.EVENT_SET_CLEAR_NODE_SCORE,this.setClrerNodeScore,this),game.EventManager.getInstance().addEventListener(r.CabdyEvent.EVENT_ACCEPT_NETWORK_DATA,this.acceptNetworkdata,this),game.EventManager.getInstance().addEventListener(r.CabdyEvent.EVENT_CLEAR_SCORE_NODE,this.clearscorenode,this),game.EventManager.getInstance().addEventListener(r.CabdyEvent.EVENT_SET_TOTLE_SCORE_LABLE,this.judgeIsViewTotlescore,this),game.EventManager.getInstance().addEventListener(r.CabdyEvent.EVENT_CREAT_SCATTER_BAR,this.CreateScatterBar,this),game.EventManager.getInstance().addEventListener(r.CabdyEvent.EVENT_GUNZHOU_SPINCOMPLETE,this._onSpinend,this),game.EventManager.getInstance().addEventListener(r.CabdyEvent.EVENT_GUNZHOU_SPINSTART,this._onSpineStart,this),game.EventManager.getInstance().addEventListener(r.CabdyEvent.EVENT_JUDGE_COMBINATION,this.judgecombination,this),game.EventManager.getInstance().addEventListener(r.CabdyEvent.FREE_GAME_START,this.startfreegame,this),game.EventManager.getInstance().addEventListener(r.CabdyEvent.FREE_GAME_OVER,this.endfreegame,this),game.EventManager.getInstance().addEventListener(r.CabdyEvent.CLOSE_SCORE_LABLE,this.closescorelable,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_UPDATE_WINSCORE,this.updateWinSorce,this),game.EventManager.getInstance().addEventListener(r.CabdyEvent.FREEGAME_NETWORK_STATE,this.getfreegameNetworkstate,this),game.EventManager.getInstance().addEventListener(r.CabdyEvent.INIT_BEAR_POS,this.initBearPoint,this),game.EventManager.getInstance().addEventListener(r.CabdyEvent.SET_BANNER_SCORE,this.setBannerScore,this),game.EventManager.getInstance().addEventListener(r.CabdyEvent.EVENT_LACK_GOLD_CLEAR_BEAR,this.setLackGoldClearBear,this),game.EventManager.getInstance().addEventListener(r.CabdyEvent.EVENT_CLEAR_BEAR_CALLBACK,this.clearbear,this),game.EventManager.getInstance().addEventListener(r.CabdyEvent.EVENT_SHOW_BEAR,this.showBear,this),this.CreatCarabg(),this.CreatImage(),this.CreateChocolates(),this.CreateCandy(),this.CreatImageEffect(),this.addclearnodescore(),this.CreatCandyImage(),this.node.getChildByName("scrollerLayer").getChildByName("tounchLayer").getChildByName("hehongeffect").zIndex=2},t.prototype._onSpineStart=function(){},t.prototype.startfreegame=function(){this.p_bannernode.setPosition(this.banner_start_point.x,this.banner_start_point.y+10),this.p_scoreTotleLable.setPosition(this.scoreTotleLable_point.x,this.scoreTotleLable_point.y+10),this.p_scoreLable.setPosition(this.scoreLable_point.x,this.scoreLable_point.y+10)},t.prototype.endfreegame=function(e,t){this.p_bannernode.setPosition(this.banner_start_point.x,this.banner_start_point.y),this.p_scoreTotleLable.setPosition(this.scoreTotleLable_point.x,this.scoreTotleLable_point.y),this.p_scoreLable.setPosition(this.scoreLable_point.x,this.scoreLable_point.y),this._setTotleLabMoney(t,2);var n=slot.SlotUtils.formatNumber(t);console.log("zzzzzzzzzzzzzzzzzzzzzz",n)},t.prototype.closescorelable=function(){this.p_scoreTotleLable.active=!1,this.p_scoreLable.active=!1,game.EventManager.getInstance().raiseEvent(r.CabdyEvent.SET_NORAMAL_TITLEBAG,1)},t.prototype._onSpinend=function(e,t,n){if(this.CurrProto&&this.CurrProto.spinResult&&Number(this.CurrProto.spinResult.spinCoin)>0)if(1==t){var o=this.getEliminateCompliteGrideChange(n-1);this.CreateChangeScatterBar(o)}else 2==t&&(0==n?(o=this.CurrProto.spinResult.grid,this.CreateChangeScatterBar(o)):1==t&&(o=this.CurrProto.spinResult.gridChanged,this.CreateChangeScatterBar(o)))},t.prototype.acceptNetworkdata=function(e,t){this.splitgride=[],this.CurrProto=t,this.RemoveAllNode()},t.prototype.getEliminatedata=function(){return this.CurrProto.updateList[0].value.handleState.game_10017.data.resultList},t.prototype.getSpecialEliminateData=function(e){var t=this.CurrProto.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult)return t[e].triggerSpecialElemGrid},t.prototype.getSpecialEliminateGrideId=function(e){var t=this.CurrProto.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult)return t[e].removePos},t.prototype.getInedxToyleElimintaedata=function(e){var t=this.CurrProto.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult){var n=t[e].spinResult.lineResult,o=[];n||(n=[]);for(var i=0;i<n.length;i++)n[i].winPos[0]&&o.push(n[i].winPos);return o}},t.prototype.getElimintByIndex=function(e){var t=this.CurrProto.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult)return t[e].spinResult.lineResult},t.prototype.getElimintByIndexData=function(e){var t=this.CurrProto.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult)return t[e]},t.prototype.getrandomspecialEliminta=function(e){var t=this.CurrProto.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult)return t[e].randomSpecialElemList},t.prototype.getElimintaethroughGrid=function(e){var t=this.CurrProto.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult)return t[e].throughGrid},t.prototype.getElimintaetScore=function(e){var t=this.CurrProto.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult){var n=t[e].spinResult.spinCoin;return Number(n)}},t.prototype.getIndexSpecialElemGridPieceList=function(e){var t=this.CurrProto.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].specialElemGridPieceList){var n=t[e].specialElemGridPieceList,o=[];if(n&&n){for(var i=0;i<n.length;i++)n[i]&&o.push(n[i]);return o}}},t.prototype.getEliminateScoreData=function(e){var t=this.CurrProto.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult){var n=t[e].spinResult.lineResult,o=[];n||(n=[]);for(var i=0;i<n.length;i++){var a=Number(n[i].spinCoin);o.push(a)}return o}},t.prototype.getEliminateTotleScore=function(e){var t=this.CurrProto.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult){var n=t[e].spinResult.spinCoin;return Number(n)}},t.prototype.getEliminateCompliteGride=function(e){var t=this.CurrProto.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult)return t[e].spinResult.grid},t.prototype.getEliminateCompliteGrideChange=function(e){var t=this.CurrProto.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult)return t[e].spinResult.gridChanged},t.prototype.getEliminateSpecialPieceList=function(e){var t=this.CurrProto.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].specialElemGridPieceList)return t[e].specialElemGridPieceList},t.prototype.getEliminateSpecialRedBg=function(e){var t=this.CurrProto.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].redBackground)return t[e].redBackground},t.prototype.setClrerNodeScore=function(e,t){var n=this.getEliminateSpecialPieceList(t),o=(this.getEliminateScoreData(t),this.getEliminateCompliteGride(t),this.getInedxToyleElimintaedata(t),this.getElimintByIndex(t)),i=this.getSpecialEliminateData(t),a=this.getSpecialEliminateData(t),r=this.getElimintaetScore(t);if(o&&o.length>0)for(var c=this.getScoreLableNode(o,1),l=0;l<o.length;l++){var p=Number(o[l].spinCoin),h=o[l].winPos;if(p>0)if(this.getScoreMult(p)>=5)this.setclearscorepoint(c[l],h,n,a,1),c[l].active=!0,this.setscorebeat(c[l],slot.SlotUtils.formatNumber(p));else{this.setclearscorepoint(c[l],h,n,a,1),c[l].active=!0;var u=slot.SlotUtils.formatNumber(p);c[l].getComponent(s.default).string=""+u}}else if(i&&i.length){var d=this.setScorFusePos(i),_=[];_.push(d);var f=this.getScoreLableNode(_,2);p=r,h=this.getElimintByIndexData(t).removePos,p>0&&f&&(this.getScoreMult(p)>=5?(this.setclearscorepoint(f[0],h,n,d,2),f[0].active=!0,console.log("kkkkkkkkkkkkkkk",slot.SlotUtils.formatNumber(p)),this.setscorebeat(f[0],slot.SlotUtils.formatNumber(p))):(this.setclearscorepoint(f[0],h,n,d,2),f[0].active=!0,u=slot.SlotUtils.formatNumber(p),f[0].getComponent(s.default).string=""+u))}this.CurrProto.state},t.prototype.setBannerScore=function(e,t){var n=this.getEliminateTotleScore(t-1);this.judgCurrScorIsPlayeffect(n),this._setLabMoney(n)},t.prototype.setScorFusePos=function(e){return 1==e.length?e[0]:e.length>=2?this.SortScoreSpecialdecline(e)[0]:void 0},t.prototype.getScoreLableNode=function(e,t){this.record_score_lable=[];var n=this.all_score_lable;if(1==t){if(!e||!e.length)return;for(var o=0;o<n.length;o++)o<=e.length&&this.record_score_lable.push(n[o])}else this.record_score_lable.push(n[0]);return this.record_score_lable},t.prototype.SortScoreSpecialdecline=function(e){for(var t=[],n=e,o=0;o<n.length;o++)t.push(n[o]);return t.sort(function(e,t){return e.pos-t.pos})},t.prototype.setFreeGameMulipAni=function(){var e=this;this.p_freegamewin.opacity=255,cc.tween(this.p_freegamewin).to(.2,{scale:1.3}).to(.2,{opacity:0}).call(function(){e.p_freegamewin.scale=1}).start()},t.prototype.getScoreMult=function(e){var t=slot.SlotUtils.formatNumber(e),n=slot.SlotUtils.formatNumber(slot.SpinManager.instance.betCost);return Number(t)/Number(n)},t.prototype.addclearnodescore=function(){for(var e=this,t=this.node.getChildByName("scrollerLayer").getChildByName("tounchLayer"),n=function(n){game.ResLoader.getInstance().loadRes("prefabs/gameItem/winScore",function(o,i){if(!o){var a=cc.instantiate(i);a.name="score_lable"+n,a.active=!1,t.addChild(a,10),e.all_score_lable.push(a)}},"game_"+core.Global.clientGameId)},o=0;o<20;o++)n(o)},t.prototype.setscorebeat=function(e,t){for(var n=e,o=0,i=Math.floor(t/10*100)/100,a=0,r=function(e){a+=.05;var r=cc.delayTime(a),l=cc.callFunc(function(){o+=i;var a=Math.floor(100*o)/100;n&&n.getComponent(s.default)&&(n.getComponent(s.default).string=""+a,19==e&&(n.getComponent(s.default).string=""+t)),cc.tween(this.node).delay(.6).call(function(){n.active=!1}).start()}.bind(c));c.node.runAction(cc.sequence(r,l))},c=this,l=0;l<10;l++)r(l)},t.prototype.setclearscorepoint=function(e,t,n,o,i){var a=e,r=t;if(a.anchorX=.5,1==i)if(r.length>=5){if(c=this.getClrardtaIsstscatter(r,n,o,i))if(r.length>30){var s=this.getIDbynode(29);a.x=s.x,a.y=s.y,a.active=!0,this.record_score_open_node.push({node:a,pos:26})}else{if(s=this.getIDbynode(c),!a)return;a.x=s.x,a.y=s.y,a.active=!0,this.record_score_open_node.push({node:a,pos:c})}}else{if(s=this.getIDbynode(t[0]),!a)return;a.x=s.x,a.y=s.y,a.active=!0,this.record_score_open_node.push({node:a,pos:t[0]})}else if(2==i){var c=this.getClrardtaIsstscatter(r,n,o,i);console.log("oooooooooooooooooooo",c,n,o),c&&(r.length>30?(s=this.getIDbynode(c+1),console.log("fffffffffffffffffff",s,c+1),a.x=s.x,a.y=s.y,a.active=!0,this.record_score_open_node.push({node:a,pos:c+1})):(s=this.getIDbynode(c+1),a.x=s.x,a.y=s.y,a.active=!0,this.record_score_open_node.push({node:a,pos:c+1})))}else s=this.getIDbynode(t[0]),a.x=s.x,a.y=s.y,a.active=!0,this.record_score_open_node.push({node:a,pos:t[0]});a.x<=-300?(a.anchorX=0,a.x=-365):a.x>=307&&(a.anchorX=1,a.x=367)},t.prototype.getClrardtaIsstscatter=function(e,t,n,o){if(1==o){var i=t;if(!(i&&i.length>0))return null;for(var a=0;a<e.length;a++)for(var r=0;r<i.length;r++)if(e[a]==i[r].pos)return e[a]}else if(2==o){var s=n;if(s&&s.pos)for(a=0;a<e.length;a++)if(e[a]==s.pos-1)return e[a]}},t.prototype.getIDbynode=function(e){var t="node"+e;return this.node.getChildByName("scrollerLayer").getChildByName("tounchLayer").getChildByName(t)},t.prototype.clearscorenode=function(e,t){var n=this.getEliminateSpecialPieceList(t-1),o=this.record_score_open_node;if(n&&n.length>0){var i=cc.delayTime(.5),a=cc.callFunc(function(){if(this.getEliminateCompliteGride(t),!(o.length<=0))for(var e=0;e<o.length;e++)o[e].pos,o[e].node.active=!1}.bind(this));this.node.runAction(cc.sequence(i,a))}else{if(o.length<=0)return;for(var r=0;r<o.length;r++)o[r].pos,o[r].node.active=!1}},t.prototype.judgCurrScorIsPlayeffect=function(e){var t=this.CurrProto.state,n=this.getScoreMult(e);1==t||2==t&&(n>=5?game.EventManager.getInstance().raiseEvent(r.CabdyEvent.OPEN_WIN_MULTIP_EFFECT):game.EventManager.getInstance().raiseEvent(r.CabdyEvent.CLOSE_WIN_MULTIP_EFFECT))},t.prototype.judgeIsViewTotlescore=function(){var e=Number(this.CurrProto.spinResult.spinCoin);e>0&&(console.log("RRRRRRRRRRRTTTTTTTTTTTTTTT",e),this._setTotleLabMoney(e,1),this.judgCurrScorIsPlayeffect(e)),slot.FreeGameManager.instance.isTreateFromFreeGame&&slot.FreeGameManager.instance.isTreateFreeOver,slot.FreeGameManager.instance.isTreateFromFreeGame&&e>0&&this.setFreeGameMulipAni()},t.prototype._setLabMoney=function(e){if(this.CurrProto&&this.CurrProto.state){1==this.CurrProto.state||slot.SoundMger.instance.playEffect("Free_Game_Winning_Sound_Effects",!1);var t=slot.SlotUtils.formatNumber(e);this.p_scoreTotleLable.active=!1,game.EventManager.getInstance().raiseEvent(r.CabdyEvent.EVENT_BANNER_CTOR,0),this.p_scoreLable.active=!0;var n=this.p_scoreLable.getChildByName("winlable");this.getScoreMult(e)>=5?(n.getComponent(s.default).string=t,this.playtitleeffect(2),game.EventManager.getInstance().raiseEvent(r.CabdyEvent.SET_NORAMAL_TITLEBAG,2)):(n.getComponent(s.default).string=t,this.playtitleeffect(1),game.EventManager.getInstance().raiseEvent(r.CabdyEvent.SET_NORAMAL_TITLEBAG,1))}else t=slot.SlotUtils.formatNumber(e),this.p_scoreTotleLable.active=!1,game.EventManager.getInstance().raiseEvent(r.CabdyEvent.EVENT_BANNER_CTOR,0),this.p_scoreLable.active=!0,(n=this.p_scoreLable.getChildByName("winlable")).getComponent(s.default).string=t},t.prototype._setTotleLabMoney=function(e,t){1==this.CurrProto.state||slot.SoundMger.instance.playEffect("Free_Game_Winning_Sound_Effects",!1);var n=slot.SlotUtils.formatNumber(e);this.p_scoreLable.active=!1,game.EventManager.getInstance().raiseEvent(r.CabdyEvent.EVENT_BANNER_CTOR,0),this.p_scoreTotleLable.active=!0;var o=this.p_scoreTotleLable.getChildByName("wintotlelable");this.getScoreMult(e)>=5?1==t?(slot.SoundMger.instance.playEffect("The_amount_of_the_broadcast_box_increases_the_soun_effect",!1),this.setScorebeatAnimation(o,n),this.playtitleeffect(2),game.EventManager.getInstance().raiseEvent(r.CabdyEvent.SET_NORAMAL_TITLEBAG,2)):(this.playtitleeffect(1),o.getComponent(s.default).string=n):(game.EventManager.getInstance().raiseEvent(r.CabdyEvent.SET_NORAMAL_TITLEBAG,1),o.getComponent(s.default).string=n,this.playtitleeffect(1)),slot.SoundMger.instance.playEffect("General_audio",!1)},t.prototype.setLightBgOpacity=function(e){this.ScoreNode.opacity=e},t.prototype.playtitleeffect=function(e){var t=this;1==e?(this.p_titleEffect.active=!0,this.p_titleEffect.getComponent(sp.Skeleton).setAnimation(0,"win1",!1),this.p_titleEffect.getComponent(sp.Skeleton).setCompleteListener(function(){t.p_titleEffect.active=!1})):(this.p_titleEffect.active=!0,this.p_titleEffect.getComponent(sp.Skeleton).setAnimation(0,"win2",!1),this.p_titleEffect.getComponent(sp.Skeleton).setCompleteListener(function(){t.p_titleEffect.active=!1}))},t.prototype.getBeardata=function(e){var t=null,n=[];if(this.CurrProto&&this.CurrProto.spinResult&&(t=this.CurrProto.spinResult.grid),null!=t){for(var o=[6*e,6*e+6],i=o[0];i<o[1];i++)12==t[i]&&n.push(i);return n}},t.prototype.getgridebybear=function(e,t){if(e&&e.length){for(var n=[],o=0;o<e.length;o++)e[o]==t&&n.push({low:e[o],i:o});return n}return null},t.prototype.CreateChangeScatterBar=function(e){this.clearbear();var t=this.getgridebybear(e,12);if(t&&t.length&&0!=t.length)for(var n=0;n<t.length;n++)if(t[n]){var o=t[n].i;this.setBearNodeView(o,1)}},t.prototype.CreateScatterBar=function(e,t){var n=this.getBeardata(t);if(n&&n.length)for(var o=0;o<n.length;o++){var i=n[o];this.setBearNodeView(i,0)}},t.prototype.setBearNodeView=function(e,t){for(var n=this,o=function(o){var a="node_bear"+e;i.all_bear_cfg[o].name==a&&(i.all_bear_cfg[o].opacity=255,0==t?"zh"==slot.GData.curLanguage?(i.all_bear_cfg[o].getComponent(sp.Skeleton).setAnimation(0,"duobao_fadein",!1),i.all_bear_cfg[o].getComponent(sp.Skeleton).setCompleteListener(function(){n.all_bear_cfg[o].getComponent(sp.Skeleton).setAnimation(0,"duobao_loop",!0)})):(i.all_bear_cfg[o].getComponent(sp.Skeleton).setAnimation(0,"duobao_fadein2",!1),i.all_bear_cfg[o].getComponent(sp.Skeleton).setCompleteListener(function(){n.all_bear_cfg[o].getComponent(sp.Skeleton).setAnimation(0,"duobao_loop2",!0)})):"zh"==slot.GData.curLanguage?i.all_bear_cfg[o].getComponent(sp.Skeleton).setAnimation(0,"duobao_loop",!0):i.all_bear_cfg[o].getComponent(sp.Skeleton).setAnimation(0,"duobao_loop2",!0))},i=this,a=0;a<this.all_bear_cfg.length;a++)o(a)},t.prototype.showBear=function(e,t,n){var o=this.all_bear_cfg.find(function(e){return e.name=="node_bear"+t});o&&(o.opacity=n?255:0)},t.prototype.setLackGoldClearBear=function(){var e=[5,3,5,7,6,4,8,3,3,5,8,4,1,6,4,6,5,7,2,2,6,3,6,6,2,7,8,7,8,2,4,2,7,5,7,2];console.log("VVVVVVVVVVVVVVVVVVVVVVVVVV",e),this.CreateChangeScatterBar(e)},t.prototype.clearbear=function(){for(var e=0;e<this.all_bear_cfg.length;e++)this.all_bear_cfg[e]&&(this.all_bear_cfg[e].opacity=0)},t.prototype.start=function(){var e=this;this.p_scoreLable.active=!1,this.p_scoreTotleLable.active=!1,this.p_titleEffect.active=!1,this.p_freegamewin.opacity=0,this.p_wintitleworldtwomult.active=!1,this.p_largewinword.active=!1,this.scoreLable_point=this.p_scoreLable.getPosition(),this.scoreTotleLable_point=this.p_scoreTotleLable.getPosition(),this.banner_start_point=this.p_bannernode.getPosition();for(var t=this.node.getChildByName("scrollerLayer").getChildByName("tounchLayer"),n=function(n){game.ResLoader.getInstance().loadRes("prefabs/gameItem/rocker",function(o,i){if(!o){var a=cc.instantiate(i);a.name="node_rock"+n,a.active=!1,t.addChild(a,5),e.all_rocket_cfg.push(a)}},"game_"+core.Global.clientGameId)},o=0;o<10;o++)n(o)},t.prototype.InitCreatBearAll=function(){for(var e=this,t=this.node.getChildByName("scrollerLayer").getChildByName("tounchLayer"),n=function(n){game.ResLoader.getInstance().loadRes("prefabs/gameItem/strchBear",function(o,i){if(!o){var a=cc.instantiate(i);a.name="node_bear"+n,a.opacity=0,t.addChild(a,4),e.setnodepoine(a,n),e.all_bear_cfg.push(a)}},"game_"+core.Global.clientGameId),35==n&&console.log("888888888888")},o=0;o<36;o++)n(o)},t.prototype.CreateChocolates=function(){for(var e=this,t=this.node.getChildByName("scrollerLayer").getChildByName("tounchLayer"),n=function(n){game.ResLoader.getInstance().loadRes("prefabs/gameItem/chocolates",function(o,i){if(!o){var a=cc.instantiate(i);a.name="node_chocolates"+n,a.active=!1,t.addChild(a,5),e.all_chocolates_cfg.push(a)}},"game_"+core.Global.clientGameId)},o=0;o<8;o++)n(o)},t.prototype.setchocolatespoint=function(e){this.ChocolatesCount=this.ChocolatesCount+1,console.log("\u5de7\u514b\u529b\u8981\u51fa\u6765\u4e86");var t=this.node.getChildByName("scrollerLayer").getChildByName("tounchLayer").getChildByName("node"+e),n=this.all_chocolates_cfg[this.ChocolatesCount];console.log("ffffffffffffffffff",t,this.ChocolatesCount,n,this.all_chocolates_cfg),n&&t&&(n.active=!0,n.getComponent(sp.Skeleton).setAnimation(0,"fadein",!1),n.getComponent(sp.Skeleton).setCompleteListener(function(){"fadein"==n.getComponent(sp.Skeleton).animation&&n.getComponent(sp.Skeleton).setAnimation(0,"animation",!0)}),this.Record_Chocolates_Data.push({rock_node:n,id:e}),t.x&&t.y?(n.x=t.x,n.y=t.y):console.error("setchocolatespoint\uff0c\u5750\u6807\u51fa\u9519\u4e86"))},t.prototype.ByIdGetChocolateNode=function(e){var t=this.Record_Chocolates_Data;if(console.log("..................",t,e),t&&t.length&&0!=t.length){for(var n=0;n<t.length;n++)if(t[n].id==e)return t[n].rock_node;return null}},t.prototype.CreatCarabg=function(){for(var e=this,t=this.node.getChildByName("scrollerLayer").getChildByName("tounchLayer"),n=function(n){game.ResLoader.getInstance().loadRes("prefabs/gameItem/Red_bg",function(o,i){if(!o){var a=cc.instantiate(i);a.name="node_red_bg"+(n+1),a.active=!1,t.addChild(a,1),e.setnodepoine(a,n),e.all_red_bg.push(a)}},"game_"+core.Global.clientGameId)},o=0;o<36;o++)n(o)},t.prototype.initRedbgpoint=function(){for(var e=this.node.getChildByName("scrollerLayer").getChildByName("tounchLayer"),t=0;t<this.all_red_bg.length;t++){var n=e.getChildByName("node"+(t+1));n&&(this.all_red_bg[t].active=!1,n.x&&n.y&&this.all_red_bg[t]?(this.all_red_bg[t].x=n.x,this.all_red_bg[t].y=n.y):console.error("initRedbgpoint"))}},t.prototype.CreatImage=function(){for(var e=this,t=this.node.getChildByName("scrollerLayer").getChildByName("tounchLayer"),n=function(n){game.ResLoader.getInstance().loadRes("prefabs/gameItem/carImage",function(o,i){if(!o){var a=cc.instantiate(i);a.name="node_image"+(n+1),a.active=!1,t.addChild(a,4),e.setnodepoine(a,n),e.all_car_image.push(a)}},"game_"+core.Global.clientGameId)},o=0;o<36;o++)n(o)},t.prototype.CreatImageEffect=function(){for(var e=this,t=this.node.getChildByName("scrollerLayer").getChildByName("tounchLayer"),n=function(n){game.ResLoader.getInstance().loadRes("prefabs/gameItem/ImgEffect",function(o,i){if(!o){var a=cc.instantiate(i);a.name="node_image_effect"+(n+1),a.active=!1,t.addChild(a,4),e.setnodepoine(a,n),e.all_image_effect.push(a)}},"game_"+core.Global.clientGameId)},o=0;o<36;o++)n(o)},t.prototype.CreatCandyImage=function(){for(var e=this,t=this.node.getChildByName("scrollerLayer").getChildByName("tounchLayer"),n=function(n){game.ResLoader.getInstance().loadRes("prefabs/gameItem/ShowCandy",function(o,i){if(!o){var a=cc.instantiate(i);a.name="cand_img"+(n+1),a.opacity=0,t.addChild(a,6),e.all_candy_img.push(a)}},"game_"+core.Global.clientGameId)},o=0;o<3;o++)n(o)},t.prototype.CloseCandyImage=function(){for(var e=0;e<this.all_candy_img.length;e++)this.all_candy_img[e].opacity=!1},t.prototype.setImageVisiable=function(){for(var e=0;e<this.all_car_image.length;e++)this.all_car_image[e].active=!1},t.prototype.CreateCandy=function(){for(var e=this,t=this.node.getChildByName("scrollerLayer").getChildByName("tounchLayer"),n=function(n){game.ResLoader.getInstance().loadRes("prefabs/gameItem/Candy",function(o,i){if(!o){var a=cc.instantiate(i);a.name="node_candy"+n,a.active=!1,t.addChild(a,5),e.all_Candy_cfg.push(a)}},"game_"+core.Global.clientGameId)},o=0;o<6;o++)n(o)},t.prototype.initCandy=function(){if(this.all_Candy_cfg&&this.all_Candy_cfg.length)for(var e=0;e<this.all_Candy_cfg.length;e++)this.all_Candy_cfg[e].active=!1},t.prototype.setnodepoine=function(e,t){var n=this.node.getChildByName("scrollerLayer").getChildByName("tounchLayer").getChildByName("node"+(t+1));n&&e&&(e.x=n.x,e.y=n.y)},t.prototype.initImagepoint=function(){for(var e=this.node.getChildByName("scrollerLayer").getChildByName("tounchLayer"),t=0;t<this.all_car_image.length;t++){var n=e.getChildByName("node"+(t+1));n&&this.all_car_image[t]?(this.all_car_image[t].active=!1,this.all_car_image[t].x=n.x,this.all_car_image[t].y=n.y):console.error("initImagepoint\u51fa\u9519\u4e86")}},t.prototype.setrocketpoint=function(e){this.RocketCount=this.RocketCount+1,console.log("\u521b\u5efa\u4e86\u706b\u7bad");var t=this.node.getChildByName("scrollerLayer").getChildByName("tounchLayer").getChildByName("node"+e),n=this.all_rocket_cfg[this.RocketCount];n&&t&&(n.active=!0,this.Record_Rocket_Data.push({rock_node:n,id:e}),n.x=t.x,n.y=t.y,n.getComponent(sp.Skeleton).setAnimation(0,"hj_fadein",!1),n.getComponent(sp.Skeleton).setCompleteListener(function(){"hj_loop"!=n.getComponent(sp.Skeleton).animation&&n.getComponent(sp.Skeleton).setAnimation(0,"hj_loop",!0)}))},t.prototype.ByIdGetRocketNode=function(e){var t=this.Record_Rocket_Data;if(console.log("xxxxxxxxxxxxxxxx",t),t&&t.length&&0!=t.length){for(var n=0;n<t.length;n++)if(t[n].id==e)return t[n].rock_node;return null}},t.prototype.setAllRocketViesable=function(){for(var e=0;e<this.all_rocket_cfg.length;e++)this.all_rocket_cfg[e].active=!1,this.all_rocket_cfg[e].rotation=0},t.prototype.setAllRocketRotation=function(){for(var e=0;e<this.all_rocket_cfg.length;e++)this.all_rocket_cfg[e].rotation=0},t.prototype.setAllChocolteViesable=function(){for(var e=0;e<this.all_chocolates_cfg.length;e++)this.all_chocolates_cfg[e].active=!1},t.prototype.setAllCandyViesable=function(){for(var e=0;e<this.all_Candy_cfg.length;e++)this.all_Candy_cfg[e].active=!1},t.prototype.setImagedata=function(e,t,n){var o=this.all_car_image;if(e&&e.length&&0!=e.length){for(var i=[],a=0;a<e.length;a++)for(var s="node_image"+e[a],c=0;c<o.length;c++)o[c]&&o[c].name==s&&(o[c].active=!0,i.push(o[c]),game.EventManager.getInstance().raiseEvent(r.CabdyEvent.EVENT_CHANGE_IMAGE,o[c],t));if(n)for(var l=0;l<i.length;l++)if(i[l]){var p=cc.scaleTo(.2,1.1),h=cc.scaleTo(.2,.9),u=cc.callFunc(function(){}.bind(this));i[l].runAction(cc.sequence(u,p,h))}return i}},t.prototype.setImgByEliminatedata=function(e,t,n,o){var i=this.all_image_effect;if(e&&e.length&&0!=e.length){for(var a=[],s=0;s<e.length;s++)for(var c="node_image_effect"+e[s],l=0;l<i.length;l++)if(i[l]&&i[l].name==c){i[l].active=!0;var p=i[l].getChildByName("imgcard");i[l].getChildByName("img_bg").active=!!o,a.push(i[l]),p.active=!0,game.EventManager.getInstance().raiseEvent(r.CabdyEvent.EVENT_CHANGE_IMAGE_ID,p,t)}if(n)for(var h=0;h<a.length;h++)if(a[h]){var u=cc.scaleTo(.2,1.2),d=cc.scaleTo(.2,1),_=cc.callFunc(function(){}.bind(this));a[h]._children[1].runAction(cc.sequence(_,u,d))}return a}},t.prototype.matespecialeliminlist=function(e,t){for(var n=e,o=t.posList,i=0;i<n.length;i++)if(n[i].length==o.length){for(var a=0,r=0;r<n[i].length;r++)n[i][r]==o[r]&&(a+=1);if(a==o.length)return n[i]}return null},t.prototype.judgecombination=function(e,t){var n=this.getInedxToyleElimintaedata(t),o=this.getIndexSpecialElemGridPieceList(t),i=this.getSpecialEliminateData(t),a=this.getrandomspecialEliminta(t),r=this.getSpecialEliminateData(t),s=this.getElimintaetScore(t),c=this.getEliminateCompliteGride(t),l=this.getEliminateSpecialRedBg(t);if(console.log("7777777777777777777777",t,l),i&&i.length){var p=this.getSpecialEliminateGrideId(t);this.setSpecialEliminate(p,i,a,r,s,c,l)}else for(var h=0;h<o.length;h++){var u=this.matespecialeliminlist(n,o[h]),d=o[h];if(!u||!u.length)return void console.error("judgecombination\u51fa\u9519\u4e86");9==d.elem?this.CombinationRocket(u,d,c):10==d.elem?this.CombinationChocolates(u,d,c):11==d.elem&&this.CombinationCandy(u,d,c)}},t.prototype.CombinationRocket=function(e,t,n){console.log("\u53ef\u4ee5\u7ec4\u5408\u706b\u7bad\u4e86",t);var o=n[e[0]-1],i=t;if(i&&i.pos){var a=i.pos,s=this.setImgByEliminatedata(e,o,!0,!0);this.MoveGrideCombinationRocket(s,a,r.SetScatterType.Rocket)}},t.prototype.MoveGrideCombinationRocket=function(e,t,n){var o=this,i=e;if(null!=(t||0)){var a=this.getredbgidnode(i,t,"node_image_effect");if(a){cc.tween(this.node).delay(.5).call(function(){for(var e=function(e){a&&i[e]&&(i[e].getChildByName("img_bg").active=!1,i[e].tw,i[e].stopAllActions(),cc.tween(i[e]).to(.3,{position:new cc.Vec3(a.x,a.y)}).call(function(){i[e].active=!1}).start())},t=0;t<i.length;t++)e(t)}).start(),this.scheduleOnce(function(){a.active=!1,o.initImgAndEffectpoint()},.85);var s=cc.delayTime(1),c=cc.callFunc(function(){n==r.SetScatterType.Chocolates?(slot.SoundMger.instance.playEffect("Chocolate_Bomb_Explosion_Sound",!1),this.setchocolatespoint(t)):n==r.SetScatterType.Rocket?this.setrocketpoint(t):r.SetScatterType.Cabdy&&this.setrcandypoint(t),game.EventManager.getInstance().raiseEvent(r.mouseEvent.ANIMATION_STOP_CALL_BACK)}.bind(this));this.node.runAction(cc.sequence(s,c))}}},t.prototype.byIdgetnode=function(e,t){for(var n="node_image"+t,o=0;o<e.length;o++)if(e[o].name==n)return e[o];return null},t.prototype.CombinationChocolates=function(e,t,n){console.log("\u53ef\u4ee5\u7ec4\u5408\u5de7\u514b\u529b\u4e86",t);var o=n[e[0]-1],i=t;if(i&&i.pos){var a=i.pos,s=this.setImgByEliminatedata(e,o,!0,!0);this.MoveGrideCombinationRocket(s,a,r.SetScatterType.Chocolates)}},t.prototype.CombinationCandy=function(e,t,n){console.log("\u53ef\u4ee5\u7ec4\u5408\u795e\u79d8\u7cd6\u679c\u4e86",t);var o=n[e[0]-1],i=t;if(i&&i.pos){var a=i.pos,s=this.setImgByEliminatedata(e,o,!0,!0);this.MoveGrideCombinationRocket(s,a,r.SetScatterType.Cabdy)}},t.prototype.setrcandypoint=function(e){this.CandyCount=this.CandyCount+1,console.log("\u521b\u5efa\u4e86\u7cd6\u679c");var t=this.node.getChildByName("scrollerLayer").getChildByName("tounchLayer").getChildByName("node"+e),n=this.all_Candy_cfg[this.CandyCount];n&&t&&(n.active=!0,this.Record_Candy_Data.push({cand_node:n,id:e}),n.x=t.x,n.y=t.y,n.getComponent(sp.Skeleton).setAnimation(0,"fadein",!1),n.getComponent(sp.Skeleton).setCompleteListener(function(){"fadein"==n.getComponent(sp.Skeleton).animation&&n.getComponent(sp.Skeleton).setAnimation(0,"idle",!0)}))},t.prototype.ByIdGetCandyNode=function(e){var t=this.Record_Candy_Data;if(t&&t.length&&0!=t.length){for(var n=0;n<t.length;n++)if(t[n].id==e)return t[n].cand_node;return null}},t.prototype.byidgetcand=function(e){var t=this.Record_Candy_Data;if(t&&t.length&&0!=t.length){for(var n=0;n<t.length;n++)if(t[n].id==e)return t[n].cand_node;return null}},t.prototype.setSpecialEliminate=function(e,t,n,o,i,a,r){e&&e.length&&0!=e.length&&(t.length>=3?this.setSpecialEliminateEffect(e,t,o,n,i,a,r):2==t.length?this.setSpecialEliminateEffect(e,t,o,n,i,a,r):(this.setdataReadbg(r,[]),this.setdataImageAndEffectSprite(e,t,a,n),this.setSpecialEliminateEffect(e,t,o,n,i,a,r)))},t.prototype.setSpecialImagePos=function(e){return 1==e.length?e[0]:e.length>=2?this.SortMoveSpecialViewdata(e)[0]:void 0},t.prototype.setSpecialMaxImageElem=function(e){return 1==e.length?e[0]:e.length>=2?this.SortMoveSpecialdecline(e)[0]:void 0},t.prototype.setdataImageAndEffectSprite=function(e,t,n,o){var i=this.all_image_effect,a=this.setSpecialImagePos(t),r=this.setSpecialMaxImageElem(t);if(console.log(";ppppppppppppppppppppp",e,a.pos-1),console.log("\u521b\u5efa\u5bf9\u5e94\u7684\u56fe\u7247",e,a,t),e&&e.length&&0!=e.length){for(var s=0;s<e.length;s++)if(e[s]==a.pos-1)if(9==r.elem||10==r.elem);else{var c=this.setFuseDataType(t);if(0==c)this.setImageNodeByData(i,e[s],n,e,!0,o[0]);else if(1==c)if(1==o.length){var l=o[0];this.setImageNodeByData(i,e[s],n,e,!0,l)}else console.error("\u7cd6\u679c\u5c55\u793a\u6570\u636e\u51fa\u9519\u4e86");else if(2==c){var p=a.pos,h=this.setCandBlikIamgPos(p);3==o.length?(l=o[1],this.setShowCandyImage(o,h),this.setImageNodeByData(i,e[s],n,e,!0,l)):console.error("\u53cc\u7cd6\u679c\u6570\u636e\u878d\u5408\u5931\u8d25\u4e86")}}else this.setImageNodeByData(i,e[s],n,e,!1,null);this.setImageshake()}},t.prototype.setShowCandyImage=function(e,t){if(console.log("uuuuuuuuuuuuuuuuuuu",e,t),3==e.length&&3==t.length){var n=this.all_candy_img;if(1==t[0].type)for(var o=0;o<t.length;o++){var i=e[o],a=this.ByPosGetNode(t[1].pos_id);t[o].pos_id<t[1].pos_id?(n[o].x=a.x-100,n[o].y=a.y):t[o].pos_id==t[1].pos_id?(n[o].x=a.x,n[o].y=a.y):t[o].pos_id>t[1].pos_id&&(n[o].x=a.x+100,n[o].y=a.y),n[o].opacity=255,n[o]&&game.EventManager.getInstance().raiseEvent(r.CabdyEvent.EVENT_CHANGE_CANDY_SHOW_IMAGE,n[o].getChildByName("image_car"),i)}else for(o=0;o<t.length;o++)i=e[o],a=this.ByPosGetNode(t[1].pos_id),t[o].pos_id<t[1].pos_id?(n[o].x=a.x,n[o].y=a.y+100):t[o].pos_id==t[1].pos_id?(n[o].x=a.x,n[o].y=a.y):t[o].pos_id>t[1].pos_id&&(n[o].x=a.x,n[o].y=a.y-100),n[o].opacity=255,n[o]&&game.EventManager.getInstance().raiseEvent(r.CabdyEvent.EVENT_CHANGE_CANDY_SHOW_IMAGE,n[o].getChildByName("image_car"),i)}else console.error("\u8bbe\u7f6e\u7cd6\u679c\u5c55\u793a\u51fa\u9519\u4e86")},t.prototype.setImageNodeData=function(){},t.prototype.setCandBlikIamgPos=function(e){var t=[];if(this.getCandPointState(e)){var n=e-6,o=e+6,i=this.DecideWhetherDataStae(n),a=this.DecideWhetherDataStae(o);i&&a&&(t.push({pos_id:n,type:1}),t.push({pos_id:e,type:1}),t.push({pos_id:o,type:1}))}else t.push({pos_id:e-1,type:2}),t.push({pos_id:e,type:2}),t.push({pos_id:e+1,type:2});return t},t.prototype.DecideWhetherDataStae=function(e){return e>=1&&e<=36},t.prototype.getCandPointState=function(e){for(var t=this.SpcialShowCandyPoint,n=0;n<t.length;n++)if(e==t[n])return!0;return!1},t.prototype.setFuseDataType=function(e){if(1==e.length)return 0;if(2==e.length){var t=e[0],n=e[1];return t.elem===n.elem?2:1}return 0},t.prototype.setImageNodeByData=function(e,t,n,o,i,a){for(var s="node_image_effect"+(t+1),c=0;c<e.length;c++)if(e[c]&&e[c].name==s){e[c].active=!0,e[c].getChildByName("img_bg").active=!1,this.record_img_and_effect.push(e[c]);var l=this.setDataGirdeByid(t,n);1==i&&(e[c].zIndex=6),l&&(11!=l&&9!=l&&10!=l||a&&(l=a,console.log("hht",a)),game.EventManager.getInstance().raiseEvent(r.CabdyEvent.EVENT_CHANGE_IMAGE_ID,e[c].getChildByName("imgcard"),l))}},t.prototype.setImageshake=function(){this.stopImageshake();var e=this.record_img_and_effect;this.initClrarImgPoint(e);for(var t=0;t<e.length;t++)if(e[t]){this.Record_Shake_imge_node.push(e[t]);var n=e[t].x,o=e[t].y,i=cc.sequence(cc.moveTo(.1,cc.v2(n-2,o)),cc.moveTo(.1,cc.v2(n+2,o)),cc.moveTo(.1,cc.v2(n+2,o+2)),cc.moveTo(.1,cc.v2(n-2,o+2)),cc.moveTo(.1,cc.v2(n+2,o-2)),cc.moveTo(.1,cc.v2(n,o)));e[t].runAction(cc.repeatForever(i))}else console.error("setImageshake \u51fa\u9519\u4e86")},t.prototype.initClrarImgPoint=function(e){for(var t=this.node.getChildByName("scrollerLayer").getChildByName("tounchLayer"),n=0;n<e.length;n++){var o=e[n].name.split("node_image_effect"),i=Number(o[1]),a=t.getChildByName("node"+i);a&&(e[n].active=!0,e[n].getChildByName("imgcard").active=!0,a.x&&a.y&&e[n]?(e[n].x=a.x,e[n].y=a.y):console.error("initRedbgpoint"))}},t.prototype.stopImageshake=function(){for(var e=this.Record_Shake_imge_node,t=0;t<e.length;t++)e[t].stopAllActions();this.Record_Shake_imge_node=[]},t.prototype.setDataGirdeByid=function(e,t){return t[e]},t.prototype.setdataReadbg=function(e,t){var n=t,o=null,i=!1,a=this.all_red_bg;if(this.record_red_bag=[],2==n.length){o=this.setElementGatherlist(n);var r=n[0],s=n[1];9==s.elem&&11==r.elem||11==s.elem&&9==r.elem?i=!0:11==s.elem&&11==r.elem?i=!0:(11==s.elem&&10==r.elem||10==s.elem&&11==r.elem)&&(i=!0)}if(i){if(!(a&&a.length&&0!=a.length&&e&&e.length&&0!=e.length))return;for(var c=0;c<e.length;c++)if(e[c]!=o[1].pos)for(var l="node_red_bg"+e[c],p=0;p<a.length;p++)a[p].name==l&&(a[p].active=!0,this.record_red_bag.push(a[p]))}else{if(!(a&&a.length&&0!=a.length&&e&&e.length&&0!=e.length))return;for(c=0;c<e.length;c++)for(l="node_red_bg"+e[c],p=0;p<a.length;p++)a[p].name==l&&(a[p].active=!0,this.record_red_bag.push(a[p]))}},t.prototype.setSpecialEliminateEffect=function(e,t,n,o,i,a,r){if(t&&t.length&&0!=t.length&&e&&e.length&&0!=e.length)if(e.length,slot.SoundMger.instance.playEffect("PrizeDisappear",!1),t&&1==t.length){var s=t[0],c=t[0].elem,l=t[0].pos;9==c?this.setOneRocketBlastEffect(e,s,a,r):10==c?this.setOneChocolatesBlastEffect(e,s,a,r):11==c&&this.setOneCandyBlastEffect(e,l,c,a,r)}else t&&2==t.length?this.throughGridEliminate(n,t,e,o,a,r):t&&t.length>=3&&(console.log("\u5df2\u7ecf\u51fa\u73b0\u4e09\u4e2a \u9700\u8981\u64ad\u653e\u6e05\u5c4f\u52a8\u6548"),this.ClearAllNodeByEffect(n,e,t,i,a,r,o))},t.prototype.setOneRocketBlastEffect=function(e,t,n,o){var i=this,a=e,r=t,s=a[0],c=a[1],l=a[2],p=c-s,h=l-c,u=r.pos;[].push(u);var d=this.ByElemGetSpecialNode(r);cc.tween(d).delay(.2).to(.3,{scaleY:.8}).to(.3,{scaleY:1}).call(function(){if(d.active=!1,6==p||6==h){i.setBlickeffect(r.pos,r.elem,e,1,o,r);var t=i.record_img_and_effect[0],n=i.record_img_and_effect[i.record_img_and_effect.length-1],a=i.record_img_and_effect.length;d.active=!0,a<5?(d.x=t.x-360,d.y=t.y):(d.x=t.x-160,d.y=t.y),d.x=t.x-160,d.y=t.y,d.rotation=90,i.stopImageshake(),cc.tween(d).to(1,{position:new cc.Vec3(n.x+400,n.y)}).call(function(){d.rotation=0,i.closeRedbg()}).start()}else 1!=p&&1!=h||(console.log("jjjjjjjjjjjjjjjjjjjj",i.record_img_and_effect),a=i.record_img_and_effect.length,i.setBlickeffect(r.pos,r.elem,e,2,o,r),t=i.record_img_and_effect[i.record_img_and_effect.length-1],n=i.record_img_and_effect[0],d.active=!0,a<5?(console.log("pppppppppppppppp"),d.x=t.x,d.y=t.y-600,console.log("ssssssssssssssssss",t.x,t.y-400,n.x,n.y+400)):(d.x=t.x,d.y=t.y-160),i.stopImageshake(),cc.tween(d).to(.8,{position:new cc.Vec3(n.x,n.y+400)}).call(function(){i.closeRedbg()}).start())}).start(),this.scheduleOnce(function(){i.setAllgirdemove()},.2)},t.prototype.setAllgirdemove=function(){var e=this.node.getChildByName("scrollerLayer").getChildByName("rollerMask"),t=e.x,n=e.y;cc.tween(e).to(.08,{position:new cc.Vec3(t-5,n)}).to(.08,{position:new cc.Vec3(t-5,n-5)}).to(.08,{position:new cc.Vec3(t+5,n-5)}).to(.08,{position:new cc.Vec3(t,n)}).call(function(){}).start()},t.prototype.setBlickeffect=function(e,t,n,o,i){var a=this,r=e,s=1;t>=9&&(s=7);var c=this.record_red_bag,l=this.record_img_and_effect,p=this.getredbgidnode(c,r,"node_red_bg");if(this.setNodePlayBleakEffect(p,s,0),1==o)for(var h=.15,u=function(e){if(i[e]!=r){var t=i[e],n=d.getredbgidnode(c,t,"node_red_bg"),o=d.getredbgidnode(l,t,"node_image_effect"),s=d.CurrProto.spinResult.grid[i[e]-1];n&&(h+=.08,cc.tween(n).delay(h).call(function(){o&&(o.active=!1),a.setNodePlayBleakEffect(n,s,0)}).start())}},d=this,_=0;_<i.length;_++)u(_);else if(2==o){h=.15;var f=function(e){if(i[e]!=r){var t=i[e],n=g.getredbgidnode(c,t,"node_red_bg"),o=g.getredbgidnode(l,t,"node_image_effect"),s=g.CurrProto.spinResult.grid[i[e]-1];n&&o&&(h+=.08,cc.tween(n).delay(h).call(function(){o.active=!1,a.setNodePlayBleakEffect(n,s,0)}).start())}},g=this;for(_=i.length-1;_>=0;_--)f(_)}},t.prototype.getredbgidnode=function(e,t,n){for(var o=n+t,i=0;i<e.length;i++)if(e[i].name==o)return e[i];return null},t.prototype.closeRedbg=function(){for(var e=this.record_red_bag,t=this.record_img_and_effect,n=0;n<e.length;n++)e[n].active=!1;for(n=0;n<t.length;n++)t[n].active=!1;this.record_red_bag=[],this.record_car_img=[],this.record_img_and_effect=[],this.initRedbgpoint(),this.initImgAndEffectpoint()},t.prototype.setLargeRocketBlastEffect=function(){},t.prototype.setOneCandyBlastEffect=function(e,t,n,o,i){var a=this;[].push(t);var r=this.byidgetcand(t);console.log("\u8bbe\u7f6e\u7cd6\u679c\u7206\u70b8",e,t),slot.SoundMger.instance.playEffect("Disappearwheel_Sound",!1),r&&(r.active=!0,r.getComponent(sp.Skeleton).setAnimation(0,"win",!1),r.getComponent(sp.Skeleton).setCompleteListener(function(){r.getComponent(sp.Skeleton).setAnimation(0,"win_exit",!1),r.getComponent(sp.Skeleton).setCompleteListener(function(){"win_exit"==r.getComponent(sp.Skeleton).animation&&(a.setOneCandyBlastNodeeffect(e,t,n,i),r.active=!1,r.getComponent(sp.Skeleton).setAnimation(0,"None",!1))})}))},t.prototype.setOneCandyBlastNodeeffect=function(e,t,n,o){var i=this;console.log("\u7cd6\u679c\u8981\u7206\u70b8\u7206\u70b8\u7206\u70b8\u4e86",e,t);var a=this.record_red_bag,r=this.record_img_and_effect;this.getredbgidnode(a,t,"node_red_bg");for(var s=function(e){var t=o[e],n=c.getredbgidnode(a,t,"node_red_bg"),s=c.getredbgidnode(r,t,"node_image_effect"),l=c.CurrProto.spinResult.grid[o[e]-1];s&&(s.active=!1),cc.tween(n).delay(.1).call(function(){i.setNodePlayBleakEffect(n,l,0)}).start()},c=this,l=0;l<o.length;l++)s(l);this.scheduleOnce(function(){i.closeRedbg()},.8)},t.prototype.setOneChocolatesBlastEffect=function(e,t,n,o){var i=this;console.log("\u8bbe\u7f6e\u5de7\u514b\u529b\u7206\u70b8",e,t);var a=t.pos;[].push(a),slot.SoundMger.instance.playEffect("Chocolate_Bomb_Explosion_Sound",!1);var r=this.ByElemGetSpecialNode(t);cc.tween(r).to(.3,{scale:1.3}).to(.2,{scale:0}).call(function(){r.active=!1,r.scale=1,i.stopImageshake(),i.setOneChocolatesAllNodeBlast(e,t,o),slot.SoundMger.instance.playEffect("Chocolate_Bomb_Explosion_Eound",!1)}).start()},t.prototype.setOneChocolatesAllNodeBlast=function(e,t,n){var o=this,i=this.record_red_bag,a=this.record_img_and_effect,r=this.getredbgidnode(i,t.pos,"node_red_bg"),s=1;t.elem>=9&&(s=7),this.setNodePlayBleakEffect(r,s,3);for(var c=function(e){if(n[e]!=t.pos){var r=n[e],s=l.getredbgidnode(i,r,"node_red_bg"),c=l.getredbgidnode(a,r,"node_image_effect"),p=l.CurrProto.spinResult.grid[n[e]-1];c&&(c.active=!1),cc.tween(s).delay(.1).call(function(){o.setNodePlayBleakEffect(s,p,3)}).start()}},l=this,p=0;p<n.length;p++)c(p);this.scheduleOnce(function(){o.closeRedbg()},.8)},t.prototype.throughGridEliminate=function(e,t,n,o,i,a){console.log("xxxxxxxxxxxxxxxxxxxxxxxxxx",e);var r=this.judgFuseType(e).elem,s=this.judgFusePose(e),c=t;9==r?this.RocketElimination(s.pos,c,n,o,i,a):10==r?this.ChocolatesElimination(s.pos,c,n,o,i,a):11==r&&this.CandyElimination(s.pos,c,n,o,i,a)},t.prototype.judgFuseType=function(e){var t=e[0],n=e[1];return t.elem>n.elem?t:t.elem<n.elem?n:t},t.prototype.judgFusePose=function(e){var t=e[0],n=e[1];return t.pos>n.pos?n:t.pos<n.pos?t:void 0},t.prototype.setElementGatherlist=function(e){var t=[],n=e[0],o=e[1];return n.pos>o.pos?(t.push(n),t.push(o)):(t.push(o),t.push(n)),t},t.prototype.RocketElimination=function(e,t,n,o,i,a){for(var r=this,s=t,c=[],l=0;l<a.length;l++)c.push(a[l]-1);this.setRocketAndRocketSplitData(e,c);var p=this.setRocketAndRocketSplitData(e,c);if(p&&p.length&&0!=p.length){var h=[];for(l=0;l<s.length;l++)h.push(s[l].pos);this.setRendNodeViseable(h);var u=this.setElementGatherlist(s),d=null,_=null;u&&u.length&&u.length>0?(d=this.ByElemGetSpecialNode(u[0]),_=this.ByElemGetSpecialNode(u[1]),d&&_?cc.tween(d).to(.3,{position:new cc.Vec3(_.x,_.y)}).call(function(){d.active=!1,cc.tween(_).to(.3,{scale:.8}).to(.3,{scale:1}).call(function(){_.active=!1,r.setReadbgandImg(n,t,i,a,o),r.ShowRendNode(h),r.setlagerRocketremove(u[1].pos,u[1].elem,p,n)}).start()}).start():console.error("\u83b7\u53d6\u5230\u7cd6\u679c\u79fb\u52a8\u8282\u70b9\u5931\u8d25")):console.error("\u79fb\u52a8\u5217\u8868\u51fa\u9519\u4e86")}},t.prototype.setReadbgandImg=function(e,t,n,o,i){console.log("hhhhhhhhhhhhh",t,n,o,i),this.setdataReadbg(o,t),this.setdataImageAndEffectSprite(e,t,n,i)},t.prototype.setlagerRocketremove=function(e,t,n,o){var i=this,a=n,r=this.setRocketNum(a);this.stopImageshake();var s=this.record_red_bag,c=this.record_img_and_effect,l=this.getredbgidnode(s,e,"node_red_bg"),p=1;if(t>=9&&(p=7),this.setNodePlayBleakEffect(l,p,0),r&&r.length&&a.length==r.length){console.log("ccccccccccccccccccccc",a);for(var h=function(e){var t=e+1,n=a[e],o=r[e].data;if(n[0]==n[1])return"break";var i=u.ByPosGetNode(n[0]),s=u.ByPosGetNode(n[1]);o.active=!0,1==t?(o.x=i.x-200,o.y=i.y,o.rotation=90,cc.tween(o).to(.8,{position:new cc.Vec3(s.x+200,s.y)}).call(function(){o.active=!1,o.rotation=0}).start()):2==t?(o.x=i.x,o.y=i.y-200,cc.tween(o).to(.8,{position:new cc.Vec3(s.x,s.y+200)}).call(function(){o.active=!1}).start(),console.log(">>>>>>>>>>>>>>>>>>>",o.x,o.y,s.x,s.y,i.x,i.y)):3==t?(o.x=i.x-120,o.y=i.y-120,o.rotation=45,cc.tween(o).to(.8,{position:new cc.Vec3(s.x+120,s.y+120)}).call(function(){o.active=!1,o.rotation=0}).start()):4==t&&(o.x=i.x+100,o.y=i.y-100,o.rotation=-45,cc.tween(o).to(.8,{position:new cc.Vec3(s.x-120,s.y+100)}).call(function(){o.active=!1,o.rotation=0}).start())},u=this,d=0;d<a.length&&"break"!==h(d);d++);var _=cc.delayTime(.35),f=cc.callFunc(function(){for(var t=0;t<o.length;t++){console.log("fffffffffffffffffffffff",e+1);var n=o[t]+1,i=this.getredbgidnode(s,n,"node_red_bg"),a=this.getredbgidnode(c,n,"node_image_effect"),r=this.CurrProto.spinResult.grid[o[t]];a&&(a.active=!1,this.setNodePlayBleakEffect(i,r,0))}}.bind(this));this.node.runAction(cc.sequence(_,f)),this.scheduleOnce(function(){i.closeRedbg()},.85)}else console.error("\u706b\u7bad\u6570\u636e\u51fa\u9519\u4e86")},t.prototype.setRocketAndRocketSplitData=function(e,t){console.log("HHHHHHHHHHHHHHHHHHHHHHHHHSSS",e,t);var n=Math.floor(e/6),o=e%6;o=0==o?6:o,o--,console.log("x = ",n,"  y = ",o);for(var i=cc.v2(0,o),a=cc.v2(n,5),r=n,s=o,c=0;c<6&&!(r<=0||s>=5);c++)r-=1,s+=1;var l=cc.v2(r,s);for(r=n,s=o,c=0;c<6&&!(r>=5||s>=5);c++)r++,s++;var p=cc.v2(r,s),h=cc.v2(5,o),u=cc.v2(n,0);for(r=n,s=o,c=0;c<6&&!(r>=5||s<=0);c++)r++,s--;var d=cc.v2(r,s);for(r=n,s=o,c=0;c<6&&!(r<=0||s<=0);c++)r--,s--;var _=cc.v2(r,s);function f(e){return 6*e.x+e.y+1}return[[f(i),f(h)],[f(a),f(u)],[f(l),f(d)],[f(p),f(_)]]},t.prototype.NewSplitRocketEliminData=function(e){var t=e,n=this.setGrideposBylistNum(t),o=this.setGrideposByverticalList(t);return this.createMoveDataByRowAndList(n,o)},t.prototype.createMoveDataByRowAndList=function(e,t){var n=[];if(e>0&&e<7){var o=[e,e+30];n.push({move_data:o,type:1})}else console.error("\u521b\u5efa\u884c\u6570\u636e\u51fa\u9519\u4e86");if(t>0&&t<7){var i=[6*t,6*t-5];n.push({move_data:i,type:2})}else console.error("\u521b\u5efa\u884c\u6570\u636e\u51fa\u9519\u4e86");return n},t.prototype.SplitRocketEliminData=function(e,t){console.log("fffffffffffffff",e,t);var n=t,o=e,i=null,a=Math.ceil(o/6);0==a||1==a?i=0:2==a?i=6:3==a?i=12:4==a?i=18:5==a?i=24:6==a&&(i=30);var r=!1;if(i)for(var s=0;s<n.length;s++)n[s]==i&&(r=!0);if(r){var c=[],l=[],p=[],h=[],u=[];for(s=0;s<n.length;s++)0==n[s]||6==n[s]||12==n[s]||18==n[s]||24==n[s]||30==n[s]?u.push(n[s]):11==n[s]||17==n[s]||23==n[s]||29==n[s]?p.push(n[s]):n[s]>30&&n[s]<=35?h.push(n[s]):n[s]>0&&n[s]<=5&&l.push(n[s]);if(6==u.length&&5==l.length){(g=[]).push(u[0]),g.push(u[u.length-1]),(f=[]).push(l[l.length-1]),f.push(u[0]);var d=[];if(p.length&&p.length>0)for(s=0;s<p.length;s++)5==p[s]&&35==p[s]||d.push(p[s]);var _=[];if(h.length&&h.length>0)for(s=0;s<h.length;s++)30!=h[s]&&_.push(h[s]);_.push(u[0]),f&&f.length&&0!=f.length&&c.push({data:f,id:1,type:0}),d&&d.length&&0!=d.length&&c.push({data:d,id:2,type:0}),_&&_.length&&0!=_.length&&c.push({data:_,id:3,type:0}),g&&g.length&&0!=g.length&&c.push({data:g,id:4,type:0})}else if(6==u.length&&5==h.length){if((g=[]).push(u[0]),g.push(u[u.length-1]),(_=[]).push(h[h.length-1]),_.push(u[u.length-1]),d=[],p.length&&p.length>0)for(s=0;s<p.length;s++)5==p[s]&&35==p[s]||d.push(p[s]);var f=[];if(l.length&&l.length>0)for(s=0;s<l.length;s++)0!=l[s]&&f.push(l[s]);f.push(u[u.length-1]),f&&f.length&&0!=f.length&&c.push({data:f,id:1,type:1}),d&&d.length&&0!=d.length&&c.push({data:d,id:2,type:1}),_&&_.length&&0!=_.length&&c.push({data:_,id:3,type:1}),g&&g.length&&0!=g.length&&c.push({data:g,id:4,type:1})}else{if(f=[],l.length&&l.length>0){for(s=0;s<l.length;s++)0!=l[s]&&f.push(l[s]);f&&f.length&&1==f.length?f.push(i):console.error("\u7b2c\u4e00\u5217\u6570\u636e\u51fa\u9519\u4e86")}if(d=[],console.log("mmmmmmmmmmmmmmmmmmmmm0",p,i),p.length&&p.length>0){for(s=0;s<p.length;s++)5!=p[s]&&35!=p[s]&&d.push(p[s]);d&&d.length&&1==d.length?d.push(i):console.error("\u7b2c\u4e8c\u5217\u6570\u636e\u662f\u7a7a\u7684\u4e86")}var g;if(_=[],h.length&&h.length>0){for(s=0;s<h.length;s++)30!=h[s]&&_.push(h[s]);_&&_.length&&1==_.length?_.push(i):console.error("\u7b2c\u4e09\u5217\u6570\u636e\u662f\u7a7a\u7684\u4e86")}(g=[]).push(u[0]),g.push(u[u.length-1]),f&&f.length&&0!=f.length&&c.push({data:f,id:1,type:0}),d&&d.length&&0!=d.length&&c.push({data:d,id:2,type:0}),_&&_.length&&0!=_.length&&c.push({data:_,id:3,type:0}),g&&g.length&&0!=g.length&&c.push({data:g,id:4,type:0})}return c}console.error("\u4e2d\u5fc3\u70b9\u4e0d\u5b58\u5728\uff0c\u6e38\u620f\u4e2d\u65ad\u4e86")},t.prototype.setRocketNum=function(e){var t=this.Record_Rocket_Data,n=[];if(t&&t.length>0){if(!e||!e.length||0==e.length)return;for(var o=0;o<this.all_rocket_cfg.length;o++){var i=n.length;e.length>i&&(this.judgChoiceIsVisiable(this.all_rocket_cfg[o],t)||n.push({data:this.all_rocket_cfg[o],id:o+1}))}}else{if(!e||!e.length||0==e.length)return;for(o=0;o<this.all_rocket_cfg.length;o++)o<e.length&&n.push({data:this.all_rocket_cfg[o],id:o+1})}return n},t.prototype.judgChoiceIsVisiable=function(e,t){for(var n=0;n<t.length;n++)if(t[n].rock_node._name==e.name)return!0;return!1},t.prototype.ChocolatesFuseType=function(e){var t=e[0],n=e[1];return t.elem<n.elem?t:n},t.prototype.ChocolatesElimination=function(e,t,n,o,i,a){for(var r=this,s=[],c=0;c<a.length;c++)s.push(a[c]-1);for(var l=[],p=0;p<t.length;p++)l.push(t[p].pos);this.setRendNodeViseable(l);var h=this.SplitChocolatesEliminData(e,s,t),u=t,d=this.setChocolatesFuseData(u),_=this.ChocolatesFuseType(u),f=d[0],g=d[1];if(d&&d.length&&d.length>0)if(9==_.elem){var m=this.ByElemGetSpecialNode(f),E=this.ByElemGetSpecialNode(g);m&&E?cc.tween(m).to(.3,{position:new cc.Vec3(E.x,E.y)}).call(function(){var e=null;9==f.elem?(m.active=!0,E.active=!1,e=m):(m.active=!1,E.active=!0,e=E),cc.tween(e).to(.3,{scaleY:.8}).to(.3,{scaleY:1}).call(function(){e.active=!1,r.setReadbgandImg(n,t,i,a,o),r.ShowRendNode(l),r.setRocketAndChocoleffeect(g.pos,g.elem,h,n,h)}).start()}).start():console.error("\u83b7\u53d6\u5230\u706b\u7bad\u5931\u8d25\u4e86")}else 10==_.elem&&this.setChocolatesAndChocolatesEffect(d,n,t,i,a,o,l);else console.error("\u878d\u5408\u961f\u5217\u51fa\u9519\u4e86")},t.prototype.SplitChocolatesEliminData=function(e,t,n){var o=t,i=n[0].elem,a=n[1].elem,r=e,s=[];Math.ceil(r/6);if(i==a);else{for(var c=[],l=[],p=0;p<o.length;p++)5==o[p]||11==o[p]||17==o[p]||23==o[p]||29==o[p]||35==o[p]?l.push(o[p]):o[p]>=0&&o[p]<5&&c.push(o[p]);if(6==l.length)if(2==c.length)for(c.push(5),p=0;p<c.length;p++){var h=c[p],u=c[p]+30;s.push({start:h,end:u})}else console.error("\u6570\u636e\u51fa\u9519\u4e86");else if(5==c.length)for(p=0;p<l.length;p++)h=l[p],u=l[p]-5,s.push({start:h,end:u});else if(3==l.length)for(p=0;p<l.length;p++)h=l[p],u=l[p]-5,s.push({start:h,end:u});else if(3==c.length)for(p=0;p<c.length;p++)h=c[p],u=c[p]+30,s.push({start:h,end:u})}return s},t.prototype.setChocolatesFuseData=function(e){var t=[];return 2==e.length?e[0].pos>e[1].pos?(t.push(e[0]),t.push(e[1])):e[0].pos<e[1].pos&&(t.push(e[1]),t.push(e[0])):console.error("\u5de7\u514b\u529b\u878d\u5408\u961f\u5217\u51fa\u9519\u4e86"),t},t.prototype.setRocketAndChocoleffeect=function(e,t,n,o,i){var a=this;this.stopImageshake();var r=this.record_red_bag,s=this.record_img_and_effect,c=o,l=this.getredbgidnode(r,e,"node_red_bg"),p=1;t>=9&&(p=7),this.setNodePlayBleakEffect(l,p,0);var h=this.setRocketNum(i),u=this.judgeSplitRocketDataDirection(i),d=null;if(console.log("vvvvvvvvvvvvvvvvv",h,i),u&&1==u){d=this.setClearImageByRocketMove(c,1);for(var _=function(t){var n=i[t].start,o=i[t].end,a=h[t].data,s=f.getredbgidnode(r,n+1,"node_red_bg"),c=f.getredbgidnode(r,o+1,"node_red_bg");a.active=!0,n==f.setGrideposBylistNum(e)-1?(a.x=s.x-100,a.y=s.y,a.rotation=90,cc.tween(a).to(.7,{position:new cc.Vec3(c.x+350,c.y)}).call(function(){a.active=!1}).start()):(a.x=s.x-300,a.y=s.y,a.rotation=90,cc.tween(a).to(.7,{position:new cc.Vec3(c.x+100,c.y)}).call(function(){a.active=!1}).start())},f=this,g=0;g<i.length;g++)_(g)}else if(2==u){d=this.setClearImageByRocketMove(c,2);var m=function(t){var n=i[t].start,o=i[t].end,a=h[t].data,s=E.setGrideposByverticalList(e),c=E.getredbgidnode(r,n+1,"node_red_bg"),l=E.getredbgidnode(r,o+1,"node_red_bg");a.active=!0,n==6*s-1?(a.x=c.x,a.y=c.y-100,cc.tween(a).to(.7,{position:new cc.Vec3(l.x,l.y+350)}).call(function(){a.active=!1}).start()):(a.x=c.x,a.y=c.y-300,cc.tween(a).to(.7,{position:new cc.Vec3(l.x,l.y+100)}).call(function(){a.active=!1}).start())},E=this;for(g=0;g<i.length;g++)m(g)}var v=0;if(d&&d.length&&0!=d.length){console.log("ggggggggggggggggggg",d);var y=function(e){v+=.08;var t=cc.delayTime(v),n=cc.callFunc(function(){for(var t=0;t<d[e].length;t++){var n=d[e][t]+1,o=this.getredbgidnode(r,n,"node_red_bg"),i=this.getredbgidnode(s,n,"node_image_effect"),a=this.CurrProto.spinResult.grid[d[e][t]];i&&(i.active=!1),this.setNodePlayBleakEffect(o,a,0)}}.bind(C));C.node.runAction(cc.sequence(t,n))},C=this;for(g=0;g<d.length;g++)y(g);this.scheduleOnce(function(){a.closeRedbg(),a.setAllRocketRotation()},1)}else console.error("\u6d88\u9664\u961f\u5217\u51fa\u9519\u4e86")},t.prototype.setClearImageByRocketMove=function(e,t){var n=[],o=[],i=[],a=[],r=[],s=[],c=[];if(1==t)for(var l=0;l<e.length;l++)e[l]>=0&&e[l]<=5?n.push(e[l]):e[l]>5&&e[l]<=11?o.push(e[l]):e[l]>11&&e[l]<=17?i.push(e[l]):e[l]>17&&e[l]<=22?a.push(e[l]):e[l]>22&&e[l]<=29?r.push(e[l]):e[l]>29&&e[l]<=35&&s.push(e[l]);else if(2==t)for(var p=0;p<e.length;p++)5==e[p]||11==e[p]||17==e[p]||23==e[p]||29==e[p]||35==e[p]?n.push(e[p]):4==e[p]||10==e[p]||16==e[p]||22==e[p]||28==e[p]||34==e[p]?o.push(e[p]):3==e[p]||9==e[p]||15==e[p]||21==e[p]||27==e[p]||33==e[p]?i.push(e[p]):2==e[p]||8==e[p]||14==e[p]||20==e[p]||26==e[p]||32==e[p]?a.push(e[p]):1==e[p]||7==e[p]||13==e[p]||19==e[p]||25==e[p]||31==e[p]?r.push(e[p]):0!=e[p]&&6!=e[p]&&12!=e[p]&&18!=e[p]&&24!=e[p]&&30!=e[p]||s.push(e[p]);return c.push(n),c.push(o),c.push(i),c.push(a),c.push(r),c.push(s),c},t.prototype.judgeSplitRocketDataDirection=function(e){for(var t=0;t<e.length;t++){var n=e[t].start;if(5!=n){if(n>=0&&n<5)return 1;if(11==n||17==n||23==n||29==n||35==n)return 2}}},t.prototype.setChocolatesAndChocolatesEffect=function(e,t,n,o,i,a,r){var s=this,c=e,l=null,p=null;if(c&&c.length){this.setRendNodeViseable(r),l=c[0],p=c[1];var h=this.ByElemGetSpecialNode(l),u=this.ByElemGetSpecialNode(p);h&&u&&cc.tween(h).to(.3,{position:new cc.Vec3(u.x,u.y)}).call(function(){h.active=!1,slot.SoundMger.instance.playEffect("Chocolate_Bomb_Explosion_Sound",!1),cc.tween(u).to(.3,{scale:1.2}).to(.1,{scale:0}).call(function(){slot.SoundMger.instance.playEffect("Chocolate_Bomb_Explosion_Eound",!1),u.active=!1,u.scale=1,s.setReadbgandImg(t,n,o,i,a),s.ShowRendNode(r),s.setChocolatesAndChocolatesViewImageClose(p.pos,p.elem,t,i)}).start()}).start()}},t.prototype.setChocolatesAndChocolatesViewImageClose=function(e,t,n,o){var i=this;this.stopImageshake();var a=this.record_red_bag,r=this.record_img_and_effect,s=this.getredbgidnode(a,e,"node_red_bg"),c=1;t>=9&&(c=7),this.setNodePlayBleakEffect(s,c,1);var l=cc.delayTime(.3),p=cc.callFunc(function(){for(var e=0;e<o.length;e++){var t=o[e],n=this.getredbgidnode(a,t,"node_red_bg"),i=this.getredbgidnode(r,t,"node_image_effect"),s=this.CurrProto.spinResult.grid[o[e]-1];i&&(i.active=!1),this.setNodePlayBleakEffect(n,s,0)}}.bind(this));this.node.runAction(cc.sequence(l,p)),this.scheduleOnce(function(){i.closeRedbg()},.7)},t.prototype.CandyElimination=function(e,t,n,o,i,a){console.log("xxxxxxxxxxxxxxx\u6211\u8981\u5f00\u59cb\u878d\u5408\u7cd6\u679c",t,n);var r=this.setCandyFuseData(t),s=this.judegFusintype(t),c=this.FuseLastPos(t);if(s||s.length)if(9==s.elem){var l=this.setRocketMoveListOfFuseCandy(c.pos);this.setRocketAndCandAnimation(l,n,r,o,i,a)}else 10==s.elem?this.setChocolatesAndCandyAnimation(n,r,o,i,a):11==s.elem&&this.setCandyAndCandyAnimation(n,r,o,i,a)},t.prototype.judegFusintype=function(e){var t=e[0],n=e[1];return t.elem>n.elem?n:t.elem<n.elem?t:t.elem==n.elem?t:null},t.prototype.FuseLastPos=function(e){var t=e[0],n=e[1];return t.pos>n.pos?n:t.pos<n.pos?t:t.pos==n.pos?t:null},t.prototype.setCandyFuseData=function(e){var t=e;if(t||t.length){var n=t[0],o=t[1],i=[];return n.pos>o.pos?(i.push(n),i.push(o)):n.pos<o.pos&&(i.push(o),i.push(n)),i}},t.prototype.setRocketMoveListOfFuseCandy=function(e){var t=e,n=[],o=this.setGrideposByverticalList(t),i=this.setGrideposBylistNum(t),a=[],r=[];return o&&o>0&&a.push(this.pos_vert_data[o-1]),i&&i>0&&r.push(this.pos_pervers_data[i-1]),n.push({data:a,id:1}),n.push({data:r,id:2}),n},t.prototype.setGrideposBylistNum=function(e){for(var t=0;t<6;t++)for(var n=0;n<6;n++)if(6*n+t==e-1)return t+1},t.prototype.setGrideposByverticalList=function(e){var t=Math.ceil(e/6);return 0==t||1==t?1:t},t.prototype.setRocketAndCandAnimation=function(e,t,n,o,i,a){for(var r=this,s=e,c=t,l=n,p=[],h=0;h<n.length;h++)p.push(n[h].pos);if(l&&l.length){var u=l[0],d=l[1],_=this.ByElemGetSpecialNode(d),f=this.ByElemGetSpecialNode(u);slot.SoundMger.instance.playEffect("Disappearwheel_Sound",!1),this.setRendNodeViseable(p),console.log("ffffffffffffffffff",f,_),u.elem>d.elem?cc.tween(f).to(.3,{position:new cc.Vec3(_.x,_.y)}).call(function(){_.active=!1,r.setReadbgandImg(c,n,i,a,o),f.getComponent(sp.Skeleton).setAnimation(0,"win1",!1),f.getComponent(sp.Skeleton).setCompleteListener(function(){f.getComponent(sp.Skeleton).setAnimation(0,"win_exit",!1),f.getComponent(sp.Skeleton).setCompleteListener(function(){"win_exit"==f.getComponent(sp.Skeleton).animation&&(f.active=!1,f.getComponent(sp.Skeleton).setAnimation(0,"None",!1),r.closeCandandRocketeffect(t,s,a,p))})})}).start():cc.tween(f).to(.3,{position:new cc.Vec3(_.x,_.y)}).call(function(){f.active=!1,r.setReadbgandImg(c,n,i,a,o),_.getComponent(sp.Skeleton).setAnimation(0,"win1",!1),_.getComponent(sp.Skeleton).setCompleteListener(function(){_.getComponent(sp.Skeleton).setAnimation(0,"win_exit",!1),_.getComponent(sp.Skeleton).setCompleteListener(function(){"win_exit"==_.getComponent(sp.Skeleton).animation&&(_.active=!1,_.getComponent(sp.Skeleton).setAnimation(0,"None",!1),r.closeCandandRocketeffect(t,s,a,p))})})}).start()}},t.prototype.closeCandandRocketeffect=function(e,t,n,o){var i=this,a=this.setRocketNum(t);if(a&&a.length){for(var r=this.record_red_bag,s=this.record_img_and_effect,c=function(e){var n=t[e],o=n.id,i=n.data,r=i[0][0],s=i[0][1],c=l.ByPosGetNode(r+1),p=l.ByPosGetNode(s+1);if(!c||!p)return{value:void 0};if(1==o){var h=a[e].data;h.x=c.x,h.y=c.y-150,h.active=!0,cc.tween(h).to(.7,{position:new cc.Vec3(p.x,p.y+150)}).call(function(){h.active=!1}).start()}else{var u=a[e].data;u.x=c.x-150,u.y=c.y,u.active=!0,u.rotation=90,cc.tween(u).to(.7,{position:new cc.Vec3(p.x+150,p.y)}).call(function(){u.active=!1,u.rotation=0}).start()}},l=this,p=0;p<t.length;p++){var h=c(p);if("object"==typeof h)return h.value}var u=function(e){var t=n[e],o=d.getredbgidnode(r,t,"node_red_bg"),a=d.getredbgidnode(s,t,"node_image_effect"),c=d.CurrProto.spinResult.grid[n[e]-1];a&&(a.active=!1),cc.tween(o).delay(.04).call(function(){i.setNodePlayBleakEffect(o,c,0)}).start()},d=this;for(p=0;p<n.length;p++)u(p);this.scheduleOnce(function(){i.ShowRendNode(o),i.closeRedbg()},.7)}},t.prototype.ByPosGetNode=function(e){var t="node"+e;return this.node.getChildByName("scrollerLayer").getChildByName("tounchLayer").getChildByName(t)||(console.error("\u83b7\u53d6\u8282\u70b9\u5931\u8d25"),null)},t.prototype.setChocolatesAndCandyAnimation=function(e,t,n,o,i){var a=this;console.log("PPPPPssssssssssssssssP",e,o,t);for(var r=e,s=[],c=0;c<t.length;c++)s.push(t[c].pos);this.setRendNodeViseable(s);var l=t[0],p=t[1],h=this.judgFusePose(t),u=this.ByElemGetSpecialNode(l),d=this.ByElemGetSpecialNode(p);u&&d&&(slot.SoundMger.instance.playEffect("Disappearwheel_Sound",!1),l.elem>p.elem?cc.tween(u).to(.3,{position:new cc.Vec3(d.x,d.y)}).call(function(){a.setReadbgandImg(r,t,o,i,n),d.active=!1,u.getComponent(sp.Skeleton).setAnimation(0,"win1",!1),u.getComponent(sp.Skeleton).setCompleteListener(function(){u.getComponent(sp.Skeleton).setAnimation(0,"win_idle",!1),u.getComponent(sp.Skeleton).setCompleteListener(function(){"win_exit"!=u.getComponent(sp.Skeleton).animation&&(u.getComponent(sp.Skeleton).setAnimation(0,"win_exit",!1),u.getComponent(sp.Skeleton).setCompleteListener(function(){u.active=!1,u.getComponent(sp.Skeleton).setAnimation(0,"None",!1),a.ShowRendNode(s),a.closeCureViewImageNode(r,h.pos)}))})})}).start():cc.tween(u).to(.3,{position:new cc.Vec3(d.x,d.y)}).call(function(){a.setReadbgandImg(r,t,o,i,n),u.active=!1,d.getComponent(sp.Skeleton).setAnimation(0,"win1",!1),d.getComponent(sp.Skeleton).setCompleteListener(function(){d.getComponent(sp.Skeleton).setAnimation(0,"win_idle",!1),d.getComponent(sp.Skeleton).setCompleteListener(function(){"win_exit"!=d.getComponent(sp.Skeleton).animation&&(d.getComponent(sp.Skeleton).setAnimation(0,"win_exit",!1),d.getComponent(sp.Skeleton).setCompleteListener(function(){d.active=!1,d.getComponent(sp.Skeleton).setAnimation(0,"None",!1),a.ShowRendNode(s),a.closeCureViewImageNode(r,h.pos)}))})})}).start())},t.prototype.ByElemGetSpecialNode=function(e){var t=e.elem,n=null;return 9==t?n=this.ByIdGetRocketNode(e.pos):10==t?n=this.ByIdGetChocolateNode(e.pos):11==t&&(n=this.ByIdGetCandyNode(e.pos)),n||(console.error("\u6ca1\u83b7\u53d6\u5230\u7279\u6b8a\u7cd6\u51fa\u9519\u4e86"),null)},t.prototype.closeCureViewImageNode=function(e,t){var n=this,o=this.record_red_bag,i=this.record_img_and_effect;this.stopImageshake();var a=this.getredbgidnode(i,t,"node_image_effect");console.log("ggggggggggggggggg",i,t,a),a&&(a.active=!1);var r=cc.delayTime(.2),s=cc.callFunc(function(){for(var n=0;n<e.length;n++)if(e[n]!=t-1){var a=e[n]+1,r=this.getredbgidnode(o,a,"node_red_bg"),s=this.getredbgidnode(i,a,"node_image_effect"),c=this.CurrProto.spinResult.grid[e[n]];s&&(s.active=!1),this.setNodePlayBleakEffect(r,c,0)}}.bind(this));this.node.runAction(cc.sequence(r,s)),this.scheduleOnce(function(){n.closeRedbg()},.7)},t.prototype.setCandyAndCandyAnimation=function(e,t,n,o,i){for(var a=this,r=e,s=t,c=[],l=0;l<t.length;l++)c.push(t[l].pos);this.setRendNodeViseable(c);var p=s[0],h=s[1],u=this.ByElemGetSpecialNode(p),d=this.ByElemGetSpecialNode(h);console.log("cccccccccccccccccc",h,t);var _=this.getCandPointState(h.pos);slot.SoundMger.instance.playEffect("Disappearwheel_Sound",!1),u&&d&&cc.tween(u).to(.3,{position:new cc.Vec3(d.x,d.y)}).call(function(){a.setReadbgandImg(r,t,o,i,n),u.active=!1,_&&(d.rotation=90),d.getComponent(sp.Skeleton).setAnimation(0,"win2",!1),d.getComponent(sp.Skeleton).setCompleteListener(function(){a.CloseCandyImage(),d.getComponent(sp.Skeleton).setAnimation(0,"win_exit2",!1),d.getComponent(sp.Skeleton).setCompleteListener(function(){"win_exit2"==d.getComponent(sp.Skeleton).animation&&(d.active=!1,d.rotation=0,d.getComponent(sp.Skeleton).setAnimation(0,"None",!1),a.ShowRendNode(c),a.closeCureViewImageNode(r,s[1].pos))})})}).start()},t.prototype.ClearAllNodeByEffect=function(e,t,n,o,i,a){for(var r=this,s=t,c=e,l=this.SortMoveSpecialViewdata(c),p=this.SortMoveSpecialdecline(c),h=[],u=0;u<e.length;u++)h.push(e[u].pos);this.setRendNodeViseable(h);var d=function(t){var n=_.ByElemGetSpecialNode(l[0]);if(t>0){var c=_.ByElemGetSpecialNode(l[t]);cc.tween(c).to(.3,{position:new cc.Vec3(n.x,n.y)}).call(function(){if(t==l.length-1){var n=p[0];console.log("dddddddddddddddddd",p);for(var c=0;c<p.length;c++)c>0&&(r.ByElemGetSpecialNode(p[c]).active=!1);r.playEffectOfClearAllIamge(n,s,o,i,a,e)}}).start()}},_=this;for(u=0;u<l.length;u++)d(u)},t.prototype.SortMoveSpecialViewdata=function(e){for(var t=[],n=e,o=0;o<n.length;o++)t.push(n[o].pos);var i=t.sort(function(e,t){return e-t}),a=[];for(o=0;o<i.length;o++)for(var r=0;r<n.length;r++)n[r].pos==i[o]&&a.push(n[r]);return a},t.prototype.SortMoveSpecialdecline=function(e){for(var t=[],n=e,o=0;o<n.length;o++)t.push(n[o]);return t.sort(function(e,t){return t.elem-e.elem})},t.prototype.playEffectOfClearAllIamge=function(e,t,n,o,i,a){console.log("\u64ad\u653e\u5168\u5c4f\u6d88\u9664\u52a8\u753b",e,t,a);for(var r=e,s=[],c=0;c<a.length;c++)s.push(a[c].pos);this.setImgAndEffect(t,o),this.setdataReadbg(i,[]),this.ShowRendNode(s);var l=this.ByElemGetSpecialNode(r);9==r.elem?(l.active=!1,this.FullScreenAnimation(t,n,i)):10==r.elem?(slot.SoundMger.instance.playEffect("Chocolate_Bomb_Explosion_Sound",!1),slot.SoundMger.instance.playEffect("Chocolate_Bomb_Explosion_Eound",!1),l.active=!1,l.scale=1,this.FullScreenAnimation(t,n,i)):11==r.elem&&(slot.SoundMger.instance.playEffect("Disappearwheel_Sound",!1),l.active=!1,this.FullScreenAnimation(t,n,i))},t.prototype.FullScreenAnimation=function(e,t,n){slot.SoundMger.instance.playEffect("Little_Game_Sound",!1);var o=this.p_largewinword,i=o.getPosition(),a=this.p_scoreLable.getPosition();this.p_largewinword.getChildByName("sp_multp").getComponent(s.default).string=2==slot.SpinManager.instance.nowGameType?"x10":"x2",o.active=!0,this.closescorelable(),game.EventManager.getInstance().raiseEvent(r.CabdyEvent.EVENT_BANNER_CTOR,0),this.p_wintitleworldtwomult.active=!0;var c=this.node.getChildByName("scrollerLayer").getChildByName("tounchLayer").getChildByName("hehongeffect");c.active=!0,c.getComponent(sp.Skeleton).setAnimation(0,"fadein",!0);var l=this.setSplitBlastEffect(n);this.setAllNodeShake();for(var p=0,h=function(e){var n=cc.delayTime(p),s=cc.callFunc(function(){var n=this;e==l.length-1&&cc.tween(o).to(.6,{position:new cc.Vec3(a.x,a.y)}).call(function(){n.p_largewinword.active=!1,n.p_largewinword.setPosition(i.x,i.y),n.p_wintitleworldtwomult.active=!1,game.EventManager.getInstance().raiseEvent(r.CabdyEvent.CLOSE_WIN_TITLE_WORLD_TWO_MULT),n._setLabMoney(t)}).start(),this.PlayAllIamgBleak(l[e])}.bind(u));u.node.runAction(cc.sequence(n,s)),p+=1.2},u=this,d=0;d<l.length;d++)h(d);var _=cc.delayTime(4.8),f=cc.callFunc(function(){for(var e=this,t=0;t<this.record_red_bag.length;t++)this.record_red_bag[t].active=!1;this.record_red_bag=[],this.record_img_effect=[],this.initRedbgpoint(),this.initImgAndEffectpoint(),cc.tween(c).to(.5,{scale:.3}).to(.5,{opacity:30}).delay(.1).call(function(){c.active=!1,c.scale=1,c.opacity=255,e.stopShake()}).start()}.bind(this));this.node.runAction(cc.sequence(_,f))},t.prototype.setAllNodeShake=function(){var e=cc.find("Canvas").getChildByName("main"),t=e.getPosition(),n=cc.sequence(cc.moveBy(.1,cc.v2(t.x-5,t.y)),cc.moveBy(.1,cc.v2(t.x-5,t.y+6)),cc.moveBy(.1,cc.v2(t.x+5,t.y-6)),cc.moveBy(.1,cc.v2(t.x+5,t.y)),cc.moveBy(.1,cc.v2(t.x,t.y)));e.runAction(cc.repeatForever(n))},t.prototype.stopShake=function(){var e=cc.find("Canvas").getChildByName("main");e.stopAllActions(),e.setPosition(this.move_node_point.x,this.move_node_point.y)},t.prototype.PlayAllIamgBleak=function(e){for(var t=this,n=this.record_red_bag,o=this.record_img_effect,i=function(i){var r=e[i],s=(a.getredbgidnode(n,r,"node_red_bg"),a.getredbgidnode(o,r,"node_image_effect")),c=a.CurrProto.spinResult.grid[e[i]-1];s&&(s.getChildByName("imgcard").active=!1),cc.tween(s).delay(.06).call(function(){t.setNodePlayBleakEffect(s,c,2)}).start()},a=this,r=0;r<e.length;r++)i(r)},t.prototype.setSplitBlastEffect=function(e){for(var t=[],n=[],o=[],i=[],a=[],r=0;r<e.length;r++){var s=this.querylist1(e[r]);1==s?t.push(e[r]):2==s?n.push(e[r]):3==s?o.push(e[r]):4==s&&i.push(e[r])}return a.push(t),a.push(n),a.push(o),a.push(i),a},t.prototype.querylist1=function(e){for(var t=0;t<this.list1.length;t++)if(this.list1[t]==e)return 1;for(t=0;t<this.list2.length;t++)if(this.list2[t]==e)return 2;for(t=0;t<this.list3.length;t++)if(this.list3[t]==e)return 3;for(t=0;t<this.list4.length;t++)if(this.list4[t]==e)return 4},t.prototype.setImgAndEffect=function(e,t){var n=this.all_image_effect;if(e&&e.length&&0!=e.length)for(var o=0;o<e.length;o++)for(var i="node_image_effect"+(e[o]+1),a=0;a<n.length;a++)if(n[a]&&n[a].name==i){n[a].active=!0,n[a].getChildByName("img_bg").active=!1,this.record_img_effect.push(n[a]);var s=this.setDataGirdeByid(e[o],t);if(s){var c=n[a].getChildByName("imgcard");game.EventManager.getInstance().raiseEvent(r.CabdyEvent.EVENT_CHANGE_IMAGE_ID,c,s)}}},t.prototype.initImgAndEffectpoint=function(){for(var e=this.node.getChildByName("scrollerLayer").getChildByName("tounchLayer"),t=0;t<this.all_image_effect.length;t++){var n=e.getChildByName("node"+(t+1));n&&(this.all_image_effect[t].active=!1,this.all_image_effect[t].getChildByName("imgcard").active=!0,this.all_image_effect[t].zIndex=4,n.x&&n.y&&this.all_image_effect[t]?(this.all_image_effect[t].x=n.x,this.all_image_effect[t].y=n.y):console.error("initRedbgpoint"))}},t.prototype.RemoveAllNode=function(){this.clearbear(),this.RocketCount=0,this.ChocolatesCount=0,this.CandyCount=0,this.setAllRocketViesable(),this.setAllChocolteViesable(),this.setAllCandyViesable(),this.Record_Chocolates_Data=[],this.Record_Rocket_Data=[],this.Record_Candy_Data=[],this.Record_Render_Node=[],this.initImgAndEffectpoint()},t.prototype.setScorebeatAnimation=function(e,t){for(var n=e,o=0,i=Math.floor(t/10*100)/100,a=0,r=0;r<12;r++){o+=.05;var c=cc.delayTime(o),l=cc.callFunc(function(){a+=i;var o=Math.floor(100*a)/100;if(n&&(e.getComponent(s.default).string=""+o,a>=t))return e.getComponent(s.default).string=""+t,void slot.SoundMger.instance.stopEffect("The_amount_of_the_broadcast_box_increases_the_soun_effect")}.bind(this));this.node.runAction(cc.sequence(c,l))}},t.prototype.setNodePlayBleakEffect=function(e,t,n){if(0==n)e.getChildByName("blast_effect")&&(e.getChildByName("blast_effect").active=!0,e.getChildByName("blast_effect").getComponent(cc.Animation).play("animation"+t),e.getChildByName("blast_effect").getComponent(cc.Animation).on("stop",function(){e.getChildByName("blast_effect").active=!1},this)),e.getChildByName("bg_effect")&&(e.getChildByName("bg_effect").active=!0,e.getChildByName("bg_effect").getComponent(sp.Skeleton).setAnimation(0,"animation",!1),e.getChildByName("bg_effect").getComponent(sp.Skeleton).setCompleteListener(function(){"animation"==e.getChildByName("bg_effect").getComponent(sp.Skeleton).animation&&(e.getChildByName("bg_effect").getComponent(sp.Skeleton).setAnimation(0,"None",!1),e.getChildByName("bg_effect").active=!1)}));else if(1==n){var o=e.getChildByName("chocolate_effect1"),i=e.getChildByName("chocolate_effect2"),a=e.getChildByName("chocolate_effect3");o&&(e.zIndex=7,o.active=!0,o.getComponent(sp.Skeleton).setAnimation(0,"animation1",!1),o.getComponent(sp.Skeleton).setCompleteListener(function(){"animation1"==o.getComponent(sp.Skeleton).animation&&(o.getComponent(sp.Skeleton).setAnimation(0,"None",!1),o.active=!1)}));var r=cc.delayTime(.06),s=cc.callFunc(function(){i&&a&&(i.active=!0,i.getComponent(sp.Skeleton).setAnimation(0,"animation2",!1),i.getComponent(sp.Skeleton).setCompleteListener(function(){"animation2"==i.getComponent(sp.Skeleton).animation&&(i.getComponent(sp.Skeleton).setAnimation(0,"None",!1),i.active=!1)}),a.active=!0,a.getComponent(sp.Skeleton).setAnimation(0,"animation3",!1),a.getComponent(sp.Skeleton).setCompleteListener(function(){"animation3"==a.getComponent(sp.Skeleton).animation&&(a.getComponent(sp.Skeleton).setAnimation(0,"None",!1),a.active=!1,e.zIndex=1)}))}.bind(this));this.node.runAction(cc.sequence(r,s))}else 2==n?(e.getChildByName("img_ani")&&(e.getChildByName("img_ani").active=!0,e.getChildByName("img_ani").getComponent(cc.Animation).play("animation"+t),e.getChildByName("img_ani").getComponent(cc.Animation).on("stop",function(){e.getChildByName("img_ani").active=!1},this)),e.getChildByName("bg_effect")&&(e.getChildByName("bg_effect").active=!0,e.getChildByName("bg_effect").getComponent(sp.Skeleton).setAnimation(0,"animation",!1),e.getChildByName("bg_effect").getComponent(sp.Skeleton).setCompleteListener(function(){"animation"==e.getChildByName("bg_effect").getComponent(sp.Skeleton).animation&&(e.getChildByName("bg_effect").getComponent(sp.Skeleton).setAnimation(0,"None",!1),e.getChildByName("bg_effect").active=!1)}))):3==n&&(e.getChildByName("blast_effect")&&(e.getChildByName("blast_effect").active=!0,e.getChildByName("blast_effect").getComponent(cc.Animation).play("animation"+t),e.getChildByName("blast_effect").getComponent(cc.Animation).on("stop",function(){e.getChildByName("blast_effect").active=!1},this)),e.getChildByName("blast_effect2")&&(e.getChildByName("blast_effect2").active=!0,e.getChildByName("blast_effect2").getComponent(cc.Animation).play("animation10"),e.getChildByName("blast_effect2").getComponent(cc.Animation).on("stop",function(){e.getChildByName("blast_effect2").active=!1},this)),e.getChildByName("bg_effect")&&(e.getChildByName("bg_effect").active=!0,e.getChildByName("bg_effect").getComponent(sp.Skeleton).setAnimation(0,"animation",!1),e.getChildByName("bg_effect").getComponent(sp.Skeleton).setCompleteListener(function(){"animation"==e.getChildByName("bg_effect").getComponent(sp.Skeleton).animation&&(e.getChildByName("bg_effect").getComponent(sp.Skeleton).setAnimation(0,"None",!1),e.getChildByName("bg_effect").active=!1)})))},t.prototype.updateWinSorce=function(e,t){!this.FreeGameNetWordState&&this.frist_enter_game&&(t>0?(this._setLabMoney(t),this.frist_enter_game=!1):game.EventManager.getInstance().raiseEvent(r.CabdyEvent.EVENT_BANNER_CTOR,1))},t.prototype.getfreegameNetworkstate=function(){this.FreeGameNetWordState=!0},t.prototype.btnCloseCallBack=function(e,t){console.log("llllllllllllll",t,e)},t.prototype.setRendNodeViseable=function(e){console.log("ddddddddddddddd",e);for(var t=0;t<e.length;t++){var n=e[t],o=slot.SlotMachineView.instance.scroller.getRenderByIndex(n);o.opacity=0,this.Record_Render_Node.push({node:o,pos_id:n})}},t.prototype.ShowRendNode=function(e){for(var t=this.Record_Render_Node,n=0;n<e.length;n++)for(var o=0;o<t.length;o++)t[o].pos_id==e[n]&&(t[o].node.opacity=255)},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.CabdyEvent.EVENT_SET_CLEAR_NODE_SCORE,this.setClrerNodeScore,this),game.EventManager.getInstance().removeEventListener(r.CabdyEvent.EVENT_ACCEPT_NETWORK_DATA,this.acceptNetworkdata,this),game.EventManager.getInstance().removeEventListener(r.CabdyEvent.EVENT_CLEAR_SCORE_NODE,this.clearscorenode,this),game.EventManager.getInstance().removeEventListener(r.CabdyEvent.EVENT_SET_TOTLE_SCORE_LABLE,this.judgeIsViewTotlescore,this),game.EventManager.getInstance().removeEventListener(r.CabdyEvent.EVENT_CREAT_SCATTER_BAR,this.CreateScatterBar,this),game.EventManager.getInstance().removeEventListener(r.CabdyEvent.EVENT_GUNZHOU_SPINCOMPLETE,this._onSpinend,this),game.EventManager.getInstance().removeEventListener(r.CabdyEvent.EVENT_GUNZHOU_SPINSTART,this._onSpineStart,this),game.EventManager.getInstance().removeEventListener(r.CabdyEvent.EVENT_JUDGE_COMBINATION,this.judgecombination,this),game.EventManager.getInstance().removeEventListener(r.CabdyEvent.FREE_GAME_START,this.startfreegame,this),game.EventManager.getInstance().removeEventListener(r.CabdyEvent.FREE_GAME_OVER,this.endfreegame,this),game.EventManager.getInstance().removeEventListener(r.CabdyEvent.CLOSE_SCORE_LABLE,this.closescorelable,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_UPDATE_WINSCORE,this.updateWinSorce,this),game.EventManager.getInstance().removeEventListener(r.CabdyEvent.FREEGAME_NETWORK_STATE,this.getfreegameNetworkstate,this),game.EventManager.getInstance().removeEventListener(r.CabdyEvent.INIT_BEAR_POS,this.initBearPoint,this),game.EventManager.getInstance().removeEventListener(r.CabdyEvent.SET_BANNER_SCORE,this.setBannerScore,this),game.EventManager.getInstance().removeEventListener(r.CabdyEvent.EVENT_LACK_GOLD_CLEAR_BEAR,this.setLackGoldClearBear,this),game.EventManager.getInstance().removeEventListener(r.CabdyEvent.EVENT_CLEAR_BEAR_CALLBACK,this.clearbear,this),game.EventManager.getInstance().removeEventListener(r.CabdyEvent.EVENT_SHOW_BEAR,this.showBear,this)},a([p(cc.Node)],t.prototype,"p_scoreLable",void 0),a([p(cc.Node)],t.prototype,"p_scoreTotleLable",void 0),a([p(cc.Node)],t.prototype,"p_titleEffect",void 0),a([p(cc.Node)],t.prototype,"p_Scatterbear",void 0),a([p(cc.Node)],t.prototype,"p_freegamewin",void 0),a([p(cc.Node)],t.prototype,"p_bannernode",void 0),a([p(cc.Node)],t.prototype,"p_largewinword",void 0),a([p(cc.Node)],t.prototype,"p_wintitleworldtwomult",void 0),a([l],t)}(slot.BaseView);n.default=h,cc._RF.pop()},{"../GameEventName111005601":"GameEventName111005601","../NumAtlasLabel111005601":"NumAtlasLabel111005601"}],JTChildManager111005601:[function(e,t,n){"use strict";cc._RF.push(t,"5719b+lJVtDfYSZeMtE0kix","JTChildManager111005601");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../SpinSlotViewExtend111005601"),r=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.registerClassAlias=function(){return this.registerClass(slot.JTChildFactory.SCROLLER_TYPE,slot.JTScroller),this.registerClass(slot.JTChildFactory.ITEMRENDER_TYPE,a.default),this.registerClass(slot.JTChildFactory.GIRD_TYPE,slot.JTSkinnableGridRender),this.registerClass(slot.JTChildFactory.SCATTER_TYPE,slot.JTScatterGridRender),this.registerClass(slot.JTChildFactory.LINE_TYPE,slot.JTSkinnableRuntimeLineAnimationRender),this},t.prototype.changedLine=function(t,n){e.prototype.changedLine.call(this,t,n)},t}(slot.JTChildFactory);n.default=r,cc._RF.pop()},{"../SpinSlotViewExtend111005601":"SpinSlotViewExtend111005601"}],JTLayerManager111005601:[function(e,t,n){"use strict";cc._RF.push(t,"aa69cmSY1FEmpzsFRlItGKh","JTLayerManager111005601");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.initialize=function(e){this.addChildNode(slot.JTLayerFactory.EFFECT_BELOW_CONTAINER,e);var n=this.addChildNode(slot.JTLayerFactory.LAYER_SORT_SCATTER_STOP_CONTAINER,e),o=this.addChildNode(slot.JTLayerFactory.SCATTER_BLACK_BACK_GROUND,e);this.addChildNode(slot.JTLayerFactory.SKIN_LOADER_CONTAINER,e);var i=this.addChildNode(slot.JTLayerFactory.SCROLLER_MASK_CONTAINER,e);this.addChildNode(slot.JTLayerFactory.SCROLLER_CONTAINER,i);var a=this.addChildNode(slot.JTLayerFactory.LAYER_SORT_SCATTER_PLAY_CONTAINER,e),r=this.addChildNode(slot.JTLayerFactory.LAYER_SORT_STOP_RENDER,e),s=this.addChildNode(slot.JTLayerFactory.SCOLLER_GROUP_BLACK_BACK_GROUND,e),c=(this.addChildNode(t.FRAME_IMAGE_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.LAYER_SORT_PLAY_RENDER,e));this.addChildNode(slot.JTLayerFactory.LINE_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.EFFECT_ABOVE_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.LINE_NUMBER_CONTAINER,e),i.launch(e),s.setup(e.config.getWidth(),e.config.getHeight(),0),o.setup(e.config.getWidth(),e.config.getHeight(),0),n.setupMask(e.config.getWidth(),e.config.getHeight()),a.setupMask(e.config.getWidth(),e.config.getHeight()),r.setupMask(e.config.getWidth(),e.config.getHeight()),c.setupMask(e.config.getWidth(),e.config.getHeight())},t.prototype.registerClassAlias=function(){return this.registerClass(slot.JTLayerFactory.EFFECT_BELOW_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCROLLER_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.LINE_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.GIRD_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCROLLER_MASK_CONTAINER,slot.JTScrollerGroupMask),this.registerClass(slot.JTLayerFactory.EFFECT_ABOVE_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCATTER_GRID_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SKIN_LOADER_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCOLLER_GROUP_BLACK_BACK_GROUND,slot.JTBlackBackGround),this.registerClass(slot.JTLayerFactory.LAYER_SORT_PLAY_RENDER,slot.JTLayerSortMaskContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_STOP_RENDER,slot.JTLayerSortMaskContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_SCATTER_PLAY_CONTAINER,slot.JTLayerSortMaskContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_SCATTER_STOP_CONTAINER,slot.JTLayerSortMaskContainer),this.registerClass(slot.JTLayerFactory.SCATTER_BLACK_BACK_GROUND,slot.JTBlackBackGround),this.registerClass(slot.JTLayerFactory.LINE_NUMBER_CONTAINER,slot.JTGComponent),this.registerClass(t.FRAME_IMAGE_CONTAINER,slot.JTGComponent),this},t.FRAME_IMAGE_CONTAINER=999,t}(slot.JTLayerFactory);n.default=a,cc._RF.pop()},{}],JTLogicFactroy111005601:[function(e,t,n){"use strict";cc._RF.push(t,"045e8hMhx1Mv6JCUAsS9oLb","JTLogicFactroy111005601");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./JTTest111005601"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.adjustFlowOptions=function(){this.childOption(r.default,slot.JTTaskPriority.JTCONVERT_PLAYLINES-1)},a([c],t)}(slot.JTLogicFactroy));n.default=l,cc._RF.pop()},{"./JTTest111005601":"JTTest111005601"}],JTTest111005601:[function(e,t,n){"use strict";cc._RF.push(t,"fc79arM6IJHrZhh+K3BgNv1","JTTest111005601");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../GameEventName111005601"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.addEventListenner=function(){},t.prototype.runningTask=function(){this.caculate(),this.nextStep()},t.prototype.caculate=function(){this.addStepTask(r.CabdyEvent.ROLL_END_STEP_TASK)},a([c],t)}(slot.JTPerformanceTask));n.default=l,cc._RF.pop()},{"../../GameEventName111005601":"GameEventName111005601"}],LanguageInfo111005601:[function(e,t,n){"use strict";cc._RF.push(t,"a7534kriytEJZ/5P6CpM60F","LanguageInfo111005601");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this)},a([s],t)}(slot.LanguageInfoBase));n.default=c,cc._RF.pop()},{}],LanguageInfoTest:[function(e,t,n){"use strict";cc._RF.push(t,"6b3c9HNNWhAPZm6dSW28G1z","LanguageInfoTest");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),a([s],t)}(slot.LanguageInfoBase));n.default=c,cc._RF.pop()},{}],Main111005601:[function(e,t,n){"use strict";cc._RF.push(t,"57d00zdnbpIl73C/PZZzTrK","Main111005601");var o,i,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.UICF=n.UIID=void 0;var s,c=cc._decorator,l=c.ccclass,p=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),console.log(">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>"),game.BaseUIConf.getInstance().mergeUIConf(n.UICF);var t=game.BaseUIConf.getInstance().getUICF();game.UIManager.getInstance().initUIConf(t)},r([l],t)}(slot.MainView));n.default=p,function(e){e[e.BONUS_GAME_POPUP=210101]="BONUS_GAME_POPUP",e[e.FREE_GAME_RESULT=210102]="FREE_GAME_RESULT"}(s=n.UIID||(n.UIID={})),n.UICF=((i={})[s.BONUS_GAME_POPUP]={bundleName:"game_111005601",path:"prefabs/bonusGame/bonusGame",preventKeyboard:!0,preventTouch:!1,quickClose:!1,cache:!0,showType:game.UIShowTypes.UI_FULLSCREEN,openAni:game.UIDefAni.UI_NONE,closeAni:game.UIDefAni.UI_NONE,zOrder:slot.LayerManage.tip},i[s.FREE_GAME_RESULT]={bundleName:"game_111005601",path:"prefabs/freeGameResult/freeGameResult",preventKeyboard:!0,preventTouch:!1,quickClose:!1,cache:!0,showType:game.UIShowTypes.UI_FULLSCREEN,openAni:game.UIDefAni.UI_NONE,closeAni:game.UIDefAni.UI_NONE,zOrder:slot.LayerManage.tip},i),cc._RF.pop()},{}],NumAtlasLabel111005601:[function(e,t,n){"use strict";cc._RF.push(t,"0452atpXL1HG41C7ZUyJq7w","NumAtlasLabel111005601");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),a([s],t)}(slot.CommonNumAtlasBase));n.default=c,cc._RF.pop()},{}],ParticleSpriteFramesRefresh:[function(e,t,n){"use strict";cc._RF.push(t,"6419eyxf2tGuaDKiPegRioS","ParticleSpriteFramesRefresh");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.atlas=null,t.aniFps=15,t.ps=null,t.index=0,t.count=0,t.spriteArray=[],t}return i(t,e),t.prototype.onLoad=function(){this.ps||(this.ps=this.node.getComponent(cc.ParticleSystem)),this.spriteArray=this.atlas.getSpriteFrames(),this.count=this.spriteArray.length,this.schedule(this.refreshSprite,1/this.aniFps,cc.macro.REPEAT_FOREVER)},t.prototype.refreshSprite=function(){this.index>=this.count&&(this.index=0),this.ps.spriteFrame=this.spriteArray[this.index],this.index++},a([c({type:cc.SpriteAtlas,tooltip:"\u56fe\u96c6\u8d44\u6e90"})],t.prototype,"atlas",void 0),a([c({type:cc.Integer,tooltip:"\u6bcf\u79d2\u66ff\u6362\u7c92\u5b50\u8d34\u56fe\u591a\u5c11\u6b21"})],t.prototype,"aniFps",void 0),a([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],ShowCandyCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"6f165S6TDBFKJH43XuFofGO","ShowCandyCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111005601"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spriteFrame=[],t}return i(t,e),t.prototype.onLoad=function(){game.EventManager.getInstance().addEventListener(r.CabdyEvent.EVENT_CHANGE_CANDY_SHOW_IMAGE,this.changeImage,this)},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.CabdyEvent.EVENT_CHANGE_CANDY_SHOW_IMAGE,this.changeImage,this)},t.prototype.changeImage=function(e,t,n){t.getComponent(cc.Sprite).spriteFrame=this.spriteFrame[n-1]},t.prototype.start=function(){},a([l([cc.SpriteFrame])],t.prototype,"spriteFrame",void 0),a([c],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../GameEventName111005601":"GameEventName111005601"}],SpinSlotViewExtend111005601:[function(e,t,n){"use strict";cc._RF.push(t,"32be0vc0edONqUu4Uh58X3x","SpinSlotViewExtend111005601");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../GameEventName111005601"),r=e("./BearCtrl"),s=function(e){function t(){var t=e.call(this)||this;return t._slotFrameAniView=null,t._slotFrameAniViewSign="___SLOT_FRAME_ANI_VIEW_SIGN",t.ID=null,t.lightFrame=null,t.eliminate_data=[],t.tempIndex=0,t.isBlur=!0,t.isFade=!0,t.isFadeMask=!1,t.skinLoader.skeletonNode.scale=1,t}return i(t,e),t.prototype.onPlayAnimation=function(){if(this.data>=10){this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"spawn");var e=this.skinLoader.skeletonNode.getComponent(sp.Skeleton);e.setCompleteListener(function(){e.setAnimation(0,"idle",!1)}),slot.SoundMger.instance.playEffect(a.SOUND_NAME.Free_Add_Sym,!1)}else this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"win")},t.prototype.playFreeAddAni=function(){this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"spawn");var e=this.skinLoader.skeletonNode.getComponent(sp.Skeleton);e.setCompleteListener(function(){e.setAnimation(0,"idle",!1)})},t.prototype.onStopAnimation=function(){this._recoverSlotFrameAniView()},t.prototype.onPlayRewardsAnimation=function(){},t.prototype.onStopRewardsAnimation=function(){t._rewardsView&&t._rewardsView.removeFromParent()},t.prototype._getRewardsAnimation=function(){},t.prototype.addEffectElement=function(){this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"win")},t.prototype.addEffectNeighbor=function(){this.skinLoader.spriteNode.stopAllActions();var e=cc.scaleTo(.2,1.2),t=cc.scaleTo(.2,1),n=cc.callFunc(function(){}.bind(this));this.skinLoader.spriteNode.runAction(cc.sequence(n,e,t))},t.prototype.addNodeScaleEffect=function(){this.skinLoader.spriteNode.stopAllActions();var e=cc.scaleTo(.2,1.2),t=cc.scaleTo(.2,1),n=cc.callFunc(function(){}.bind(this));this.skinLoader.spriteNode.runAction(cc.sequence(n,e,t))},t.prototype.addRendEffectNeighbor=function(e){if(this.skinLoader.spriteNode.stopAllActions(),1==e){var t=cc.moveBy(.2,this.skinLoader.spriteNode.x-4,this.skinLoader.spriteNode.y),n=cc.moveBy(.2,this.skinLoader.spriteNode.x+4,this.skinLoader.spriteNode.y),o=cc.callFunc(function(){}.bind(this));this.skinLoader.spriteNode.runAction(cc.sequence(o,t,n))}else 2==e?(t=cc.moveBy(.2,this.skinLoader.spriteNode.x+4,this.skinLoader.spriteNode.y),n=cc.moveBy(.2,this.skinLoader.spriteNode.x-4,this.skinLoader.spriteNode.y),o=cc.callFunc(function(){}.bind(this)),this.skinLoader.spriteNode.runAction(cc.sequence(o,t,n))):3==e?(t=cc.moveBy(.2,this.skinLoader.spriteNode.x,this.skinLoader.spriteNode.y-4),n=cc.moveBy(.2,this.skinLoader.spriteNode.x,this.skinLoader.spriteNode.y+4),o=cc.callFunc(function(){}.bind(this)),this.skinLoader.spriteNode.runAction(cc.sequence(o,t,n))):4==e&&(t=cc.moveBy(.2,this.skinLoader.spriteNode.x,this.skinLoader.spriteNode.y+4),n=cc.moveBy(.2,this.skinLoader.spriteNode.x,this.skinLoader.spriteNode.y-4),o=cc.callFunc(function(){}.bind(this)),this.skinLoader.spriteNode.runAction(cc.sequence(o,t,n)))},t.prototype.addGreyMarsk=function(){},t.prototype.closeMarsk=function(){},t.prototype._showFrameAniView=function(e,t){var n=this;game.ResLoader.getInstance().loadRes("prefabs/gameItem/_slotFrameAniViewNode",function(n,o){if(!n){var i=cc.instantiate(o);e.node.addChild(i,slot.LayerManage.effect,"effectNode"+t);var a=e.getPosByIndex(t);i.y=a.y,i.x=a.x}},"game_"+core.Global.clientGameId),game.ResLoader.getInstance().loadRes("prefabs/gameItem/strchBear",function(o,i){if(!o){var a=cc.instantiate(i);e.node.addChild(a,slot.LayerManage.effect,"bear"+t);var r=e.getPosByIndex(t);a.y=r.y,a.x=r.x,a.opacity=0,12==n.data&&n.addDataSpine(0)}},"game_"+core.Global.clientGameId)},t.prototype.addDataSpine=function(e){var t=slot.SlotMachineView.instance.node.getChildByName("bear"+this.index);t.opacity=255,t.getComponent(r.default).ChangeBearLanguage(t,e)},t.prototype._getSlotFrameAniView=function(){return this._slotFrameAniView?this._slotFrameAniView:(this._slotFrameAniView=new cc.Node,new slot.AniParam(slot.ANIMATION_TYPE.SKELETON,"skeleton/iconFadeoutFx/iconFadeoutFX",slot.GData.bundleName,"animation"),this._slotFrameAniView)},t.prototype.playAnimaiton=function(e){var t=slot.SlotMachineView.instance.node.getChildByName("effectNode"+this.index);this.ID=e,e>=9&&(e=6),this.setLightBgOpacity(0),game.EventManager.getInstance().raiseEvent(a.mouseEvent.PLAY_BURST_ANI_BEGAN),t?t.getChildByName("elementAnimation")?(this.animationSpineNodeCtrl("tuan_xiaochu2"),t.getChildByName("elementAnimation").opacity=255,t.getChildByName("elementAnimation").getChildByName("animation").getComponent(cc.Animation).play("animation"+e),t.getChildByName("elementAnimation").getChildByName("animation").getComponent(cc.Animation).on("stop",function(){t.getChildByName("elementAnimation").opacity=0},this)):console.log("ywb",t):console.error("ywb","effectNode"+this.index)},t.prototype.animationSpineNodeCtrl=function(){var e=slot.SlotMachineView.instance.node.getChildByName("effectNode"+this.index);if(e){var t=e.getChildByName("elementAnimation").getChildByName("spineNode");t.opacity=255,t.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),t.getComponent(sp.Skeleton).setCompleteListener(function(){"animation"==t.getComponent(sp.Skeleton).animation&&(t.getComponent(sp.Skeleton).setAnimation(0,"None",!1),t.opacity=0)})}else console.error("ywb","effectNode"+this.index)},t.prototype.addAnimationBeforeWin=function(){var e=slot.SlotMachineView.instance.node.getChildByName("effectNode"+this.index);e?e.getChildByName("beforeWinNode")&&this.beforeWinSpineNodeCtrl("tuan_zhongjiang_front"):console.error("ywb","effectNode"+this.index)},t.prototype.beforeWinSpineNodeCtrl=function(e){var t=slot.SlotMachineView.instance.node.getChildByName("effectNode"+this.index);if(t){var n=t.getChildByName("beforeWinNode").getChildByName("spineNode").getComponent(sp.Skeleton);n.node.opacity=255,n.setAnimation(0,e,!1),n.setCompleteListener(function(){n.node.opacity=0})}},t.prototype.addLightBg=function(e){var t=this,n=!0;this.lightFrame&&(n=!1),n?game.ResLoader.getInstance().loadRes("prefabs/gameItem/lightFrame",function(n,o){if(!n){var i=cc.instantiate(o);t.lightFrame=i,t.addEffectNode(i,!1),e?(t.opacity=0,t.eliminate_data.push(t)):t.opacity=255}},"game_"+core.Global.clientGameId):e?(this.opacity=0,this.eliminate_data.push(this)):this.setLightBgOpacity(255)},t.prototype.OpenEliminate=function(){if(0!=this.eliminate_data.length){for(var e=0;e<this.eliminate_data.length;e++)this.eliminate_data[e].opacity=255;this.eliminate_data=[]}},t.prototype.setLightBgOpacity=function(e){this.lightFrame&&(this.lightFrame.opacity=e)},t.prototype.addLineToNode=function(e){var t=slot.SlotMachineView.instance.node.getChildByName("effectNode"+this.index),n=null;if(t){n=t.getChildByName("lineNode");for(var o=1;o<e.length;o++)n.getChildByName(e[o])?n.getChildByName(e[o]).opacity=255:e[o]}else console.error("ywb","effectNode"+this.index)},t.prototype.changeData=function(e){this.data=e},t.prototype._recoverSlotFrameAniView=function(){this._slotFrameAniView&&(this._slotFrameAniView.removeFromParent(),this._slotFrameAniView.active=!1,this._slotFrameAniView=null)},t.prototype.onRollEnd=function(){this.tempIndex=this.index},t.prototype.onOldElemDropEnd=function(){12==this.data&&game.EventManager.getInstance().raiseEvent(a.CabdyEvent.EVENT_SHOW_BEAR,this.tempIndex,!1)},t.prototype.onDropEnd=function(){this.tempIndex=this.index},t._rewardsView=null,t}(slot.SpinSlotView);n.default=s,cc._RF.pop()},{"../GameEventName111005601":"GameEventName111005601","./BearCtrl":"BearCtrl"}],Tool:[function(e,t,n){"use strict";cc._RF.push(t,"ff1f8UR+3xIJ6t3h7aVgrrn","Tool"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../roller/_slotFrameAniViewNodeCtrl"),i=function(){function e(){}return e.cutRepeatdataHandle=function(e,t,n){var o=!0;return e.forEach(function(e){e==t&&(o=!1)}),n.forEach(function(e){e==t&&(o=!1)}),o},e.respDataHandle=function(){var t=e.totalEliminateTime-1,n=e.respData.updateList[0].value.handleState.game_10017.data.resultList,o=[],i=[],a=[],r=[];n[t]?(n[t].spinResult.lineResult,r=n[t].spinResult.lineResult):console.error(t,n);var s=[];r||(r=[]);for(var c=0;c<r.length;c++)for(var l=r[c],p=0;p<l.winPos.length;p++){var h=l.winPos[p].low;s.push(h)}for(o.push(s),c=0;c<o.length;c++){var u=[];for(p=0;p<o[c].length;p++)o[c][p]>6&&this.cutRepeatdataHandle(u,o[c][p]-6,o[c])&&u.push({pos:o[c][p]-6,index:1}),o[c][p]<31&&this.cutRepeatdataHandle(u,o[c][p]+6,o[c])&&u.push({pos:o[c][p]+6,index:2}),o[c][p]>1&&this.cutRepeatdataHandle(u,o[c][p]-1,o[c])&&this.otherTwoDataHandle(o[c][p])&&u.push({pos:o[c][p]-1,index:3}),o[c][p]<35&&this.cutRepeatdataHandle(u,o[c][p]+1,o[c])&&this.otherOneDataHandle(o[c][p])&&u.push({pos:o[c][p]+1,index:4});i.push(u)}for(var d=0;d<i[0].length;d++){var _=slot.SlotMachineView.instance.scroller.getRenderByIndex(i[0][d].pos),f=i[0][d].index;a.push({render:_,type:f})}return a},e.getMoveDataByElimintaion=function(e){for(var t=[],n=[],o=0;o<e.length;o++){for(var i=[],a=0;a<e[o].length;a++)e[o][a]>6&&this.cutRepeatdataHandle(i,e[o][a]-6,e[o])&&i.push({pos:e[o][a]-6,index:1}),e[o][a]<31&&this.cutRepeatdataHandle(i,e[o][a]+6,e[o])&&i.push({pos:e[o][a]+6,index:2}),e[o][a]>1&&this.cutRepeatdataHandle(i,e[o][a]-1,e[o])&&this.otherTwoDataHandle(e[o][a])&&i.push({pos:e[o][a]-1,index:3}),e[o][a]<35&&this.cutRepeatdataHandle(i,e[o][a]+1,e[o])&&this.otherOneDataHandle(e[o][a])&&i.push({pos:e[o][a]+1,index:4});n.push(i)}for(var r=0;r<n[0].length;r++){var s=slot.SlotMachineView.instance.scroller.getRenderByIndex(n[0][r].pos),c=n[0][r].index;t.push({render:s,type:c})}return t},e.otherOneDataHandle=function(e){var t=!0;return e%6==0&&(t=!1),t},e.otherTwoDataHandle=function(e){var t=!0;return(e-1)%6==0&&(t=!1),t},e.drawLineDataHandle=function(e){console.log("\u9700\u8981\u753b\u7ebf\u7684\u6570\u636e",e);var t=this.respData.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult){var n=t[e].spinResult.lineResult,o=[],i=[];n||(n=[]);for(var a=0;a<n.length;a++)n[a].winPos[0]&&o.push(n[a].winPos);for(a=0;a<o.length;a++){var r=o[a];i.push(this.lineDataPush(r))}return i}},e.getAllDataInRoller=function(){for(var e=[],t=0;t<60;t++){var n=slot.SlotMachineView.instance.scroller.getRenderByIndex(t);n&&e.push(n)}return e},e.lineDataPush=function(e){for(var t=[],n=0;n<e.length;n++){var o=e[n];t.push(this.checkOneDataWithSelfLine(o,e))}return t},e.checkOneDataWithSelfLine=function(e,t){var n=this,o=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],i=[];t.forEach(function(t){var i=t;e+6===i?o[2]=!0:e-6===i?o[1]=!0:e-1===i&&n.otherTwoDataHandle(e)?o[0]=!0:e+1===i&&n.otherOneDataHandle(e)&&(o[3]=!0)}),t.forEach(function(t){var i=t;e-5===i&&!o[1]&&n.otherOneDataHandle(e)&&(o[4]=!0),e-5===i&&!o[3]&&n.otherOneDataHandle(e)&&(o[8]=!0),e+7===i&&!o[2]&&n.otherOneDataHandle(e)&&(o[5]=!0),e+7===i&&!o[3]&&n.otherOneDataHandle(e)&&(o[9]=!0),e-7===i&&!o[1]&&n.otherTwoDataHandle(e)&&(o[6]=!0),e-7===i&&!o[0]&&n.otherTwoDataHandle(e)&&(o[10]=!0),e+5===i&&!o[2]&&n.otherTwoDataHandle(e)&&(o[7]=!0),e+5===i&&!o[0]&&n.otherTwoDataHandle(e)&&(o[11]=!0)});var a=slot.SlotMachineView.instance.scroller.getRenderByIndex(e);return i.push(a),o[4]&&i.push("specialDownLeftCurved2"),o[5]&&i.push("specialDownRightCurved2"),o[8]&&i.push("specialDownLeftCurved1"),o[9]&&i.push("specialDownRightCurved1"),o[6]&&(o[4]||(o[3]?i.push("shortLeft2"):i.push("downLeftCurved"))),o[7]&&(o[5]||(o[3]?i.push("shortRight2"):i.push("downRightCurved"))),o[10]&&(o[11]||(o[2]?i.push("shorttop2"):i.push("topRightCurved"))),o[11]&&(o[10]||(o[2]?i.push("shorttop1"):i.push("topLeftCurved"))),o[0]||(o[10]||(o[1]?i.push("shorttop1"):i.push("topLeftCurved")),o[11]||(o[2]?i.push("shorttop2"):i.push("topRightCurved"))),o[1]||(o[6]||o[0]&&i.push("shortLeft1"),o[4]||(o[3]?i.push("shortLeft2"):i.push("downLeftCurved"))),o[2]||(o[5]||(o[3]?i.push("shortRight2"):i.push("downRightCurved")),o[7]||(o[0]?i.push("shortRight1"):i.push("topRightCurved"))),o[3]||(o[8]||(o[1]?i.push("shortDown1"):i.push("downLeftCurved")),o[9]||(o[2]?i.push("shortDown2"):i.push("downRightCurved"))),i},e.getFreeGameFreeTimePosAndTime=function(e){for(var t=this.respData.updateList[0].value.handleState.game_10017.data.resultList[e].spinResult.grid,n=[],o=0;o<t.length;o++){var i=t[o];if(i>=10){var a=slot.SlotMachineView.instance.getPosByIndex(o);10==i&&n.push([a,1]),11==i&&n.push([a,2]),12==i&&n.push([a,3])}}return n},e.bezierAct=function(e,t,n,o,i,a){void 0===a&&(a=null);var r=cc.v2(t.x,t.y),s=[cc.v2(e.x+i,e.y+o),r,cc.v2(t.x,t.y)],c=cc.bezierTo(n,s),l=cc.callFunc(function(){"function"==typeof a&&a()}.bind(this));e.runAction(cc.sequence(c,l))},e.getPosByOtherNode=function(e,t){var n=e.parent.convertToWorldSpaceAR(e.position);return t.convertToNodeSpaceAR(n)},e.getLineNumberByPos=function(e){e+=1;var t=Math.floor(e/7);return 0==e%7?t-1:t},e.getAcrossNumberByPos=function(e){for(var t=0;t<6;t++)for(var n=0;n<6;n++)if(e==6*n+t)return t},e.getLineDataByResp=function(t){for(var n=e.respData.updateList[0].value.handleState.game_10017.data.resultList[t].removePos,o=[],i=0;i<n.length;i++){for(var a=n[i],r=this.getLineNumberByPos(a)+1,s=!0,c=0;c<o.length;c++)r==o[c]&&(s=!1);s&&o.push(r)}return o},e.getFamaleMouseData=function(){var t=[];e.respData.updateList&&(t=1==e.respData.updateList[0].value.handleState.game_10017.data.resultList.length?e.respData.updateList[0].value.handleState.game_10017.data.resultList[e.totalEliminateTime].crushMoveGrid:e.respData.updateList[0].value.handleState.game_10017.data.resultList[e.totalEliminateTime].crushFixedGophersGrid);for(var n=[],o=0;o<t.length;o++){var i=t[o];8==i.elem&&n.push({pos:i.pos,index:o})}return n},e.getLastRespData=function(){var t=[];e.respData&&e.respData.updateList&&(t=e.respData.updateList[0].value.handleState.game_10017.data.resultList);var n=[];return 1==t.length?n=[]:t[0]&&(n=t[t.length-2].crushMoveGrid),n},e.fixedDataDeduplication=function(e){for(var t=[],n=[],o=0;o<e.length;o++){for(var i=e[o],a=!0,r=0;r<this.clearData.length;r++){var s=this.clearData[r];if(i.pos==s.pos){a=!1;break}}a&&t.push(i)}for(o=0;o<t.length;o++)i=t[o],n.push(i);for(o=0;o<this.clearData.length;o++)i=this.clearData[o],n.push(i);return this.clearData=n,t},e.playRollDataBgAni=function(){var e=slot.SlotMachineView.instance.node.parent.parent;this.getAcrossRollData(),e.stopAllActions(),this.setAllLightNode();var t=cc.delayTime(2),n=cc.callFunc(function(){this.setAllLightNode();for(var t=function(t){var i=cc.delayTime(.2*t),a=cc.callFunc(function(){var e=this.acrossNodeArr[t],n=[];t>=1&&(n=this.acrossNodeArr[t-1]);for(var i=function(i){var a=e[i];t>=1&&(n[i].getChildByName("lightBg").active=!1);var r=a.getChildByName("spine").getComponent(sp.Skeleton);a.getComponent(o.default).data<9&&(r.setAnimation(0,"win",!1),r.setCompleteListener(function(){r.setAnimation(0,"win_idle",!0)})),a.getChildByName("lightBg").active=!0},a=0;a<e.length;a++)i(a)}.bind(n));e.runAction(cc.sequence(i,a))},n=this,i=0;i<6;i++)t(i)}.bind(this));e.runAction(cc.repeatForever(cc.sequence(t,n)))},e.setAllLightNode=function(){for(var e=0;e<this.acrossNodeArr.length;e++)for(var t=this.acrossNodeArr[e],n=0;n<t.length;n++){var i=t[n],a=i.getChildByName("spine").getComponent(sp.Skeleton);i.getComponent(o.default).data<9&&a.setToSetupPose(),i.getChildByName("lightBg").active=!1}},e.getAcrossRollData=function(){if(!this.acrossNodeArr[0])for(var e=0;e<6;e++){for(var t=[],n=0;n<6;n++){var o=this.falseRollNode[6*n+e];t.push(o)}this.acrossNodeArr.push(t)}},e.checkThisIsLastRemove=function(){var e=!1,t=this.respData.updateList[0].value.handleState.game_10017.data.resultList.length-1;return this.totalEliminateTime==t&&(e=!0),e},e.respData=null,e.totalEliminateTime=0,e.eliminateTime=0,e.clearData=[],e.falseRollNode=[],e.acrossNodeArr=[],e.testData=[[3,10,17,24,31],[4,5,6,7,14],[25,26,27,28,32],[1,8,15,22,29]],e.data=[[{low:5,high:0,unsigned:!0},{low:6,high:0,unsigned:!0},{low:11,high:0,unsigned:!0},{low:10,high:0,unsigned:!0},{low:12,high:0,unsigned:!0},{low:16,high:0,unsigned:!0},{low:15,high:0,unsigned:!0},{low:14,high:0,unsigned:!0},{low:13,high:0,unsigned:!0},{low:7,high:0,unsigned:!0},{low:17,high:0,unsigned:!0},{low:18,high:0,unsigned:!0},{low:19,high:0,unsigned:!0},{low:20,high:0,unsigned:!0},{low:21,high:0,unsigned:!0},{low:22,high:0,unsigned:!0},{low:23,high:0,unsigned:!0},{low:24,high:0,unsigned:!0},{low:25,high:0,unsigned:!0},{low:26,high:0,unsigned:!0},{low:27,high:0,unsigned:!0},{low:28,high:0,unsigned:!0},{low:29,high:0,unsigned:!0},{low:31,high:0,unsigned:!0},{low:32,high:0,unsigned:!0},{low:33,high:0,unsigned:!0}],[{low:2,high:0,unsigned:!0},{low:3,high:0,unsigned:!0},{low:4,high:0,unsigned:!0},{low:8,high:0,unsigned:!0},{low:9,high:0,unsigned:!0},{low:10,high:0,unsigned:!0}]],e}();n.default=i,cc._RF.pop()},{"../roller/_slotFrameAniViewNodeCtrl":"_slotFrameAniViewNodeCtrl"}],_slotFrameAniViewNodeCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"14682g8rGBD5b3FbWfcqjak","_slotFrameAniViewNodeCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111005601"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.start=function(){game.EventManager.getInstance().addEventListener(r.mouseEvent.MOUSE_MOVE_END,this.mouseMoveEnd,this)},t.prototype.mouseMoveEnd=function(){this.node.getChildByName("clearLightFrame").opacity=0},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.mouseEvent.MOUSE_MOVE_END,this.mouseMoveEnd,this)},a([c],t)}(cc.Component));n.default=l,cc._RF.pop()},{"../GameEventName111005601":"GameEventName111005601"}],animationCallBack:[function(e,t,n){"use strict";cc._RF.push(t,"9bb00SQ52hEKbE8wfIAbOem","animationCallBack");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111005601"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.start=function(){},t.prototype.animationStop=function(){game.EventManager.getInstance().raiseEvent(r.mouseEvent.ANIMATION_STOP_CALL_BACK)},a([c],t)}(cc.Component));n.default=l,cc._RF.pop()},{"../GameEventName111005601":"GameEventName111005601"}],blastationCallBack:[function(e,t,n){"use strict";cc._RF.push(t,"5babal8XcdISqAU7OBw27Fe","blastationCallBack");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return i(t,e),t.prototype.start=function(){},a([c(cc.Label)],t.prototype,"label",void 0),a([c],t.prototype,"text",void 0),a([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],boardCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"e34c9c4bctH4ImoD8q1K7bX","boardCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111005601"),s=e("../main/CommonNumAtlas111005601"),c=e("../tool/Tool"),l=cc._decorator,p=l.ccclass,h=l.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p_nodeWin=null,t.p_nodeWinAni=null,t.beishuk=null,t.beishukAni=null,t.mouseState=0,t.beishukStartPos=cc.v2(2,129),t.beishukParentNode=null,t.boardPos=cc.v2(0,0),t}return i(t,e),t.prototype.onLoad=function(){this.boardPos=cc.v2(this.node.x,this.node.y),this.beishukParentNode=this.beishuk.parent},t.prototype.start=function(){game.EventManager.getInstance().addEventListener(r.mouseEvent.GET_REWARD_BOARD_CALL,this.mouseEvent,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.GET_REWARD_BEFOR,this.boardAndLaybelEvnt,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.INIT_TO_FREE_GAME,this.beishukAnimation,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.FREE_GAME_CLOSE,this.beishukBackAnimation,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.NORMAL_RECONNECTION_DATA,this.reconnetion,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.FREE_RECONNECTION_DATA,this.freeReconnetion,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_STOP_WIN_NUM,this.mouseComeBackAni,this),game.EventManager.getInstance().addEventListener(r.EventName.FREE_GAME_OVER,this._onFreeGameOver,this)},t.prototype.freeReconnetion=function(e,t){var n;n=null==t.handleState.game_10017.data.resultList[0]?t.sumTimes:t.handleState.game_10017.data.resultList[t.handleState.game_10017.data.resultList.length-1].crushRate,this.node.opacity=255,this.p_nodeWin.string="*"+String(n),this.p_nodeWinAni.string="*"+String(n),this.mouseSpine("idle"),this.mouseState=2},t.prototype.reconnetion=function(e,t){var n=t.length;this.node.opacity=255,this.mouseState=1,this.mouseSpine("idle"),this.p_nodeWin.string="*"+String(n),this.p_nodeWinAni.string="*"+String(n)},t.prototype._onFreeGameOver=function(){},t.prototype.mouseEvent=function(e,t){var n=this.node.getComponent(sp.Skeleton),o=this.beishuk.getComponent(sp.Skeleton),i=this.beishukAni.getComponent(sp.Skeleton),a=t+2;0==this.mouseState&&(this.node.opacity=255,n.timeScale=.5,i.setAnimation(0,"animation1",!1),slot.SoundMger.instance.playEffect(r.SOUND_NAME.Mtp_Appear,!1),this.mouseSpine("spawn",function(){n.timeScale=1})),2==this.mouseState&&(0==this.node.opacity&&(this.node.opacity=255,n.timeScale=.5,slot.SoundMger.instance.playEffect(r.SOUND_NAME.Mtp_Appear,!1),this.mouseSpine("spawn",function(){n.timeScale=1})),o.setAnimation(0,"animation2",!1),i.setAnimation(0,"animation1",!1)),1==this.mouseState&&(this.mouseSpine("collect"),i.setAnimation(0,"animation1",!1),o.setAnimation(0,"animation2",!1)),a>=6&&(a=6),slot.SoundMger.instance.playEffect("Mtp_Add_0"+a,!1),this.p_nodeWin.string="*"+String(t+2),this.p_nodeWinAni.string="*"+String(t+2),2!=this.mouseState&&(this.mouseState=1)},t.prototype.mouseSpine=function(e,t){void 0===t&&(t=null);var n=this.node.getComponent(sp.Skeleton);n.setAnimation(0,e,!1),n.setCompleteListener(function(){"idle"!=n.animation&&(n.setAnimation(0,"idle",!0),"function"==typeof t&&t())})},t.prototype.boardAndLaybelEvnt=function(){if(0!=this.mouseState){this.p_nodeWinAni.node.active=!0,this.p_nodeWinAni.node.stopAllActions(),this.p_nodeWinAni.node.setPosition(cc.v2(this.p_nodeWin.x,this.p_nodeWin.y+100)),slot.SoundMger.instance.playEffect(r.SOUND_NAME.Mtp_Effect,!1);var e=cc.scaleTo(.2,5),t=cc.moveBy(.2,cc.v2(0,300)),n=cc.moveBy(.5,cc.v2(0,-500)),o=cc.spawn(e,t),i=cc.callFunc(function(){this.mouseSpine("win"),game.EventManager.getInstance().raiseEvent(r.mouseEvent.OPACITY_END),this.p_nodeWinAni.node.active=!1}.bind(this));this.p_nodeWinAni.node.runAction(cc.sequence(o,n,i))}},t.prototype.beishukAnimation=function(){if(this.mouseState=2,0!=c.default.eliminateTime){var e=cc.scaleTo(.2,3),t=cc.moveBy(.1,cc.v2(0,15)),n=cc.moveBy(.1,cc.v2(0,-15)),o=cc.moveBy(.1,cc.v2(-15,0)),i=cc.moveBy(.1,cc.v2(15,0)),a=cc.moveBy(.1,cc.v2(0,15)),r=cc.moveBy(.1,cc.v2(0,-15)),s=cc.moveBy(.1,cc.v2(15,0)),l=cc.moveBy(.1,cc.v2(-15,0)),p=cc.callFunc(function(){this.mouseSpine("collect");var e=this.beishuk.parent.convertToWorldSpaceAR(this.beishuk.position),t=cc.Canvas.instance.node.convertToNodeSpaceAR(e),n=cc.Canvas.instance.node;this.beishuk.parent=n,this.beishuk.scale=1.2,this.beishuk.zIndex=slot.LayerManage.effect+1,this.beishuk.setPosition(cc.v2(t.x,t.y));var o=cc.scaleTo(.2,.55),i=cc.scaleTo(.2,.65);this.node.runAction(cc.sequence(o,i))}.bind(this)),h=cc.moveBy(.4,cc.v2(0,750)),u=cc.scaleTo(.2,.8,1.4),d=cc.scaleTo(.2,1.4,1.4),_=cc.sequence(u,d),f=cc.spawn(h,_),g=cc.callFunc(function(){}.bind(this));this.beishuk.runAction(cc.sequence(e,t,n,o,i,a,r,s,l,p,f,g))}},t.prototype.beishukBackAnimation=function(){if(0!=c.default.eliminateTime){var e=cc.moveBy(.4,cc.v2(0,-750)),t=cc.scaleTo(.2,.8,1.4),n=cc.scaleTo(.2,1.4,1.4),o=cc.sequence(t,n),i=cc.spawn(e,o),a=cc.callFunc(function(){this.beishuk.parent=this.beishukParentNode,this.beishuk.scale=2.7,this.beishuk.setPosition(cc.v2(this.beishukStartPos.x,this.beishukStartPos.y)),this.beishuk.zIndex=this.p_nodeWinAni.zIndex-1,this.p_nodeWinAni.zIndex=this.beishuk.zIndex+9}.bind(this));this.beishuk.runAction(cc.sequence(i,a))}},t.prototype.mouseComeBackAni=function(){if(2!=this.mouseState){var e=cc.moveBy(.1,cc.v2(0,20)),t=cc.moveBy(.2,cc.v2(0,-60)),n=cc.callFunc(function(){this.node.setPosition(this.boardPos),this.node.opacity=0,this.mouseState=0}.bind(this));this.node.runAction(cc.sequence(e,t,n))}},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.mouseEvent.GET_REWARD_AND_POP_TIME,this.mouseEvent,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.GET_REWARD_BEFOR,this.boardAndLaybelEvnt,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.INIT_TO_FREE_GAME,this.beishukAnimation,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.FREE_GAME_CLOSE,this.beishukBackAnimation,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.NORMAL_RECONNECTION_DATA,this.reconnetion,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_STOP_WIN_NUM,this.mouseComeBackAni,this),game.EventManager.getInstance().removeEventListener(r.EventName.FREE_GAME_OVER,this._onFreeGameOver,this)},a([h(s.default)],t.prototype,"p_nodeWin",void 0),a([h(s.default)],t.prototype,"p_nodeWinAni",void 0),a([h(cc.Node)],t.prototype,"beishuk",void 0),a([h(cc.Node)],t.prototype,"beishukAni",void 0),a([p],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../GameEventName111005601":"GameEventName111005601","../main/CommonNumAtlas111005601":"CommonNumAtlas111005601","../tool/Tool":"Tool"}],carImageCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"7f56622W7xDS7SDSVgAEiAv","carImageCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111005601"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spriteFrame=[],t}return i(t,e),t.prototype.onLoad=function(){game.EventManager.getInstance().addEventListener(r.CabdyEvent.EVENT_CHANGE_IMAGE,this.changeImage,this)},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.CabdyEvent.EVENT_CHANGE_IMAGE,this.changeImage,this)},t.prototype.changeImage=function(e,t,n){t.getComponent(cc.Sprite).spriteFrame=this.spriteFrame[n-1]},t.prototype.start=function(){},a([l([cc.SpriteFrame])],t.prototype,"spriteFrame",void 0),a([c],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../GameEventName111005601":"GameEventName111005601"}],coreCote:[function(e,t,n){"use strict";cc._RF.push(t,"33955n68BxK/4tjjhxEYWXV","coreCote");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111005601"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.animationName=["a","b","c"],t.totalCoin=0,t}return i(t,e),t.prototype.start=function(){game.EventManager.getInstance().addEventListener(r.mouseEvent.GET_RAWARD_FOOD,this.coreCoteListener,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_STOP_WIN_NUM,this.rollerStart,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.NORMAL_RECONNECTION_DATA,this.reconnetion,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.FREE_RECONNECTION_DATA,this.freeReconnetion,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_UPDATE_WIN_ANI_END,this.playStrawberryBg,this)},t.prototype.freeReconnetion=function(e,t){t=t.handleState.game_10017.data.resultList,this.reconnetion(e,t)},t.prototype.reconnetion=function(e,t){for(var n=Number(slot.SlotUtils.formatNumber(slot.SpinManager.instance.betCost)),o=0,i=t,a=0;a<i.length;a++){var r=i[a].spinResult.spinCoin.low;this.totalCoin+=r}this.totalCoin/n>=5&&(o=1);var s="ib_bar_"+this.animationName[o]+"_"+this.node.name;this.setNodeOpacity(255),this.coreCoteSpineCtrl(s)},t.prototype.coreCoteListener=function(e,t,n,o){var i=0,a=null,r=Number(slot.SlotUtils.formatNumber(slot.SpinManager.instance.betCost));if(o[t]){a=Number(slot.SlotUtils.formatNumber(o[t].spinResult.spinCoin.low)),this.totalCoin+=a,this.totalCoin/r>=5&&(i=1);var s="ib_bar_"+this.animationName[i]+"_"+this.node.name;this.setNodeOpacity(255),this.coreCoteSpineCtrl(s)}},t.prototype.rollerStart=function(){this.totalCoin=0,this.fadOutAnimation()},t.prototype.fadOutAnimation=function(){slot.SoundMger.instance.stopEffect(r.SOUND_NAME.Textbox_Coin);var e=cc.fadeOut(.5),t=cc.callFunc(function(){}.bind(this));this.node.runAction(cc.sequence(e,t))},t.prototype.playStrawberryBg=function(){this.coreCoteSpineCtrl("ib_bar_"+this.animationName[2]+"_"+this.node.name)},t.prototype.setNodeOpacity=function(e){this.node.opacity=e},t.prototype.coreCoteSpineCtrl=function(e){var t=this.node.getComponent(sp.Skeleton);t.setAnimation(0,e,!1),t.setEndListener(function(){}.bind(this))},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.mouseEvent.GET_REWARD_AND_POP_TIME,this.coreCoteListener,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_STOP_WIN_NUM,this.rollerStart,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.FREE_RECONNECTION_DATA,this.freeReconnetion,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_UPDATE_WIN_ANI_END,this.playStrawberryBg,this)},a([c],t)}(cc.Component));n.default=l,cc._RF.pop()},{"../GameEventName111005601":"GameEventName111005601"}],femaleMouseCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"fcc38uaRO5LP6DnsWIZ4aZj","femaleMouseCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111005601"),s=e("../tool/Tool"),c=e("./mouseBase"),l=cc._decorator,p=l.ccclass,h=l.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.test=null,t.test2=null,t.mouseNumber=null,t.isInRollSpeed=!1,t}return i(t,e),t.prototype.start=function(){game.EventManager.getInstance().addEventListener(r.mouseEvent.CLEAR_MOUSE_MOVE,this.clearMouseMove,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.GET_REWARD_BEGAN,this.checkIsPrizeAndPlayAni,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.GET_FREE_REWARD_BEGAN_MOUSE_BG,this.playInFreeAni,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.ROLL_ANI_START_WHO,this.playRollAniEvent,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.PLAY_ROLL_ANI_BEGAN,this.playRollAni,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.PLAY_ROLL_ANI_END,this.stopRollAni,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.ROLL_ANI_END,this.rollAniEnd,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.MOUSE_MOVE_POS,this.rollStartMouseMove,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this.event_stop_slot_machine_immediately,this)},t.prototype.checkIsPrizeAndPlayAni=function(){var e=this;if(this.getMoveDataArrByRespForNormal(s.default.totalEliminateTime)!=this.currentRewardPos){var t=0;this.mouseSpineCtrl("win",!1,function(){if(0==t){var n=cc.delayTime(.2),o=cc.callFunc(function(){this.mouseSpineCtrl("win",!1),t++}.bind(e));e.mouse.runAction(cc.sequence(n,o))}})}},t.prototype.playRollAniEvent=function(e,t){t>s.default.getLineNumberByPos(this.currentPos)&&!this.isInRollSpeed&&(this.playRollAni(),this.isInRollSpeed=!0)},t.prototype.playRollAni=function(){this.mouseBgRotateSpineCtrl("animation_back_loop",!0),this.mouseBigPlistSpineCtrl("animation_front_loop",!0),this.scaleAnimation()},t.prototype.stopRollAni=function(){this.stopScaleAnimation(),this.wild_win.active=!1,this.wild_win_front.active=!1},t.prototype.rollAniEnd=function(){this.stopScaleAnimation(),this.wild_win_front.active=!1,this.wild_win.active=!1,this.isInRollSpeed=!1},t.prototype.event_stop_slot_machine_immediately=function(){var e=this;this.scheduleOnce(function(){e.rollAniEnd()},.1)},t.prototype.playInFreeAni=function(){var e=this;this.mouseBgRotateSpineCtrl("animation_back",!1,function(){e.wild_win.active=!1}),this.mouseBigPlistSpineCtrl("animation_front",!1,function(){e.wild_win_front.active=!1})},t.prototype.rollStartMouseMove=function(){2==s.default.respData.state&&this.clearMouseMove("\u514d\u8d39\u6e38\u620f\u5185\u79fb\u52a8",s.default.totalEliminateTime,!0)},t.prototype.clearMouseMove=function(e,t,n){var o=this;if(void 0===n&&(n=null),this.rate=500,null!=this.mouseNumber){var i=0;n?i=this.getMoveDataArrByRespForFree():(this.changeSelfIndex(t),i=this.getMoveDataArrByRespForNormal(t)),this.mouseMove(i,function(){},function(){var e=cc.delayTime(0),t=cc.delayTime(.2),n=cc.callFunc(function(){this.checkThatTimeIsLastTime(),i!=this.currentPos&&(this.mouseLightSpineCtrl(!1),this.mouseBgSpineCtrl("wild_move_back",!1))}.bind(o)),a=cc.callFunc(function(){game.EventManager.getInstance().raiseEvent(r.mouseEvent.MOUSE_MOVE_END)}.bind(o));o.node.runAction(cc.sequence(e,n,t,a))},function(e){s.default.addClearBgLight(i-1);for(var t=0;t<e[0];t++){var n=cc.delayTime(e[1]+t*e[1]),a=cc.callFunc(function(){slot.SoundMger.instance.playEffect(r.SOUND_NAME.Role_Win_Move,!1)}.bind(o));o.node.runAction(cc.sequence(n,a))}},function(){console.error("ywb\u6d88\u9664\u540e\u5730\u9f20\u79fb\u52a8",i)})}},t.prototype.checkThatTimeIsLastTime=function(){var e=s.default.respData.updateList[0].value.handleState.game_10017.data.resultList;this.test2.string=String(s.default.totalEliminateTime)+"-"+String(e.length-1),s.default.totalEliminateTime==e.length-1&&this.changeSelfIndex(s.default.totalEliminateTime,!0)},t.prototype.changeSelfIndex=function(e,t){void 0===t&&(t=null);var n=s.default.respData.updateList[0].value.handleState.game_10017.data.resultList,o=[];t?o=n[e].crushMoveGrid:n[e]&&(o=n[e].crushFixedGophersGrid);for(var i=0;i<o.length;i++)o[i].pos==this.currentPos&&(this.mouseNumber=i,this.test.string=String(i))},t.prototype.getMoveDataArrByRespForNormal=function(e){return s.default.respData.updateList[0].value.handleState.game_10017.data.resultList[e].crushMoveGrid[this.mouseNumber].pos},t.prototype.getMoveDataArrByRespForFree=function(){return s.default.respData.updateList[0].value.handleState.game_10017.data.fixedGophersGrid[this.mouseNumber].pos},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.mouseEvent.CLEAR_MOUSE_MOVE,this.clearMouseMove,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.GET_REWARD_BEGAN,this.checkIsPrizeAndPlayAni,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.GET_FREE_REWARD_BEGAN_MOUSE_BG,this.playInFreeAni,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.ROLL_ANI_START_WHO,this.playRollAniEvent,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.ROLL_ANI_END,this.rollAniEnd,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.MOUSE_MOVE_POS,this.rollStartMouseMove,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.PLAY_ROLL_ANI_BEGAN,this.playRollAni,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.PLAY_ROLL_ANI_END,this.stopRollAni,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this.event_stop_slot_machine_immediately,this)},a([h(cc.Label)],t.prototype,"test",void 0),a([h(cc.Label)],t.prototype,"test2",void 0),a([p],t)}(c.default);n.default=u,cc._RF.pop()},{"../GameEventName111005601":"GameEventName111005601","../tool/Tool":"Tool","./mouseBase":"mouseBase"}],freeAddTimeNodeCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"4ff9dC1FLtFNJ5NeslxelzP","freeAddTimeNodeCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spriteFrame=[],t.sprite=null,t}return i(t,e),t.prototype.start=function(){},t.prototype.changeNodeSpritFrame=function(e){this.sprite.spriteFrame=this.spriteFrame[Number(e)-1]},a([c([cc.SpriteFrame])],t.prototype,"spriteFrame",void 0),a([c(cc.Sprite)],t.prototype,"sprite",void 0),a([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],horseLightCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"a5d20hMnnpHCLmAKZF42eV3","horseLightCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../tool/Tool"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spriteFrame=[],t.en=[],t.th=[],t.id=[],t.sv=[],t.da=[],t.startPos=cc.v2(0,0),t.randomNumberCtrl=null,t.chooseLanguageSp=null,t}return i(t,e),t.prototype.onLoad=function(){switch(slot.GData.curLanguage){case"zh":this.chooseLanguageSp=this.spriteFrame;break;case"en":this.chooseLanguageSp=this.en;break;case"th":this.chooseLanguageSp=this.th;break;case"id":this.chooseLanguageSp=this.id;break;case"sv":this.chooseLanguageSp=this.sv;break;case"da":this.chooseLanguageSp=this.da;break;default:this.chooseLanguageSp=this.en}this.startPos=cc.v2(this.node.x,this.node.y)},t.prototype.start=function(){this.horseLightCtrl(),this.schedule(this.horseLightCtrl,8)},t.prototype.horstActive=function(e,t){this.randomNumberCtrl=t,this.horseLightCtrl()},t.prototype.horstactivector=function(e,t){0==t?this.closehors():this.opensehors()},t.prototype.closehors=function(){this.node.opacity=0},t.prototype.opensehors=function(){this.node.opacity=255},t.prototype.rollStop=function(){this.randomNumberCtrl=null,this.horseLightCtrl()},t.prototype.horseLightCtrl=function(){this.node.setPosition(this.startPos);var e=slot.MathUtil.getRandomRange(1,6,!0),t=slot.MathUtil.getRandomRange(0,1,!0);null!=this.randomNumberCtrl&&(e=this.randomNumberCtrl),r.default.respData&&2==r.default.respData.state&&(e=0==t?0:6),this.node.getComponent(cc.Sprite).spriteFrame=this.chooseLanguageSp[e],this.node.stopAllActions(),e>=3&&e<=4&&this.horseLightAni()},t.prototype.horseLightAni=function(){this.node.x+=50,this.node.stopAllActions();var e=cc.delayTime(2),t=cc.moveBy(5,cc.v2(-800,0)),n=cc.callFunc(function(){}.bind(this));this.node.runAction(cc.sequence(e,t,n))},t.prototype.onDestroy=function(){},a([l([cc.SpriteFrame])],t.prototype,"spriteFrame",void 0),a([l([cc.SpriteFrame])],t.prototype,"en",void 0),a([l([cc.SpriteFrame])],t.prototype,"th",void 0),a([l([cc.SpriteFrame])],t.prototype,"id",void 0),a([l([cc.SpriteFrame])],t.prototype,"sv",void 0),a([l([cc.SpriteFrame])],t.prototype,"da",void 0),a([c],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../tool/Tool":"Tool"}],imgeffectCtral:[function(e,t,n){"use strict";cc._RF.push(t,"7da26FoxCNOw7XyUkm2mF6k","imgeffectCtral");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=e("../GameEventName111005601"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spriteFrame=[],t}return i(t,e),t.prototype.changeImage=function(e,t,n){t.getComponent(cc.Sprite).spriteFrame=this.spriteFrame[n-1]},t.prototype.onLoad=function(){game.EventManager.getInstance().addEventListener(l.CabdyEvent.EVENT_CHANGE_IMAGE_ID,this.changeImage,this)},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(l.CabdyEvent.EVENT_CHANGE_IMAGE_ID,this.changeImage,this)},t.prototype.start=function(){},a([c([cc.SpriteFrame])],t.prototype,"spriteFrame",void 0),a([s],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../GameEventName111005601":"GameEventName111005601"}],lightFrameCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"d516cDkCGdOpbn7UcAm5/X6","lightFrameCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111005601"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){game.EventManager.getInstance().addEventListener(r.mouseEvent.PLAY_BURST_ANI_BEGAN,this.setLightOpacity,this)},t.prototype.start=function(){},t.prototype.setLightOpacity=function(){this.node.opacity=0},t.prototype.onDestroy=function(){},t.prototype.update=function(){},a([c],t)}(cc.Component));n.default=l,cc._RF.pop()},{"../GameEventName111005601":"GameEventName111005601"}],lineNodeCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"964970RvfNK8Jmxh5HnMsH8","lineNodeCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111005601"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.start=function(){game.EventManager.getInstance().addEventListener(r.mouseEvent.ANIMATION_STOP_CALL_BACK,this.lineNodeCtrl,this)},t.prototype.lineNodeCtrl=function(){this.node.children.forEach(function(e){e.opacity=0})},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.mouseEvent.ANIMATION_STOP_CALL_BACK,this.lineNodeCtrl,this)},a([c],t)}(cc.Component));n.default=l,cc._RF.pop()},{"../GameEventName111005601":"GameEventName111005601"}],mouseBase:[function(e,t,n){"use strict";cc._RF.push(t,"30983zTFThPQZi6x0pI3ou9","mouseBase");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111005601"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mouse=null,t.wild_move=null,t.light=null,t.wild_win=null,t.wild_win_front=null,t.mouseSkeleton=null,t.currentPos=0,t.currentRewardPos=0,t.rate=0,t.fastBtnState=2,t}return i(t,e),t.prototype.onLoad=function(){"zh"!=slot.GData.curLanguage&&(this.mouse.getComponent(sp.Skeleton).skeletonData=this.mouseSkeleton)},t.prototype.start=function(){},t.prototype.mouseMove=function(e,t,n,o,i){void 0===t&&(t=null),void 0===n&&(n=null),void 0===o&&(o=null),void 0===i&&(i=null);var a=slot.SlotMachineView.instance.getPosByIndex(e-1);if(a)if(1==this.fastBtnState)this.node.setPosition(a),game.EventManager.getInstance().raiseEvent(r.mouseEvent.MOUSE_BIG_MOVE_END),this.mouseSpineCtrl("idle",!1);else{"function"==typeof t&&t(),this.currentPos=e,this.currentRewardPos=e;var s=this.getAllCellNumber(Math.abs(a.x-this.node.x),Math.abs(a.y-this.node.y)),c=cc.delayTime(1),l=cc.callFunc(function(){"function"==typeof o&&o(s)}.bind(this)),p=cc.moveBy(this.getTimeByRate(Math.abs(a.x-this.node.x)),cc.v2(a.x-this.node.x,0)),h=cc.moveBy(this.getTimeByRate(Math.abs(a.y-this.node.y)),cc.v2(0,a.y-this.node.y)),u=cc.callFunc(function(){"function"==typeof n&&n()}.bind(this));this.node.runAction(cc.sequence(c,l,p,h,u))}else"function"==typeof t&&t(),console.error("ywb\u670d\u52a1\u7aef\u6570\u636e\u5f02\u5e38",e,a)},t.prototype.mouseLightSpineCtrl=function(e,t){var n=this;void 0===t&&(t=null);var o=this.light.getComponent(sp.Skeleton);this.light.active=!0,o.setAnimation(0,"wild_move_front",e),o.setCompleteListener(function(){n.light.active=!1,"function"==typeof t&&t()})},t.prototype.mouseBgSpineCtrl=function(e,t){var n=this,o=this.wild_move.getComponent(sp.Skeleton);this.wild_move.active=!0,o.setAnimation(0,e,t),o.setCompleteListener(function(){n.wild_move.active=!1})},t.prototype.mouseBgRotateSpineCtrl=function(e,t,n){void 0===n&&(n=null);var o=this.wild_win.getComponent(sp.Skeleton);this.wild_win.active=!0,o.setAnimation(0,e,t),o.setCompleteListener(function(){"function"==typeof n&&n()})},t.prototype.mouseBigPlistSpineCtrl=function(e,t,n){void 0===n&&(n=null);var o=this.wild_win_front.getComponent(sp.Skeleton);this.wild_win_front.active=!0,o.setAnimation(0,e,t),o.setCompleteListener(function(){"function"==typeof n&&n()})},t.prototype.mouseSpineCtrl=function(e,t,n){void 0===n&&(n=null);var o=this.mouse.getComponent(sp.Skeleton);o.setAnimation(0,e,t),o.setCompleteListener(function(){"function"==typeof n&&n()})},t.prototype.scaleAnimation=function(){var e=cc.scaleTo(.4,1.1),t=cc.scaleTo(.4,1),n=cc.sequence(e,t);this.mouse.runAction(cc.repeatForever(n))},t.prototype.stopScaleAnimation=function(){this.mouse.stopAllActions(),this.mouse.scale=1},t.prototype.getTimeByRate=function(e){return e/this.rate},t.prototype.getAllCellNumber=function(e,t){var n=e+t,o=Math.floor(n/106);return[o,this.getTimeByRate(n)/o]},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.mouseEvent.ROLL_ANI_END,this.rollAniEnd,this)},a([l(cc.Node)],t.prototype,"mouse",void 0),a([l(cc.Node)],t.prototype,"wild_move",void 0),a([l(cc.Node)],t.prototype,"light",void 0),a([l(cc.Node)],t.prototype,"wild_win",void 0),a([l(cc.Node)],t.prototype,"wild_win_front",void 0),a([l(sp.SkeletonData)],t.prototype,"mouseSkeleton",void 0),a([c],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../GameEventName111005601":"GameEventName111005601"}],mouseCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"f9852Dsc3FNToYg37MLc14i","mouseCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameEventName111005601"),s=e("../tool/Tool"),c=e("./mouseBase"),l=cc._decorator,p=l.ccclass,h=l.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.baiDaLight=null,t.test=null,t.takeDataBool=!0,t.targetPos=null,t.isInRollSpeed=!1,t}return i(t,e),t.prototype.start=function(){game.EventManager.getInstance().addEventListener(r.mouseEvent.MOUSE_MOVE_POS,this.rollStartMouseMove,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.INIT_MOUSE_MOVE_POS,this.initMouseCurrentPos,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.INIT_MOUSE_MOVE_POS_REWARD,this.initMouseCurrentPosReward,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.CLEAR_MOUSE_MOVE,this.clearMouseMove,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.GET_REWARD_BEGAN,this.checkIsPrizeAndPlayAni,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.GET_FREE_REWARD_BEGAN_MOUSE_BG,this.playInFreeAni,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.ROLL_ANI_START_WHO,this.playRollAniEvent,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.ROLL_ANI_END,this.rollAniEnd,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.PLAY_ROLL_ANI_BEGAN,this.playRollAni,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.PLAY_ROLL_ANI_END,this.stopRollAni,this),game.EventManager.getInstance().addEventListener(r.mouseEvent.NOT_HAVE_MONY_OPEN_ROLL,this.notHaveMonyRun,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this.event_stop_slot_machine_immediately,this)},t.prototype.initMouseCurrentPos=function(e,t){this.currentPos=t},t.prototype.initMouseCurrentPosReward=function(e,t){this.currentRewardPos=t},t.prototype.playRollAniEvent=function(e,t){t>s.default.getLineNumberByPos(this.currentPos)&&!this.isInRollSpeed&&(this.playRollAni(),this.isInRollSpeed=!0),this.currentPos},t.prototype.playRollAni=function(){this.mouseBgRotateSpineCtrl("animation_back_loop",!0),this.mouseBigPlistSpineCtrl("animation_front_loop",!0),this.scaleAnimation()},t.prototype.stopRollAni=function(){this.stopScaleAnimation(),this.wild_win.active=!1,this.wild_win_front.active=!1},t.prototype.notHaveMonyRun=function(){this.node.stopAllActions(),this.rate=300;var e=!0,t=slot.SlotMachineView.instance.getPosByIndex(0),n=this.getTimeByRate(Math.abs(t.x-this.node.x))+this.getTimeByRate(Math.abs(t.y-this.node.y)),o=cc.delayTime(n+.4),i=cc.delayTime(2.2),a=cc.delayTime(2.2),r=cc.delayTime(2.2),s=cc.callFunc(function(){var t=this;this.baseMouseMove(1,function(){e&&(e=!1,t.wild_move.active=!0,t.baiDaLight.active=!0,t.mouseSpineCtrl("burrow_start",!1),t.mouseBgSpineCtrl("wild_fastmove_back",!1))})}.bind(this)),c=cc.callFunc(function(){this.moveToAct(7)}.bind(this)),l=cc.callFunc(function(){this.moveToAct(49)}.bind(this)),p=cc.callFunc(function(){this.moveToAct(43)}.bind(this)),h=cc.sequence(s,o,c,i,l,a,p,r);this.node.runAction(cc.repeatForever(h))},t.prototype.moveToAct=function(e){var t=slot.SlotMachineView.instance.getPosByIndex(e-1),n=cc.moveTo(2.12,cc.v2(t.x,t.y));this.node.runAction(n)},t.prototype.baseMouseMove=function(e,t,n){var o=this;void 0===t&&(t=null),void 0===n&&(n=null),this.mouseMove(e,function(){"function"==typeof t&&t()},function(){"function"==typeof n&&n()},function(e){for(var t=function(t){var n=cc.delayTime(e[1]+t*e[1]),i=cc.callFunc(function(){this.mouseBgSpineCtrl("wild_fastmove_back",!1),slot.SoundMger.instance.playEffect(r.SOUND_NAME.Role_Move,!1),t==e[0]-1&&(this.wild_move.active=!1)}.bind(o));o.node.runAction(cc.sequence(n,i))},n=0;n<e[0];n++)t(n)})},t.prototype.btnCloseCallBack=function(){var e=this;this.baseMouseMove(25,function(){e.node.stopAllActions()},function(){e.baiDaLight.active=!1,e.mouseLightSpineCtrl(!1),e.mouseSpineCtrl("burrow_exit",!1),game.EventManager.getInstance().raiseEvent(r.mouseEvent.MOUSE_BIG_MOVE_END)})},t.prototype.rollAniEnd=function(){this.stopScaleAnimation(),this.wild_win_front.active=!1,this.wild_win.active=!1,this.isInRollSpeed=!1},t.prototype.checkIsPrizeAndPlayAni=function(){var e=this;if(this.getMoveDataArrByResp(s.default.totalEliminateTime,9)!=this.currentRewardPos){var t=0;this.mouseSpineCtrl("win",!1,function(){if(0==t){var n=cc.delayTime(.2),o=cc.callFunc(function(){this.mouseSpineCtrl("win",!1),t++}.bind(e));e.mouse.runAction(cc.sequence(n,o))}})}},t.prototype.event_stop_slot_machine_immediately=function(){var e=this;this.scheduleOnce(function(){e.node.stopAllActions(),e.stopScaleAnimation(),e.wild_move.active=!1,e.baiDaLight.active=!1,game.EventManager.getInstance().raiseEvent(r.mouseEvent.MOUSE_BIG_MOVE_END);var t=slot.SlotMachineView.instance.getPosByIndex(e.targetPos-1);e.node.setPosition(t),e.rollAniEnd(),e.mouseSpineCtrl("idle",!1)},.1)},t.prototype.playInFreeAni=function(){var e=this;this.mouseBgRotateSpineCtrl("animation_back",!1,function(){e.wild_win.active=!1}),this.mouseBigPlistSpineCtrl("animation_front",!1,function(){e.wild_win_front.active=!1})},t.prototype.rollStartMouseMove=function(){var e=this,t=0;if(1==s.default.respData.state){for(var n=s.default.respData.updateList[0].value.handleState.game_10017.data.fixedGophersGrid,o=0;o<n.length;o++){var i=n[o];9==i.elem&&(t=i.pos)}this.mouseMoveInNormal(t)}else this.clearMouseMove("\u514d\u8d39\u79fb\u52a8",s.default.totalEliminateTime,function(){},function(){var t=cc.delayTime(.2),n=cc.callFunc(function(){game.EventManager.getInstance().raiseEvent(r.mouseEvent.MOUSE_BIG_MOVE_END)}.bind(e));e.node.runAction(cc.sequence(t,n))},!0)},t.prototype.mouseMoveInNormal=function(e){var t=this;this.rate=300,this.fastBtnState=slot.GameControlBase.instance.fastBtnState;var n=!1;this.targetPos=e,e==this.currentPos&&(n=!0),this.mouseMove(e,function(){t.node.stopAllActions(),t.wild_move.active=!0,t.baiDaLight.active=!0,t.mouseSpineCtrl("burrow_start",!1),t.mouseBgSpineCtrl("wild_fastmove_back",!1)},function(){if(n){var o,i=slot.MathUtil.getRandomRange(1,e-1,!0),a=slot.MathUtil.getRandomRange(e+1,49,!0);o=i==e?a:i,t.mouseMove(o,function(){},function(){t.mouseMove(e,function(){},function(){game.EventManager.getInstance().raiseEvent(r.mouseEvent.MOUSE_BIG_MOVE_END),t.baiDaLight.active=!1,t.mouseLightSpineCtrl(!1),t.mouseSpineCtrl("burrow_exit",!1)},function(e){for(var n=function(n){var o=cc.delayTime(e[1]+n*e[1]),i=cc.callFunc(function(){this.mouseBgSpineCtrl("wild_fastmove_back",!1),slot.SoundMger.instance.playEffect(r.SOUND_NAME.Role_Move,!1),n==e[0]-1&&(this.wild_move.active=!1)}.bind(t));t.node.runAction(cc.sequence(o,i))},o=0;o<e[0];o++)n(o)})},function(e){for(var n=function(n){var o=cc.delayTime(e[1]+n*e[1]),i=cc.callFunc(function(){this.mouseBgSpineCtrl("wild_fastmove_back",!1),slot.SoundMger.instance.playEffect(r.SOUND_NAME.Role_Move,!1),n==e[0]-1&&(this.wild_move.active=!1)}.bind(t));t.node.runAction(cc.sequence(o,i))},o=0;o<e[0];o++)n(o)})}else game.EventManager.getInstance().raiseEvent(r.mouseEvent.MOUSE_BIG_MOVE_END),t.baiDaLight.active=!1,t.mouseLightSpineCtrl(!1),t.mouseSpineCtrl("burrow_exit",!1)},function(e){for(var n=function(n){var o=cc.delayTime(e[1]+n*e[1]),i=cc.callFunc(function(){this.mouseBgSpineCtrl("wild_fastmove_back",!1),slot.SoundMger.instance.playEffect(r.SOUND_NAME.Role_Move,!1),n==e[0]-1&&(this.wild_move.active=!1)}.bind(t));t.node.runAction(cc.sequence(o,i))},o=0;o<e[0];o++)n(o)})},t.prototype.clearMouseMove=function(e,t,n,o,i){var a=this;void 0===n&&(n=null),void 0===o&&(o=null),void 0===i&&(i=null),this.rate=500,this.fastBtnState=2;var c;c=i?this.getMoveDataArrByRespForFree(t,9):this.getMoveDataArrByResp(t,9),this.targetPos=c,console.log("ywb\u516c\u5730\u9f20\u5f53\u524d\u79fb\u52a8\u4f4d\u7f6e\uff1a",this.currentPos,"\u79fb\u52a8\u76ee\u6807\u4f4d\u7f6e\uff1a",c),this.mouseMove(c,function(){"function"==typeof n&&n()},function(){var e=cc.delayTime(0),t=cc.delayTime(.2),n=cc.callFunc(function(){this.mouseLightSpineCtrl(!1),this.mouseBgSpineCtrl("wild_move_back",!1)}.bind(a)),i=cc.callFunc(function(){game.EventManager.getInstance().raiseEvent(r.mouseEvent.MOUSE_MOVE_END)}.bind(a));"function"==typeof o&&o(),a.node.runAction(cc.sequence(e,n,t,i))},function(e){s.default.addClearBgLight(c-1);for(var t=0;t<e[0];t++){var n=cc.delayTime(e[1]+t*e[1]),o=cc.callFunc(function(){slot.SoundMger.instance.playEffect(r.SOUND_NAME.Role_Win_Move,!1)}.bind(a));a.node.runAction(cc.sequence(n,o))}})},t.prototype.assignmentCellData=function(){if(this.takeDataBool){var e=slot.SlotMachineView.instance.scroller.getRenderByIndex(1);this.cellHight=e.height,this.cellWidth=e.width,this.takeDataBool=!1}},t.prototype.getMoveDataArrByResp=function(e,t){for(var n=null,o=s.default.respData.updateList[0].value.handleState.game_10017.data.resultList[e].crushMoveGrid,i=0;i<o.length;i++)if(o[i].elem==t){n=o[i].pos;break}return n},t.prototype.getMoveDataArrByRespForFree=function(e,t){for(var n=s.default.respData.updateList[0].value.handleState.game_10017.data.fixedGophersGrid,o=null,i=0;i<n.length;i++)if(n[i].elem==t){o=n[i].pos,this.test.string=String(i);break}return o},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.mouseEvent.MOUSE_MOVE_POS,this.rollStartMouseMove,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.INIT_MOUSE_MOVE_POS_REWARD,this.initMouseCurrentPosReward,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.INIT_MOUSE_MOVE_POS,this.initMouseCurrentPos,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.CLEAR_MOUSE_MOVE,this.clearMouseMove,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.GET_REWARD_BEGAN,this.checkIsPrizeAndPlayAni,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.GET_FREE_REWARD_BEGAN_MOUSE_BG,this.playInFreeAni,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.ROLL_ANI_START_WHO,this.playRollAniEvent,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.ROLL_ANI_END,this.rollAniEnd,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.PLAY_ROLL_ANI_BEGAN,this.playRollAni,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.PLAY_ROLL_ANI_END,this.stopRollAni,this),game.EventManager.getInstance().removeEventListener(r.mouseEvent.NOT_HAVE_MONY_OPEN_ROLL,this.notHaveMonyRun,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this.event_stop_slot_machine_immediately,this)},a([h(cc.Node)],t.prototype,"baiDaLight",void 0),a([h(cc.Label)],t.prototype,"test",void 0),a([p],t)}(c.default);n.default=u,cc._RF.pop()},{"../GameEventName111005601":"GameEventName111005601","../tool/Tool":"Tool","./mouseBase":"mouseBase"}],test:[function(e,t,n){"use strict";cc._RF.push(t,"e2cfdqRi7RPVoO6BRrRZHNa","test");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.prefab=null,t.spF=null,t.node_cocos=null,t}return i(t,e),t.prototype.start=function(){},t.prototype.btn=function(){this.node_cocos.x=-500,this.node_cocos.getComponent(cc.Sprite).spriteFrame=this.spF,this.putNodeToPlayAction(this.node_cocos)},t.prototype.btn2=function(){},t.prototype.putNodeToPlayAction=function(e){var t=cc.moveTo(2,cc.v2(1e3,0)),n=cc.moveTo(2,cc.v2(-100,0)),o=cc.sequence(t,n);e.runAction(o)},t.checkOneDataWithSelfLine=function(e,t){var n=this,o=[!1,!1,!1,!1],i=[];t.forEach(function(t){var i=t.low;e+7===i?o[2]=!0:e-7===i?o[1]=!0:e-1===i&&n.otherTwoDataHandle(e)?o[0]=!0:e+1===i&&n.otherOneDataHandle(e)&&(o[3]=!0)});var a=slot.SlotMachineView.instance.scroller.getRenderByIndex(e);return i.push(a),o[0]?o[3]||(o[1]||o[2]?(o[1]||i.push("downLeft"),o[2]||i.push("downRight")):i.push("specialDownRight","specialDownLeft")):o[1]||o[2]?(!o[1]&&o[3]?i.push("topLeft"):o[1]||o[3]||i.push("specialTopLeft2","specialDownLeft2"),!o[2]&&o[3]?i.push("topRight"):o[2]||o[3]||i.push("specialTopRight2","specialDownRight2")):i.push("specialTopLeft","specialTopRight"),o[0]||o[1]&&o[2]&&i.push("top"),o[3]||o[1]&&o[2]&&i.push("down"),o[0]&&o[3]&&(o[1]||i.push("left"),o[2]||i.push("right")),i},a([c(cc.Prefab)],t.prototype,"prefab",void 0),a([c(cc.SpriteFrame)],t.prototype,"spF",void 0),a([c(cc.Node)],t.prototype,"node_cocos",void 0),a([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],winscoreCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"2b129MBJo1Fe4CHOJ57wVRH","winscoreCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../NumAtlasLabel111005601"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return i(t,e),t.prototype.start=function(){},t.prototype.setScoeNumer=function(e){this.node.getChildByName("winScore").getComponent(r.default).string=e.string()},a([l(cc.Label)],t.prototype,"label",void 0),a([l],t.prototype,"text",void 0),a([c],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../NumAtlasLabel111005601":"NumAtlasLabel111005601"}]},{},["ParticleSpriteFramesRefresh","Banner111005601","GameEventName111005601","NumAtlasLabel111005601","BonusGame111005601","FreeGameResult","GameBg111005601","CommonNumAtlas111005601","LanguageInfo111005601","LanguageInfoTest","Main111005601","Adaptive111005601","BearCtrl","GameLayer111005601","GameRoller111005601","ShowCandyCtrl","SpinSlotViewExtend111005601","_slotFrameAniViewNodeCtrl","boardCtrl","carImageCtrl","coreCote","femaleMouseCtrl","freeAddTimeNodeCtrl","horseLightCtrl","imgeffectCtral","lineNodeCtrl","mouseBase","mouseCtrl","Cannon","JTChildManager111005601","JTLayerManager111005601","JTLogicFactroy111005601","JTTest111005601","winscoreCtrl","test","Tool","animationCallBack","blastationCallBack","lightFrameCtrl"]);